{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/ts/datePicker.ts","src/ts/index.ts","src/ts/template.ts","src/ts/touch.ts","src/ts/utils.ts"],"names":[],"mappings":"AAAA;;ACAA;;;;;;;;;;;AAEA,IAAA,UAAA,QAAA,SAAA,CAAA;AAEA,IAAA,OAAA,QAAA,YAAA,CAAA;AACA,IAAA,UAAA,QAAA,SAAA,CAAA;;IAeqB,U;;;AAqGjB,wBAAY,OAAZ,EAA4B;AAAA;;AAAA;;AApGpB,eAAA,IAAA,GAAe,EAAf,CAoGoB,CApGD;AACnB,eAAA,OAAA,GAAkB,EAAlB,CAmGoB,CAnGE;AACtB,eAAA,IAAA,GAAe,CAAf,CAkGoB,CAlGF;AAClB,eAAA,QAAA,GAA0B,EAA1B,CAiGoB,CAjGU;AAE9B,eAAA,SAAA,GAAoB,EAApB,CA+FoB,CA/FI;AACxB,eAAA,OAAA,GAAkB,EAAlB,CA8FoB,CA9FE;AAEtB,eAAA,cAAA,GAAsB,IAAtB,CA4FoB,CA5FQ;AAE5B,eAAA,cAAA,GAAgC,EAAhC,CA0FoB,CA1Fe;AAEnC,eAAA,aAAA,GAAsC,EAAtC,CAwFoB,CAxFsB;AAE1C,eAAA,KAAA,GAAa,IAAb,CAsFoB,CAtFD;AAkF3B;AACQ,eAAA,OAAA,GAAkB,CAAlB,CAGoB,CAHC;AACrB,eAAA,YAAA,GAAuB,EAAvB,CAEoB,CAFO;AAI/B,eAAK,GAAL,GAAW,OAAO,MAAP,CAAc;AACrB,yBAAa,OAAK,YADG;AAErB,sBAAU,oBAAI,CAAE,CAFK;AAGrB,qBAAS,mBAAI,CAAE;AAHM,SAAd,EAIT,OAJS,CAAX;AAMA,eAAK,GAAL,CAAS,WAAT,GAAuB,OAAK,GAAL,CAAS,WAAT,GAAuB,CAAvB,IAA4B,OAAK,GAAL,CAAS,WAAT,IAAsB,EAAlD,GACG,OAAK,GAAL,CAAS,WADZ,GAEG,OAAK,YAF/B;AAKA,eAAK,QAAL,GAAgB,OAAK,cAAL,EAAhB;AACA,eAAK,MAAL,GAAc,OAAK,YAAL,EAAd;AAdwB;AAe3B;;;;+BAMa,M,EAAgB;AAC1B,iBAAK,MAAL,GAAc,OAAO,MAAP,CAAc;AACxB,2BAAW,MADa;AAExB,yBAAS,MAFe;AAGxB,6BAAa,KAAK,QAAL,CAAc,GAAd,CAHW;AAIxB,qBAAK,KAAK,GAJc;AAKxB,2BAAW,GALa;AAMxB,0BAAU,oBAAI,CAAE,CANQ;AAOxB,yBAAS,mBAAI,CAAE,CAPS;AAQxB,sBAAM;AARkB,aAAd,EASZ,MATY,CAAd;AAWA;AACA,gBAAG,CAAC,KAAK,OAAL,CAAa,QAAb,CAAsB,KAAK,MAAL,CAAY,GAAlC,CAAJ,EAA2C;AAEvC,qBAAK,OAAL,CAAa,IAAb,CAAkB,KAAK,MAAL,CAAY,GAA9B;AACA,qBAAK,GAAL,IAAU,CAAV;AACA,wBAAQ,GAAR,CAAY,KAAZ,EAAkB,KAAK,GAAvB;AACH;AACD,gBAAG,KAAK,OAAL,CAAa,MAAb,GAAoB,KAAK,GAAL,CAAS,WAAhC,EAA4C;AACxC,wBAAQ,KAAR;AAOA;AACH;AAED,iBAAK,MAAL;AAEA,gBAAI,QAAQ,IAAZ;AACA;AACA,mBAAO;AACH,qBAAK,MAAM,MAAN,CAAa,GADf;AAEH,sBAAM,gBAAI;AACN,0BAAM,IAAN,CAAW,MAAM,MAAN,CAAa,GAAxB;AACH,iBAJE;AAKH,sBAAM,MAAM,IAAN,CAAW,IAAX,CAAgB,KAAhB;AALH,aAAP;AASH;;;iCAEY;AACT,iBAAK,UAAL;AACA,iBAAK,YAAL;AAEH;;;qCAEgB;AACb;AACA,gBAAI,wBAAJ;AACA,gBAAI,QAAQ,KAAK,MAAL,OAAgB,QAAhB,CAAZ;AACA,gBAAI,QAAQ,IAAZ;AACA,gBAAG,CAAC,KAAJ,EAAU;AACN,wBAAQ,KAAK,SAAL,CAAe,SAAS,IAAxB,EAA6B,KAA7B,EAAmC,QAAnC,CAAR;AACA,qBAAK,MAAL,CAAY,KAAZ,EAAkB;AACd,kCAAc,iBADA;AAEd,+BAAW,GAFG;AAGd,+BAAW;AAHG,iBAAlB;AAMH;AAED,iBAAK,IAAL,GAAY,KAAZ;AACH;;;uCAEkB;AACf;AAEA,iBAAK,aAAL,GAAqB,IAArB,CAHe,CAGY;AAE3B,gBAAI,6BAA2B,KAAK,MAAL,CAAY,GAA3C;AACA,gBAAI,UAAU,KAAK,MAAL,OAAgB,UAAhB,CAAd;AACA,gBAAI,iBAAiB,KAAK,MAAL,OAAgB,UAAhB,sBAArB;AACA,gBAAI,QAAQ,IAAZ;AAEA,gBAAG,CAAC,OAAJ,EAAY;AACR,oBAAI,UAAU,KAAK,aAAL,EAAd;AACA,oBAAI,aAAa,KAAK,MAAL,CAAY,OAAZ,CAAoB,IAApB,EAAyB,OAAzB,EACY,OADZ,CACoB,IADpB,EACyB,KAAK,QAD9B,EAEY,OAFZ,CAEoB,IAFpB,EAEyB,KAAK,MAF9B,CAAjB;AAGA;AACA,0BAAU,KAAK,SAAL,CAAe,SAAS,IAAxB,EAA6B,KAA7B,EAAmC,UAAnC,CAAV;AACA,wBAAQ,SAAR,GAAoB,UAApB;AACA,iCAAiB,KAAK,MAAL,OAAgB,UAAhB,sBAAjB;AACA,qBAAK,MAAL,CAAY,cAAZ,EAA2B;AACvB,kCAAc,iBADS;AAEvB,iCAAa;AAFU,iBAA3B;AAIA,oBAAG,CAAC,MAAM,OAAV,EAAkB;AACd,0BAAM,OAAN,GAAgB,MAAM,MAAN,CAAa,YAAb,EAA0B,OAA1B,EAAmC,YAAnD;AACH;AACD,qBAAK,aAAL,GAAqB,WAAW,EAAhC,CAhBQ,CAgB4B;AACpC,qBAAK,aAAL,CAAmB,KAAnB,GAA2B,KAAK,YAAL,EAA3B;AACA,oBAAI,cAAc,KAAK,cAAL,EAAlB,CAlBQ,CAkBiC;AACzC,qBAAK,UAAL,CAAgB,WAAhB;AACA,qBAAK,cAAL;AACH;AAED;AACA,oBAAQ,SAAR,CAAkB,GAAlB,CAAsB,oBAAtB;AACA,iBAAK,aAAL,GAAqB,WAAW,EAAhC,CAnCe,CAmCqB;AACpC,iBAAK,aAAL,CAAmB,KAAnB,GAA2B,KAAK,YAAL,EAA3B;AACH;;;uCAEkB;AACf,gBAAI,QAAQ,EAAZ;AACA,gBAAI,YAAkB,KAAK,MAAL,CAAY,SAAlC;AACA,gBAAI,UAAe,KAAK,MAAL,CAAY,OAA/B;AACA,iBAAI,IAAI,IAAE,YAAU,CAApB,EAAsB,KAAG,UAAQ,CAAjC,EAAmC,GAAnC,EAAuC;AACnC,sBAAM,IAAN,CAAW,CAAX;AACH;AACD,mBAAO,KAAP;AACH;;;wCAEmB;AAChB;AACA,gBAAI,QAAQ,EAAZ;AACA,gBAAI,YAAkB,KAAK,MAAL,CAAY,SAAlC;AACA,gBAAI,UAAe,KAAK,MAAL,CAAY,OAA/B;AACA,iBAAI,IAAI,IAAE,YAAU,CAApB,EAAsB,KAAG,UAAQ,CAAjC,EAAmC,GAAnC,EAAuC;AACnC,sBAAM,IAAN,CAAW,CAAX;AACH;AACD,gBAAI,OAAO,EAAX;AACA,kBAAM,OAAN,CAAc,UAAC,IAAD,EAAM,CAAN,EAAU;AACpB,iEAA2C,IAA3C,WAAoD,IAApD;AACH,aAFD;AAGA;AACA,mBAAO,IAAP;AACH;;;yCAEoB;AACjB;AACA,gBAAI,SAAS,EAAb;AACA,iBAAI,IAAI,IAAE,CAAV,EAAY,KAAG,EAAf,EAAkB,GAAlB,EAAsB;AAClB,uBAAO,IAAP,CAAY,CAAZ;AACH;AACD,gBAAI,OAAO,EAAX;AACA,mBAAO,OAAP,CAAe,UAAC,IAAD,EAAM,CAAN,EAAU;AACrB,oBAAI,QAAQ,QAAM,EAAN,GAAU,IAAV,GAAgB,MAAI,IAAhC;AACA,iEAA2C,IAA3C,WAAoD,KAApD;AACH,aAHD;AAIA;AACA,mBAAO,IAAP;AACH;;;uCAEkB;AACf;AACA,gBAAI,OAAO,EAAX;AACA,iBAAI,IAAI,IAAE,CAAV,EAAY,KAAG,EAAf,EAAkB,GAAlB,EAAsB;AAClB,qBAAK,IAAL,CAAU,CAAV;AACH;AACD,gBAAI,OAAO,EAAX;AACA,iBAAK,OAAL,CAAa,UAAC,IAAD,EAAM,CAAN,EAAU;AACnB,oBAAI,MAAM,QAAM,EAAN,GAAU,IAAV,GAAgB,MAAI,IAA9B;AACA,iEAA2C,IAA3C,WAAoD,GAApD;AACH,aAHD;AAIA;AACA,mBAAO,IAAP;AACH;;;yCAEoB;AACjB,gBAAG,CAAC,KAAK,MAAL,CAAY,WAAhB,EAA4B;AACxB,wBAAQ,KAAR,CAAc,8BAAd;AACA;AACH;AACD,gBAAI,YAAY,KAAK,MAAL,CAAY,WAAZ,CAAwB,KAAxB,CAA8B,GAA9B,CAAhB;AACA,gBAAG,CAAC,SAAD,IAAc,UAAU,MAAV,GAAiB,CAAlC,EAAoC;AAChC,wBAAQ,KAAR,CAAc,0DAAd;AACA;AACH;AAED,gBAAI,UAAU,KAAK,aAAnB;AACA,gBAAI,aAAa,KAAK,SAAL,CAAe,YAAf,EAA4B,OAA5B,CAAjB;AACA;AACA,gBAAI,YAAY,KAAK,cAAL,CAAoB,SAAS,UAAU,CAAV,CAAT,IAAuB,SAAS,KAAK,MAAL,CAAY,SAArB,CAA3C,CAAhB;AACA,iBAAK,MAAL,CAAY,WAAW,CAAX,CAAZ,EAA0B;AACtB,6CAA0B,YAAU,KAAK,OAAzC;AADsB,aAA1B;AAGA;AACA,gBAAI,aAAa,KAAK,cAAL,CAAoB,SAAS,UAAU,CAAV,CAAT,IAAuB,CAA3C,CAAjB;AACA,oBAAQ,GAAR,CAAY,YAAZ,EAAyB,KAAK,OAAL,GAAa,UAAtC;AACA,iBAAK,MAAL,CAAY,WAAW,CAAX,CAAZ,EAA0B;AACtB,6CAA0B,aAAW,KAAK,OAA1C;AADsB,aAA1B;AAIA;AACA,gBAAI,WAAW,KAAK,cAAL,CAAoB,SAAS,UAAU,CAAV,CAAT,IAAuB,CAA3C,CAAf;AACA,iBAAK,MAAL,CAAY,WAAW,CAAX,CAAZ,EAA0B;AACtB,6CAA0B,WAAS,KAAK,OAAxC;AADsB,aAA1B;AAGA,mBAAM;AACF,2BAAW,SADT;AAEF,6BAAa,CAAC,YAAU,KAAK,OAAhB,EAAwB,aAAW,KAAK,OAAxC,EAAgD,WAAS,KAAK,OAA9D;AAFX,aAAN;AAKH;;;mCAEiB,W,EAAgB;AAC9B,gBAAG,CAAC,KAAK,aAAT,EAAuB;AACnB,wBAAQ,KAAR,CAAc,iBAAd;AACA;AACH;AAID,gBAAI,cAAc,KAAK,SAAL,CAAe,aAAf,EAA6B,KAAK,aAAlC,CAAlB;AACA,gBAAI,QAAQ,IAAZ;AACA,wBAAY,OAAZ,CAAoB,UAAC,SAAD,EAAW,CAAX,EAAe;AAC/B,oBAAI,aAAa,MAAM,MAAN,CAAa,YAAb,EAA0B,SAA1B,CAAjB;AAEA,sBAAM,MAAN,CAAa,UAAb,EAAwB;AACpB,kCAAa;AADO,iBAAxB;AAGA;AACA,oBAAI,OAAe,YAAY,WAAZ,CAAwB,CAAxB,CAAnB;AAEA,oBAAI,SAAS,IAAI,QAAA,OAAJ,CAAW,SAAX,CAAb;AACA,uBAAO,UAAP,CAAkB,MAAM,UAAxB;AACA,uBAAO,SAAP,CAAiB,UAAC,CAAD,EAAS,KAAT,EAAyB;AACtC,0BAAM,SAAN,CAAgB,CAAhB,EAAkB,KAAlB,EAAwB,IAAxB,EAA6B,UAA7B;AACH,iBAFD;AAGA,uBAAO,QAAP,CAAgB,UAAC,CAAD,EAAQ,IAAR,EAAuB;AACnC,2BAAO,MAAM,QAAN,CAAe,CAAf,EAAiB,IAAjB,EAAsB,IAAtB,EAA4B,UAA5B,EAAuC,CAAvC,EAAyC,YAAY,SAArD,CAAP;AACA,4BAAQ,GAAR,CAAY,UAAZ,EAAuB,IAAvB;AACH,iBAHD;AAIH,aAlBD;AAoBA,iBAAK,IAAL,CAAU,gBAAV,CAA2B,OAA3B,EAAmC,KAAK,IAAL,CAAU,IAAV,CAAe,KAAf,CAAnC;AAEH;;;qCAEiB;AACd,oBAAQ,GAAR,CAAY,OAAZ;AACH;;;kCAEiB,C,EAAQ,K,EAAe,I,EAAc,M,EAAW;AAC9D,iBAAK,MAAL,CAAY,MAAZ,EAAmB;AACf,8CAA2B,OAAK,QAAM,CAAtC;AADe,aAAnB;AAGH;;;iCAEgB,C,EAAQ,I,EAAc,I,EAAc,M,EAAa,K,EAAe,S,EAAqB;AAClG,mBAAO,OAAK,IAAZ;AACA,gBAAI,MAAM,OAAM,CAAN,GAAQ,KAAK,KAAL,CAAW,OAAO,KAAK,OAAvB,CAAR,GAAyC,KAAK,IAAL,CAAU,OAAO,KAAK,OAAtB,CAAnD;AACA,gBAAI,MAAM,OAAM,CAAN,GAAS,MAAI,CAAb,GAAgB,MAAI,CAA9B;AACA,gBAAI,SAAS,CAAC,MAAI,GAAL,IAAU,CAAV,GAAY,KAAK,OAA9B;AACA,gBAAI,UAAU,CAAd;AACA,gBAAI,eAAe,SAAnB;AACA;AACA;AACA;AACA,gBAAG,KAAK,GAAL,CAAS,IAAT,KAAgB,KAAK,GAAL,CAAS,MAAT,CAAnB,EAAoC;AAChC,uBAAO,MAAI,KAAK,OAAhB;AACA,0BAAU,GAAV;AACH,aAHD,MAGK;AACD,uBAAO,MAAI,KAAK,OAAhB;AACA,0BAAU,GAAV;AACH;AACD;AACA;AACA,gBAAI,SAAS,CAAb;AACA,oBAAQ,KAAR;AACI,qBAAK,CAAL;AAAQ;AACJ,6BAAS,KAAK,aAAL,CAAmB,KAAnB,CAAyB,MAAlC;AACA;AACJ,qBAAK,CAAL;AAAQ;AACJ,6BAAS,EAAT;AACA;AACJ,qBAAK,CAAL;AAAQ;AACJ;AACA;AAEJ;AACI;AAZR;AAcA;AACA;AACA;AACA;AACA,gBAAG,OAAK,IAAE,KAAK,OAAf,EAAuB;AACnB,uBAAO,IAAE,KAAK,OAAd;AACA,0BAAU,CAAV;AACH,aAHD,MAGM,IAAG,KAAK,GAAL,CAAS,IAAT,IAAe,KAAK,GAAL,CAAS,EAAE,SAAO,CAAT,IAAY,KAAK,OAA1B,CAAlB,EAAqD;AACvD,uBAAO,EAAE,SAAO,CAAT,IAAY,KAAK,OAAxB;AACA,0BAAU,EAAE,SAAO,CAAT,CAAV;AACH;AACD,iBAAK,aAAL,CAAmB,KAAnB,IAA4B,OAA5B,CA7CkG,CA6C7D;AACrC,gBAAI,aAAa,KAAK,cAAL,CAAoB,OAApB,CAAjB,CA9CkG,CA8CnD;AAC/C,gBAAG,SAAO,CAAV,EAAY;AACR;AACA,6BAAa,KAAb,IAAsB,KAAK,aAAL,CAAmB,KAAnB,CAAyB,UAAzB,CAAtB;AACH,aAHD,MAGK;AACD,6BAAa,KAAb,IAAsB,aAAW,CAAX,IAAc,EAAd,GAAiB,aAAW,CAA5B,GAA8B,OAAK,aAAW,CAAhB,CAApD;AACH;AACD,iBAAK,MAAL,CAAY,MAAZ,EAAmB;AACf,6CAA2B,IAA3B;AADe,aAAnB;AAIA;AACA,iBAAK,GAAL,CAAS,QAAT,CAAkB,YAAlB;AACA,iBAAK,MAAL,CAAY,QAAZ,CAAqB,YAArB;AACA,iBAAK,KAAL,eAAuB,KAAK,MAAL,CAAY,GAAnC,EAAyC,YAAzC;AACA,mBAAO,IAAP;AACH;;;uCAEqB,O,EAAe;AACjC;AACA;AACA;AACA,mBAAO,IAAE,OAAT;AACH;;;+BAEU;AACP,gBAAI,QAAQ,IAAZ;AACA;AACA,iBAAK,MAAL,CAAY,KAAK,IAAjB,EAAsB;AAClB,2BAAU;AADQ,aAAtB;AAGA,iBAAK,KAAL,CAAW,YAAI;AACX,sBAAM,MAAN,CAAa,MAAM,IAAnB,EAAwB;AACpB,+BAAU;AADU,iBAAxB;AAGH,aAJD,EAIE,GAJF;AAKA;AACA,gBAAI,iBAAiB,KAAK,MAAL,oBAA8B,KAAK,aAAnC,CAArB;AACA,iBAAK,MAAL,CAAY,cAAZ,EAA2B;AACvB,6BAAY;AADW,aAA3B;AAGA,iBAAK,aAAL,CAAmB,SAAnB,CAA6B,MAA7B,CAAoC,oBAApC;AACA,iBAAK,aAAL,CAAmB,SAAnB,CAA6B,GAA7B,CAAiC,oBAAjC;AACA,iBAAK,aAAL,GAAqB,IAArB;AACH;;;6BAEW,G,EAAkB;AAC1B,gBAAG,CAAC,GAAJ,EAAQ;AACJ,oBAAI,8KAAJ;AAIA,wBAAQ,KAAR,CAAc,GAAd;AACA,qBAAK,QAAL,CAAc,GAAd;AACA;AACH;AAED,iBAAK,MAAL,CAAY,KAAK,IAAjB,EAAsB;AAClB,2BAAW,GADO;AAElB,2BAAW;AAFO,aAAtB;AAKA,gBAAI,UAAU,KAAK,MAAL,kBAA2B,GAA3B,CAAd;AAEA,gBAAG,CAAC,OAAJ,EAAY;AACR,oBAAI,gDACK,GADL,2GAAJ;AAIA,wBAAQ,KAAR,CAAc,IAAd;AACA,qBAAK,QAAL,CAAc,IAAd;AACA;AACH;AACD,iBAAK,aAAL,GAAqB,OAArB;AACA,gBAAI,iBAAiB,KAAK,MAAL,oBAA8B,OAA9B,CAArB;AACA,iBAAK,MAAL,CAAY,cAAZ,EAA2B;AACvB,6BAAY;AADW,aAA3B;AAIA,oBAAQ,SAAR,CAAkB,MAAlB,CAAyB,oBAAzB;AACA,oBAAQ,SAAR,CAAkB,MAAlB,CAAyB,oBAAzB;AAEH;;;yCAEoB;AACjB;AACA,gBAAI,UAAU,KAAK,aAAnB;AACA,gBAAI,eAAe,KAAK,SAAL,CAAe,cAAf,EAA8B,OAA9B,CAAnB;AACA,gBAAI,eAAe,CAAnB;AACA,gBAAI,QAAQ,IAAZ;AACA,yBAAa,OAAb,CAAqB,UAAC,UAAD,EAAY,CAAZ,EAAgB;AACjC,wBAAQ,GAAR,CAAY,YAAZ,EAAyB,UAAzB;AACA,2BAAW,gBAAX,CAA4B,OAA5B,EAAoC,UAAC,CAAD,EAAK;AACrC,4BAAQ,GAAR,CAAY,CAAZ;AACA,wBAAG,EAAE,MAAF,CAAS,SAAT,CAAmB,QAAnB,CAA4B,WAA5B,CAAH,EAA4C;AAC5C,iCAAa,OAAb,CAAqB,gBAAO;AAExB,6BAAK,SAAL,CAAe,MAAf,CAAsB,WAAtB;AACH,qBAHD;AAKA,sBAAE,MAAF,CAAS,SAAT,CAAmB,GAAnB,CAAuB,WAAvB;AACA,mCAAe,CAAf;AACH,iBAVD;AAWH,aAbD;AAeA,gBAAI,YAAW,EAAf;AAAA,gBAAmB,UAAU,EAA7B;AACA,oBAAQ,GAAR,CAAY,UAAZ,gBAAmC,KAAK,MAAL,CAAY,GAA/C;AACA,iBAAK,GAAL,eAAqB,KAAK,MAAL,CAAY,GAAjC,EAAuC,UAAC,IAAD,EAAQ;AAC3C,oBAAI,cAAc,KAAK,IAAL,CAAU,MAAM,MAAN,CAAa,SAAvB,CAAlB;AACA,6BAAa,YAAb,EAA2B,SAA3B,GAAuC,WAAvC;AACA,oBAAG,gBAAc,CAAjB,EAAmB;AACf;AACA,gCAAY,WAAZ;AACH,iBAHD,MAGK;AACD,8BAAU,WAAV;AACH;AACJ,aATD;AAWA;AAEH;;;4BApgBM;AACH,mBAAO,KAAK,IAAZ;AACH,S;0BAEO,G,EAAQ;AACZ,iBAAK,IAAL,GAAY,GAAZ;AACH;;;4BAES;AACN,mBAAO,KAAK,OAAZ;AACH,S;0BAEU,G,EAAY;AACnB,iBAAK,OAAL,GAAe,GAAf;AACH;;;4BAEM;AACH,mBAAO,KAAK,IAAZ;AACH,S;0BAEO,G,EAAW;AACf,iBAAK,IAAL,GAAY,GAAZ;AACH;;;4BAEU;AACP,mBAAO,KAAK,QAAZ;AACH,S;0BAEW,G,EAAQ;AAChB,iBAAK,QAAL,GAAgB,GAAhB;AACH;;;4BAEW;AACR,mBAAO,KAAK,SAAZ;AACH,S;0BAEY,G,EAAW;AACpB,iBAAK,SAAL,GAAiB,GAAjB;AACH;;;4BAES;AACN,mBAAO,KAAK,OAAZ;AACH,S;0BAEU,G,EAAW;AAClB,iBAAK,OAAL,GAAe,GAAf;AACH;;;4BAEgB;AACb,mBAAO,KAAK,cAAZ;AACH,S;0BAEiB,G,EAAQ;AACtB,iBAAK,cAAL,GAAsB,GAAtB;AACH;;;4BAEgB;AACb,mBAAO,KAAK,cAAZ;AACH,S;0BAEiB,G,EAAQ;AACtB,iBAAK,cAAL,GAAsB,GAAtB;AACH;;;4BAEe;AACZ,mBAAO,KAAK,aAAZ;AACH,S;0BAEgB,G,EAAQ;AACrB,iBAAK,aAAL,GAAqB,GAArB;AACH;;;4BAEO;AACJ,mBAAO,KAAK,KAAZ;AACH,S;0BAEQ,G,EAAQ;AACb,iBAAK,KAAL,GAAa,GAAb;AACH;;;;EA/FmC,QAAA,O;;AAAxC,QAAA,OAAA,GAAA,UAAA;;;;;;ACpBA,IAAA,eAAA,QAAA,cAAA,CAAA;AAEA,IAAM,cAAc,IAAI,aAAA,OAAJ,EAApB;AAEA,IAAI,UAAU,YAAY,MAAZ,CAAmB;AAC7B,cAAS,kBAAC,IAAD,EAAQ;AACb,gBAAQ,GAAR,CAAY,UAAZ,EAAuB,IAAvB;AACH;AAH4B,CAAnB,CAAd;AAMA,IAAI,UAAU,YAAY,MAAZ,CAAmB;AAC7B,cAAS,kBAAC,IAAD,EAAQ;AACb,gBAAQ,GAAR,CAAY,UAAZ,EAAuB,IAAvB;AACH;AAH4B,CAAnB,CAAd;AAMA,SAAS,gBAAT,CAA0B,SAA1B,EAAqC,CAArC,EAAwC,gBAAxC,CAAyD,OAAzD,EAAiE,YAAI;AAEjE,YAAQ,IAAR;AACH,CAHD;AAKA,SAAS,gBAAT,CAA0B,SAA1B,EAAqC,CAArC,EAAwC,gBAAxC,CAAyD,OAAzD,EAAiE,YAAI;AAEjE,YAAQ,IAAR;AACH,CAHD;;;;ACrBA;;;AAEa,QAAA,IAAA;AAIA,QAAA,KAAA;AASA,QAAA,MAAA,yPAOH,QAAA,KAPG;;;;;;;;;;;ICbQ,M;AAUjB,oBAAY,MAAZ,EAAuB;AAAA;;AAJvB;AACQ,aAAA,IAAA,GAAgB,IAAhB;AACA,aAAA,KAAA,GAAgB,CAAhB;AAGJ,gBAAQ,GAAR,CAAY,MAAZ;AACA,aAAK,OAAL,GAAe,MAAf;AACH;;;;mCAqCiB,E,EAAY;AAC1B;AACA;AACA,oBAAQ,GAAR,CAAY,KAAK,MAAjB;AACA,gBAAI,QAAQ,IAAZ;AACA,kBAAM,MAAN,CAAa,gBAAb,CAA8B,YAA9B,EAA2C,UAAC,CAAD,EAAU;AACjD,sBAAM,gBAAN,CAAuB,CAAvB,EAAyB,EAAzB;AACH,aAFD,EAEE,KAFF;AAGH;;;yCAEwB,C,EAAQ,E,EAAY;AACzC,iBAAK,MAAL,GAAc,EAAE,OAAF,CAAU,CAAV,EAAa,KAA3B;AACA,oBAAQ,GAAR,CAAY,KAAK,MAAjB;AACA,eAAG,CAAH;AACH;;;kCAEgB,E,EAAY;AACzB;AACA,gBAAI,QAAQ,IAAZ;AACA,kBAAM,MAAN,CAAa,gBAAb,CAA8B,WAA9B,EAA0C,UAAC,CAAD,EAAU;AAChD,kBAAE,eAAF;AACA,kBAAE,cAAF;AACA,sBAAM,eAAN,CAAsB,CAAtB,EAAwB,EAAxB;AACH,aAJD,EAIE,KAJF;AAKH;;;wCAEuB,C,EAAQ,E,EAAY;AACxC;AACA,iBAAK,KAAL;AACA,gBAAG,KAAK,KAAL,IAAY,CAAf,EAAiB;AACb,qBAAK,KAAL,GAAa,CAAb;AACA,qBAAK,IAAL,GAAY,IAAZ;AACH;AACD,gBAAG,CAAC,KAAK,IAAT,EAAc;AACd,iBAAK,IAAL,GAAY,KAAZ;AACA;AAEA,iBAAK,KAAL,GAAa,EAAE,OAAF,CAAU,CAAV,EAAa,KAAb,GAAqB,KAAK,OAAvC;AACA,eAAG,CAAH,EAAK,KAAK,KAAV;AACH;;;iCAEe,E,EAAY;AACxB;AACA,gBAAI,QAAQ,IAAZ;AACA,kBAAM,MAAN,CAAa,gBAAb,CAA8B,UAA9B,EAAyC,UAAC,CAAD,EAAU;AAC/C,sBAAM,cAAN,CAAqB,CAArB,EAAuB,EAAvB;AACH,aAFD,EAEE,KAFF;AAIA,kBAAM,MAAN,CAAa,gBAAb,CAA8B,aAA9B,EAA4C,UAAC,CAAD,EAAU;AAClD,sBAAM,cAAN,CAAqB,CAArB,EAAuB,EAAvB;AACH,aAFD,EAEE,KAFF;AAIH;;;uCAEsB,C,EAAQ,E,EAAY;AACvC,iBAAK,MAAL,CAAY,mBAAZ,CAAgC,YAAhC,EAA6C,KAAK,gBAAlD,EAAmE,KAAnE;AACA,iBAAK,MAAL,CAAY,mBAAZ,CAAgC,WAAhC,EAA4C,KAAK,eAAjD,EAAiE,KAAjE;AACA,iBAAK,MAAL,CAAY,mBAAZ,CAAgC,UAAhC,EAA2C,KAAK,cAAhD,EAA+D,KAA/D;AACA,iBAAK,MAAL,CAAY,mBAAZ,CAAgC,aAAhC,EAA8C,KAAK,cAAnD,EAAkE,KAAlE;AAEA,iBAAK,IAAL,GAAY,KAAK,KAAjB;AACA,eAAG,CAAH,EAAM,KAAK,IAAX;AACH;;;4BAjGS;AACN,gBAAG,KAAK,OAAR,EAAgB;AACZ,uBAAO,KAAK,OAAZ;AACH,aAFD,MAEK;AACD,wBAAQ,KAAR,CAAc,qBAAd;AACA,uBAAO,IAAP;AACH;AACJ;;;4BAES;AACN,mBAAO,KAAK,OAAZ;AACH,S;0BAEU,G,EAAW;AAClB,iBAAK,OAAL,GAAe,GAAf;AACH;;;4BAGO;AACJ,mBAAO,KAAK,KAAZ;AACH,S;0BAEQ,G,EAAW;AAChB,iBAAK,KAAL,GAAa,GAAb;AACH;;;4BAEQ;AACL,mBAAO,KAAK,MAAZ;AACH,S;0BAES,G,EAAW;AACjB,iBAAK,MAAL,GAAc,GAAd;AACH;;;;;;AA/CL,QAAA,OAAA,GAAA,MAAA;;;;;;;;;;ACFA;;IACqB,K;AAEjB,qBAAA;AAAA;;AADQ,aAAA,WAAA,GAAsB,EAAtB;AACO;;;;+BAED,G,EAAa,M,EAAY;AACnC,gBAAG,MAAH,EAAU;AACN,uBAAO,OAAO,aAAP,CAAqB,GAArB,CAAP;AACH;AACD,mBAAO,SAAS,aAAT,CAAuB,GAAvB,CAAP;AACH;;;kCAEgB,G,EAAa,M,EAAY;AACtC,gBAAG,MAAH,EAAU;AACN,uBAAO,OAAO,gBAAP,CAAwB,GAAxB,CAAP;AACH;AACD,mBAAO,SAAS,gBAAT,CAA0B,GAA1B,CAAP;AACH;;;kCAEgB,M,EAAa,K,EAAe,S,EAAkB;AAC3D;AACA,gBAAM,OAAO,SAAS,aAAT,CAAuB,KAAvB,CAAb;AACA,iBAAK,SAAL,CAAe,GAAf,CAAmB,SAAnB;AACA,mBAAO,WAAP,CAAmB,IAAnB;AACA,mBAAO,IAAP;AACH;;;+BAEa,M,EAAa,G,EAAW;AAClC;AACA,iBAAI,IAAI,IAAR,IAAgB,GAAhB,EAAoB;AAChB,uBAAO,KAAP,CAAa,IAAb,IAAqB,IAAI,IAAJ,CAArB;AACH;AACJ;;;8BAEY,E,EAAc,O,EAAe;AACtC;AACA,uBAAW,EAAX,EAAe,OAAf;AACH;;;iCAEe,M,EAAc;AAC1B;AACA,gBAAI,OAAO,IAAI,IAAJ,EAAX;AACA,gBAAI,OAAO,KAAK,WAAL,EAAX;AACA,gBAAI,QAAa,KAAK,QAAL,KAAgB,CAAjC;AACA,gBAAI,MAAW,KAAK,OAAL,EAAf;AACA,oBAAQ,SAAO,EAAP,GAAW,KAAX,GAAkB,MAAI,KAA9B;AACA,kBAAM,OAAK,EAAL,GAAS,GAAT,GAAc,MAAI,GAAxB;AACA,mBAAO,CAAC,IAAD,EAAM,KAAN,EAAY,GAAZ,EAAiB,IAAjB,CAAsB,MAAtB,CAAP;AACH;;;4BAEU,S,EAAmB,E,EAAY;AACtC;AACA,gBAAG,KAAK,WAAL,CAAiB,SAAjB,CAAH,EAA+B;AAC3B,qBAAK,WAAL,CAAiB,SAAjB,EAA4B,IAA5B,CAAiC,EAAjC;AACH,aAFD,MAEK;AACD,qBAAK,WAAL,CAAiB,SAAjB,IAA8B,CAAC,EAAD,CAA9B;AACA,wBAAQ,GAAR,CAAY,YAAZ,EAAyB,KAAK,WAAL,CAAiB,SAAjB,CAAzB;AACH;AACJ;;;8BAEY,S,EAA0B;AAAA,8CAAJ,IAAI;AAAJ,oBAAI;AAAA;;AACnC;AACA,gBAAG,KAAK,WAAL,CAAiB,SAAjB,CAAH,EAA+B;AAC3B,qBAAK,WAAL,CAAiB,SAAjB,EAA4B,OAA5B,CAAoC,UAAC,EAAD,EAAI,CAAJ,EAAQ;AACxC,wCAAM,IAAN;AACH,iBAFD;AAGH;AACJ;AAED;;;;4BACW,O,EAAiB,G,EAAa,O,EAAgB;AACrD,gBAAI,OAAO,KAAK,MAAL,CAAY,OAAZ,CAAX;AACA,gBAAI,QAAQ,IAAZ;AACA,gBAAG,CAAC,IAAJ,EAAS;AACL,uBAAO,KAAK,SAAL,CAAe,SAAS,IAAxB,EAA6B,KAA7B,EAAmC,OAAnC,CAAP;AACH;AAED,iBAAK,SAAL,GAAiB,GAAjB;AAEA,iBAAK,MAAL,CAAY,IAAZ,EAAiB;AACb,2BAAU,OADG;AAEb,2BAAW;AAFE,aAAjB;AAKA,iBAAK,KAAL,CAAW,YAAI;AACX,sBAAM,MAAN,CAAa,IAAb,EAAkB;AACd,+BAAW;AADG,iBAAlB;AAGH,aAJD,EAIE,WAAU,IAJZ;AAMA,iBAAK,KAAL,CAAW,YAAI;AACX,sBAAM,MAAN,CAAa,IAAb,EAAkB;AACd,+BAAW;AADG,iBAAlB;AAGH,aAJD,EAIE,CAAC,WAAU,IAAX,IAAiB,GAJnB;AAKH;;;iCAGe,G,EAAa,O,EAAgB;AACzC,gBAAI,UAAU,qBAAd;AACA,iBAAK,GAAL,CAAS,OAAT,EAAkB,GAAlB,EAAuB,OAAvB;AAEH;;;mCAEiB,G,EAAa,O,EAAgB;AAC3C,gBAAI,UAAU,uBAAd;AACA,iBAAK,GAAL,CAAS,OAAT,EAAkB,GAAlB,EAAuB,OAAvB;AAEH;;;;;;AA3GL,QAAA,OAAA,GAAA,KAAA","file":"datePicker.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// 时间选择器核心代码\r\n\r\nimport Utils from './utils';\r\n\r\nimport * as temp from './template';\r\nimport Touchs from './touch';\r\n\r\n// picker参数接口\r\ninterface pickers {\r\n        startYear?: string;\r\n        endYear?: string;\r\n        defaultDate?: string;\r\n        key?: number;\r\n        outFormat ?: string;\r\n        onchange?: Function;\r\n        success?: Function;\r\n        type?: string; //选择器类型：single, range, \r\n\r\n}\r\n\r\nexport default class DatePicker extends Utils {\r\n    private _opt: object = {}; //全局配置\r\n    private _params: object = {}; //初始化配置\r\n    private _key: number = 1; //唯一key\r\n    private _keyList: Array<number> = []; //key列表\r\n\r\n    private _monthStr: string = ''; //月份字符串\r\n    private _dayStr: string = ''; //天数字符串\r\n\r\n    private _currentPicker: any = null; //保存当前显示的选择器\r\n\r\n    private _currentIndexs: Array<number> = [];//保存当前选择的格子索引\r\n\r\n    private _currentValue: Array<number|string> = []; //保存当前选择的值\r\n\r\n    private _mask: any = null; //保存唯一的遮罩\r\n\r\n    get opt(): any{\r\n        return this._opt;\r\n    }\r\n\r\n    set opt(val: any){\r\n        this._opt = val;\r\n    }\r\n\r\n    get params(): pickers{\r\n        return this._params;\r\n    }\r\n\r\n    set params(val: pickers){\r\n        this._params = val;\r\n    }\r\n\r\n    get key(): number{\r\n        return this._key;\r\n    }\r\n\r\n    set key(val: number){\r\n        this._key = val;\r\n    }\r\n\r\n    get keyList(): any{\r\n        return this._keyList;\r\n    }\r\n\r\n    set keyList(val: any){\r\n        this._keyList = val;\r\n    }\r\n\r\n    get monthStr(): string{\r\n        return this._monthStr;\r\n    }\r\n\r\n    set monthStr(val: string){\r\n        this._monthStr = val;\r\n    }\r\n\r\n    get dayStr(): string{\r\n        return this._dayStr;\r\n    }\r\n\r\n    set dayStr(val: string){\r\n        this._dayStr = val;\r\n    }\r\n\r\n    get currentPicker(): any{\r\n        return this._currentPicker;\r\n    }\r\n\r\n    set currentPicker(val: any){\r\n        this._currentPicker = val;\r\n    }\r\n\r\n    get currentIndexs(): any{\r\n        return this._currentIndexs;\r\n    }\r\n\r\n    set currentIndexs(val: any){\r\n        this._currentIndexs = val;\r\n    }\r\n\r\n    get currentValue(): any{\r\n        return this._currentValue;\r\n    }\r\n\r\n    set currentValue(val: any){\r\n        this._currentValue = val;\r\n    }\r\n\r\n    get mask(): any{\r\n        return this._mask;\r\n    }\r\n\r\n    set mask(val: any){\r\n        this._mask = val;\r\n    }\r\n\r\n    // 辅助类变量\r\n    private _height :number = 0; //选择器格子的高度\r\n    private _maxKeyCount :number = 20; //可创建选择器的最大数量\r\n\r\n    constructor(options?: object){\r\n        super();\r\n        this.opt = Object.assign({\r\n            maxKeyCount: this._maxKeyCount,\r\n            onchange: ()=>{},\r\n            success: ()=>{}\r\n        },options);\r\n\r\n        this.opt.maxKeyCount = this.opt.maxKeyCount > 0 && this.opt.maxKeyCount<=20\r\n                                ? this.opt.maxKeyCount\r\n                                : this._maxKeyCount;\r\n        \r\n\r\n        this.monthStr = this.createMonthStr();\r\n        this.dayStr = this.createDayStr();\r\n    }\r\n\r\n    \r\n\r\n    \r\n\r\n    public picker(params?: pickers){\r\n        this.params = Object.assign({ \r\n            startYear: '1990',\r\n            endYear: '2030',\r\n            defaultDate: this.getToday('-'),\r\n            key: this.key,\r\n            outFormat: '-',\r\n            onchange: ()=>{},\r\n            success: ()=>{},\r\n            type: 'range'\r\n        },params);\r\n\r\n        // 保存key值，如果列表的key值过多，禁止创建\r\n        if(!this.keyList.includes(this.params.key)){\r\n\r\n            this.keyList.push(this.params.key);\r\n            this.key+=1;\r\n            console.log('key',this.key)\r\n        }\r\n        if(this.keyList.length>this.opt.maxKeyCount){\r\n            console.error(`\r\n            Error:检测到页面上创建的选择器过多!\r\n            请检查代码是否有问题\r\n            请不要在循环或者事件中重复调用.picker()方法\r\n            若非要如此调用，一定要加上key属性\r\n            建议在外面调用.picker()方法，在里面调用.show()方法显示\r\n            `);\r\n            return;\r\n        }\r\n\r\n        this.render();\r\n\r\n        let _this = this;\r\n        // 返回一个对象,方便调用\r\n        return {\r\n            key: _this.params.key,\r\n            show: ()=>{\r\n                _this.show(_this.params.key);\r\n            },\r\n            hide: _this.hide.bind(_this),\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public render(){ \r\n        this.createMask();\r\n        this.createPicker();\r\n        \r\n    }\r\n\r\n    public createMask(){\r\n        // 创建蒙版\r\n        let maskName = `picker-mask`;\r\n        let $mask = this.select(`.${maskName}`);\r\n        let _this = this;\r\n        if(!$mask){\r\n            $mask = this.createElm(document.body,'div',maskName);\r\n            this.setCss($mask,{\r\n                'transition': '0.3s all linear',\r\n                'opacity': '0',\r\n                'display': 'none'\r\n            });\r\n\r\n        }\r\n\r\n        this.mask = $mask;\r\n    }\r\n\r\n    public createPicker(){ \r\n        // 创建选择器\r\n\r\n        this.currentPicker = null; //每次渲染前都把之前的选择器释放\r\n\r\n        let pickerName = `picker-key-${this.params.key}`;\r\n        let $picker = this.select(`.${pickerName}`);\r\n        let $pickerWrapper = this.select(`.${pickerName} .picker-wrapper`);\r\n        let _this = this;\r\n        \r\n        if(!$picker){\r\n            let yearStr = this.createYearStr();\r\n            let pickerHtml = temp.picker.replace('$1',yearStr)\r\n                                        .replace('$2',this.monthStr)\r\n                                        .replace('$3',this.dayStr);\r\n            // console.log('picker',pickerHtml);\r\n            $picker = this.createElm(document.body,'div',pickerName);\r\n            $picker.innerHTML = pickerHtml;\r\n            $pickerWrapper = this.select(`.${pickerName} .picker-wrapper`);\r\n            this.setCss($pickerWrapper,{\r\n                'transition': '0.3s all linear',\r\n                'transform': 'translateY(100%)'\r\n            });\r\n            if(!_this._height){\r\n                _this._height = _this.select('.date-unit',$picker).clientHeight;\r\n            }\r\n            this.currentPicker = $picker || {}; //保存当前的选择器\r\n            this.currentPicker.years = this.getYearArray();\r\n            let defaultInfo = this.setDefaultView(); //设置默认日期的视图\r\n            this.bindEvents(defaultInfo);\r\n            this.rangeOperation();\r\n        }\r\n\r\n        // 添加显示状态\r\n        $picker.classList.add('__picker-type-show');\r\n        this.currentPicker = $picker || {}; //保存当前的选择器\r\n        this.currentPicker.years = this.getYearArray();\r\n    }\r\n\r\n    public getYearArray(): Array<number>{\r\n        let years = [];\r\n        let startYear: any =  this.params.startYear;\r\n        let endYear: any = this.params.endYear;\r\n        for(let i=startYear-0;i<=endYear-0;i++){\r\n            years.push(i);\r\n        }\r\n        return years;\r\n    }\r\n\r\n    public createYearStr(): string{\r\n        // 创建年\r\n        let years = [];\r\n        let startYear: any =  this.params.startYear;\r\n        let endYear: any = this.params.endYear;\r\n        for(let i=startYear-0;i<=endYear-0;i++){\r\n            years.push(i);\r\n        }\r\n        let html = '';\r\n        years.forEach((item,i)=>{\r\n            html+= `<p class=\"date-unit\" data-month=\"${item}\">${item}年</p>`;\r\n        });\r\n        // console.log('year',html);\r\n        return html;\r\n    }\r\n\r\n    public createMonthStr(): string {\r\n        // 创建月\r\n        let months = [];\r\n        for(let i=1;i<=12;i++){\r\n            months.push(i);\r\n        }\r\n        let html = '';\r\n        months.forEach((item,i)=>{\r\n            let month = item>=10? item: '0'+item;\r\n            html+= `<p class=\"date-unit\" data-month=\"${item}\">${month}月</p>`;\r\n        });\r\n        // console.log('month',html);\r\n        return html;\r\n    }\r\n\r\n    public createDayStr(): string {\r\n        // 创建day\r\n        let days = [];\r\n        for(let i=1;i<=31;i++){\r\n            days.push(i);\r\n        }\r\n        let html = '';\r\n        days.forEach((item,i)=>{\r\n            let day = item>=10? item: '0'+item;\r\n            html+= `<p class=\"date-unit\" data-month=\"${item}\">${day}日</p>`;\r\n        });\r\n        // console.log('day',html);\r\n        return html;\r\n    }\r\n\r\n    public setDefaultView(){\r\n        if(!this.params.defaultDate){\r\n            console.error('Error: 默认日期(defaultDate)不能为空');\r\n            return;\r\n        }\r\n        let dateArray = this.params.defaultDate.split('-');\r\n        if(!dateArray || dateArray.length<3){\r\n            console.error('Error:默认日期(defaultDate)的格式有误,默认格式:2019-01-01 or 2019-1-1');\r\n            return;\r\n        }\r\n        \r\n        let $picker = this.currentPicker;\r\n        let $dateUtils = this.selectAll('.date-item',$picker);\r\n        // year\r\n        let yearIndex = this.currentToIndex(parseInt(dateArray[0])-parseInt(this.params.startYear));\r\n        this.setCss($dateUtils[0],{\r\n            'transform':`translateY(${yearIndex*this._height}px)`\r\n        });\r\n        // month\r\n        let monthIndex = this.currentToIndex(parseInt(dateArray[1])-1);\r\n        console.log('monthIndex',this._height*monthIndex)\r\n        this.setCss($dateUtils[1],{\r\n            'transform':`translateY(${monthIndex*this._height}px)`\r\n        });\r\n\r\n        // month\r\n        let dayIndex = this.currentToIndex(parseInt(dateArray[2])-1);\r\n        this.setCss($dateUtils[2],{\r\n            'transform':`translateY(${dayIndex*this._height}px)`\r\n        });\r\n        return{\r\n            dateArray: dateArray,\r\n            heightArray: [yearIndex*this._height,monthIndex*this._height,dayIndex*this._height]\r\n        } ;\r\n\r\n    }\r\n\r\n    public bindEvents(defaultInfo: any){\r\n        if(!this.currentPicker){\r\n            console.error('Error: 选择器还没有渲染');\r\n            return;\r\n        }\r\n\r\n\r\n\r\n        let $dateGroups = this.selectAll('.date-group',this.currentPicker);\r\n        let _this = this;\r\n        $dateGroups.forEach((dateGroup,i)=>{\r\n            let $dateUtils = _this.select('.date-item',dateGroup);\r\n            \r\n            _this.setCss($dateUtils,{\r\n                'transition':'0.1s all linear' \r\n            });\r\n            // 注意：EndY的值不应该为0，而是调用默认视图函数后的距离\r\n            let EndY: number = defaultInfo.heightArray[i];\r\n\r\n            let touchs = new Touchs(dateGroup);\r\n            touchs.touchStart(_this.touchStart);\r\n            touchs.touchMove((e: any, range: number)=>{\r\n                _this.touchMove(e,range,EndY,$dateUtils);\r\n            });\r\n            touchs.touchEnd((e:any, endY: number)=>{\r\n                EndY = _this.touchEnd(e,endY,EndY, $dateUtils,i,defaultInfo.dateArray);\r\n                console.log('touchEnd',EndY)\r\n            })\r\n        });\r\n\r\n        this.mask.addEventListener('click',this.hide.bind(_this));\r\n\r\n    }\r\n\r\n    private touchStart(){\r\n        console.log('start');\r\n    }\r\n\r\n    private touchMove(e: any, range: number, EndY: number, target: any){\r\n        this.setCss(target,{\r\n            'transform': `translateY(${EndY+range*1}px)`\r\n        });\r\n    }\r\n\r\n    private touchEnd(e: any, endY: number, EndY: number, target: any, Index: number, dateArray: Array<any>){\r\n        EndY = EndY+endY;\r\n        let min = EndY >0?Math.floor(EndY / this._height): Math.ceil(EndY / this._height);\r\n        let max = EndY >0? min+1: min-1;\r\n        let middle = (max+min)/2*this._height;\r\n        let current = 0;\r\n        let currentValue = dateArray;\r\n        // console.log('min',min);\r\n        // console.log('middle',middle);\r\n        // console.log('EndY', EndY);\r\n        if(Math.abs(EndY)>=Math.abs(middle)){\r\n            EndY = max*this._height;\r\n            current = max;\r\n        }else{\r\n            EndY = min*this._height;\r\n            current = min;\r\n        }\r\n        // 关于格子的数量\r\n        // 只有年和日是变化的，月份都是固定的(12)\r\n        var counts = 0;\r\n        switch (Index) {\r\n            case 0: //年\r\n                counts = this.currentPicker.years.length;\r\n                break;\r\n            case 1: //月\r\n                counts = 12;\r\n                break;\r\n            case 2: //日\r\n                // Todo\r\n                break;\r\n        \r\n            default:\r\n                break;\r\n        }\r\n        // 逻辑：\r\n        // 根据页面个结构，每个选择器只显示3个格子，所以中心的是2\r\n        // 那么头部不能超过的距离是 1*height\r\n        // 底部不能超过的距离是-(格子数量-2)*height\r\n        if(EndY>1*this._height){\r\n            EndY = 1*this._height;\r\n            current = 1;\r\n        }else if(Math.abs(EndY)>Math.abs(-(counts-2)*this._height)){\r\n            EndY = -(counts-2)*this._height;\r\n            current = -(counts-2);\r\n        }\r\n        this.currentIndexs[Index] = current; //保存当前的格子索引\r\n        let arrayIndex = this.currentToIndex(current); //把格子索引转成数组索引\r\n        if(Index==0){\r\n            // 只有年需要从数组中读取值\r\n            currentValue[Index] = this.currentPicker.years[arrayIndex];\r\n        }else{\r\n            currentValue[Index] = arrayIndex+1>=10?arrayIndex+1:'0'+(arrayIndex+1);\r\n        }\r\n        this.setCss(target,{\r\n            'transform': `translateY(${EndY}px)`\r\n        });\r\n\r\n        // 调用onchange回调\r\n        this.opt.onchange(currentValue);\r\n        this.params.onchange(currentValue);\r\n        this.$emit(`onchange_${this.params.key}`,currentValue);\r\n        return EndY;\r\n    }\r\n\r\n    public currentToIndex(current: number){\r\n        // 逻辑：\r\n        // 根据页面布局，得来第一个格子是正数，其他的距离都是负数\r\n        // 所以可以通过(1-current)来获取当前格子数组的索引\r\n        return 1-current;\r\n    }\r\n\r\n    public hide(){\r\n        let _this = this;\r\n        // 关闭遮罩\r\n        this.setCss(this.mask,{\r\n            'opacity':'0'\r\n        });\r\n        this.sleep(()=>{\r\n            _this.setCss(_this.mask,{\r\n                'display':'none'\r\n            });\r\n        },300);\r\n        // 关闭选择器\r\n        let $pickerWrapper = this.select(`.picker-wrapper`,this.currentPicker);\r\n        this.setCss($pickerWrapper,{\r\n            'transform':'translateY(100%)'\r\n        });\r\n        this.currentPicker.classList.remove('__picker-type-show');\r\n        this.currentPicker.classList.add('__picker-type-hide');\r\n        this.currentPicker = null;\r\n    }\r\n\r\n    public show(key: number|string){\r\n        if(!key){\r\n            let tip = `\r\n            show方法一定要传入key值\r\n            该值与picker方法的key参数一致\r\n            `;\r\n            console.error(tip);\r\n            this.errorTip(tip);\r\n            return;\r\n        }\r\n\r\n        this.setCss(this.mask,{\r\n            'opacity': '1',\r\n            'display': 'block'\r\n        })\r\n\r\n        let $picker = this.select(`.picker-key-${key}`);\r\n        \r\n        if(!$picker){\r\n            let tip = `\r\n            没有该key(${key})值的选择器\r\n            请检查是否写错!\r\n            `;\r\n            console.error(tip);\r\n            this.errorTip(tip);\r\n            return;\r\n        }\r\n        this.currentPicker = $picker;\r\n        let $pickerWrapper = this.select(`.picker-wrapper`,$picker);\r\n        this.setCss($pickerWrapper,{\r\n            'transform':'translateY(0px)'\r\n        });\r\n\r\n        $picker.classList.remove('__picker-type-hide');\r\n        $picker.classList.remove('__picker-type-show');\r\n\r\n    }\r\n\r\n    public rangeOperation(){\r\n        // 时间区间选择器的逻辑事件\r\n        let $picker = this.currentPicker;\r\n        let $rangeChilds = this.selectAll('.range-child',$picker);\r\n        let currentIndex = 0;\r\n        let _this = this;\r\n        $rangeChilds.forEach((rangeChild,i)=>{\r\n            console.log('rangeChild',rangeChild);\r\n            rangeChild.addEventListener('click',(e)=>{\r\n                console.log(e)\r\n                if(e.target.classList.contains('range-act'))return;\r\n                $rangeChilds.forEach(item => {\r\n\r\n                    item.classList.remove('range-act')\r\n                });\r\n\r\n                e.target.classList.add('range-act');\r\n                currentIndex = i;\r\n            })\r\n        });\r\n\r\n        let startTime ='', endTime = '';\r\n        console.log('onchange',`onchange_${this.params.key}`)\r\n        this.$on(`onchange_${this.params.key}`,(data)=>{\r\n            let currentDate = data.join(_this.params.outFormat);\r\n            $rangeChilds[currentIndex].innerHTML = currentDate;\r\n            if(currentIndex==0){\r\n                // 开始日期\r\n                startTime = currentDate; \r\n            }else{\r\n                endTime = currentDate;\r\n            }\r\n        });\r\n\r\n        // \r\n\r\n    }\r\n}","import DatePicker from './datePicker';\r\n\r\nconst datePicker1 = new DatePicker();\r\n\r\nlet picker1 = datePicker1.picker({\r\n    onchange:(data)=>{\r\n        console.log('onchange',data);\r\n    }\r\n});\r\n\r\nlet picker2 = datePicker1.picker({\r\n    onchange:(data)=>{\r\n        console.log('onchange',data);\r\n    }\r\n});\r\n\r\ndocument.querySelectorAll('.picker')[0].addEventListener('click',()=>{\r\n\r\n    picker1.show();\r\n})\r\n\r\ndocument.querySelectorAll('.picker')[1].addEventListener('click',()=>{\r\n\r\n    picker2.show();\r\n})\r\n","// 模板字符串\r\n\r\nexport const mask = `\r\n<div class=\"picker-mask\"></div>\r\n`;\r\n\r\nexport const range = `\r\n<div class=\"picker-range\">\r\n    <p class=\"range-child start-time range-act\">开始日期</p>\r\n    <span>至</span>\r\n    <p class=\"range-child end-time\">结束日期</p>\r\n</div>\r\n`;\r\n\r\n\r\nexport const picker = `\r\n<div class=\"picker-wrapper\">\r\n    <div class=\"picker-head flex space-between\">\r\n        <span class=\"cancel\">取消</span>\r\n        <span class=\"sure\">确定</span>\r\n    </div>\r\n    <div class=\"picker-body\">\r\n        ${range}\r\n\r\n        <div class=\"date-content flex\">\r\n\r\n            <div class=\"date-group flex-item\">\r\n                    <div class=\"content-mask mask-top\"></div>\r\n                    <div class=\"content-mask mask-bottom\"></div>\r\n                    <div class=\"date-item \">\r\n                        $1\r\n                    </div>\r\n            </div>\r\n            <div class=\"date-group flex-item\">\r\n                <div class=\"content-mask mask-top\"></div>\r\n                <div class=\"content-mask mask-bottom\"></div>\r\n                <div class=\"date-item\">\r\n                    $2\r\n                </div>\r\n            </div>\r\n            <div class=\"date-group flex-item\">\r\n                <div class=\"content-mask mask-top\"></div>\r\n                <div class=\"content-mask mask-bottom\"></div>\r\n                <div class=\"date-item\">\r\n                    $3\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n`;\r\n\r\n","import { resolve } from \"any-promise\";\r\n\r\nexport default class Touchs {\r\n    private _target: any;\r\n    private _startY: number;\r\n    private _endY: number;\r\n    private _range: number;\r\n\r\n    // 辅助类参数\r\n    private bool: boolean = true;\r\n    private limit: number = 0;\r\n\r\n    constructor(target: any){\r\n        console.log('init')\r\n        this._target = target;\r\n    }\r\n\r\n    get target(): any{\r\n        if(this._target){\r\n            return this._target\r\n        }else{\r\n            console.error('Error: 没有找到target对象');\r\n            return null\r\n        }\r\n    }\r\n\r\n    get startY(): number{\r\n        return this._startY;\r\n    }\r\n\r\n    set startY(val: number){\r\n        this._startY = val;\r\n    }\r\n\r\n    \r\n    get endY(): number{\r\n        return this._endY; \r\n    }\r\n    \r\n    set endY(val: number) {\r\n        this._endY = val;\r\n    }\r\n\r\n    get range(): number {\r\n        return this._range;\r\n    }\r\n\r\n    set range(val: number){\r\n        this._range = val;\r\n    }\r\n\r\n\r\n    public touchStart(cb: Function){\r\n        // touchstart:\r\n        // 1. 给target绑定touch事件\r\n        console.log(this.target)  \r\n        let _this = this;\r\n        _this.target.addEventListener('touchstart',(e: any)=>{\r\n            _this.touchStartHander(e,cb);\r\n        },false)\r\n    }\r\n\r\n    private touchStartHander(e: any, cb: Function){\r\n        this.startY = e.touches[0].pageY;\r\n        console.log(this.startY);\r\n        cb(e);\r\n    }\r\n\r\n    public touchMove(cb: Function){\r\n        // touchmove\r\n        let _this = this;\r\n        _this.target.addEventListener('touchmove',(e: any)=>{\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            _this.touchMoveHander(e,cb);\r\n        },false)\r\n    }\r\n\r\n    private touchMoveHander(e: any, cb: Function){\r\n        // 限流-start\r\n        this.limit++;\r\n        if(this.limit>=5){\r\n            this.limit = 0;\r\n            this.bool = true;\r\n        }\r\n        if(!this.bool)return;\r\n        this.bool = false;\r\n        // 限流-end\r\n        \r\n        this.range = e.touches[0].pageY - this._startY;\r\n        cb(e,this.range);\r\n    }\r\n\r\n    public touchEnd(cb: Function){\r\n        // touchend\r\n        let _this = this;\r\n        _this.target.addEventListener('touchend',(e: any)=>{\r\n            _this.touchEndHander(e,cb);\r\n        },false);\r\n\r\n        _this.target.addEventListener('touchcancel',(e: any)=>{\r\n            _this.touchEndHander(e,cb);\r\n        },false);\r\n\r\n    }\r\n\r\n    private touchEndHander(e: any, cb: Function){\r\n        this.target.removeEventListener('touchstart',this.touchStartHander,false);\r\n        this.target.removeEventListener('touchmove',this.touchMoveHander,false);\r\n        this.target.removeEventListener('touchend',this.touchEndHander,false);\r\n        this.target.removeEventListener('touchcancel',this.touchEndHander,false);\r\n        \r\n        this.endY = this.range; \r\n        cb(e, this.endY);\r\n    }\r\n}","// 工具类\r\nexport default class Utils {\r\n    private _eventLists: object = {};\r\n    constructor(){}\r\n\r\n    public select(elm: string, target?: any){\r\n        if(target){\r\n            return target.querySelector(elm);\r\n        }\r\n        return document.querySelector(elm);\r\n    }\r\n\r\n    public selectAll(elm: string, target?: any){\r\n        if(target){\r\n            return target.querySelectorAll(elm);\r\n        }\r\n        return document.querySelectorAll(elm);\r\n    }\r\n\r\n    public createElm(target: any, label: string, className?: string){\r\n        // 创建元素\r\n        const $elm = document.createElement(label);\r\n        $elm.classList.add(className);\r\n        target.appendChild($elm);\r\n        return $elm;\r\n    }\r\n\r\n    public setCss(target: any, css: object){\r\n        // 设置css样式\r\n        for(let attr in css){\r\n            target.style[attr] = css[attr];\r\n        }\r\n    }\r\n\r\n    public sleep(cb: Function, timeout: number){\r\n        // 延迟\r\n        setTimeout(cb, timeout);\r\n    }\r\n\r\n    public getToday(format: string): string{\r\n        // 获取今天的日期: 2019-01-01\r\n        let date = new Date();\r\n        let year = date.getFullYear();\r\n        let month: any = date.getMonth()+1;\r\n        let day: any = date.getDate();\r\n        month = month>=10? month: '0'+month;\r\n        day = day>=10? day: '0'+day;\r\n        return [year,month,day].join(format);\r\n    }\r\n\r\n    public $on(eventName: string, fn: Function){\r\n        // 订阅事件\r\n        if(this._eventLists[eventName]){\r\n            this._eventLists[eventName].push(fn);\r\n        }else{\r\n            this._eventLists[eventName] = [fn];\r\n            console.log('eventLists',this._eventLists[eventName]);\r\n        }\r\n    }\r\n\r\n    public $emit(eventName: string, ...args){\r\n        // 触发事件\r\n        if(this._eventLists[eventName]){\r\n            this._eventLists[eventName].forEach((fn,i)=>{\r\n                fn(...args);\r\n            })\r\n        }\r\n    }\r\n\r\n    // 自定义提示\r\n    public Tip(tipName: string, msg: string, timeout?: number){\r\n        let $tip = this.select(tipName);\r\n        let _this = this;\r\n        if(!$tip){\r\n            $tip = this.createElm(document.body,'div',tipName);\r\n        }\r\n\r\n        $tip.innerHTML = msg;\r\n\r\n        this.setCss($tip,{\r\n            'display':'block',\r\n            'opacity': '1'\r\n        });\r\n\r\n        this.sleep(()=>{\r\n            _this.setCss($tip,{\r\n                'opacity': '0'\r\n            })\r\n        },timeout|| 1000)\r\n\r\n        this.sleep(()=>{\r\n            _this.setCss($tip,{\r\n                'display': 'none'\r\n            })\r\n        },(timeout|| 1000)+300)\r\n    }\r\n\r\n    \r\n    public errorTip(msg: string, timeout?: number){\r\n        let tipName = 'datePicker-errorTip';\r\n        this.Tip(tipName, msg, timeout);\r\n\r\n    }\r\n\r\n    public successTip(msg: string, timeout?: number){\r\n        let tipName = 'datePicker-successTip';\r\n        this.Tip(tipName, msg, timeout);\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdHMvZGF0ZVBpY2tlci50cyIsInNyYy90cy9pbmRleC50cyIsInNyYy90cy90ZW1wbGF0ZS50cyIsInNyYy90cy90b3VjaC50cyIsInNyYy90cy91dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUNBQTs7Ozs7Ozs7Ozs7QUFFQSxJQUFBLFVBQUEsUUFBQSxTQUFBLENBQUE7QUFFQSxJQUFBLE9BQUEsUUFBQSxZQUFBLENBQUE7QUFDQSxJQUFBLFVBQUEsUUFBQSxTQUFBLENBQUE7O0lBZXFCLFU7OztBQXFHakIsd0JBQVksT0FBWixFQUE0QjtBQUFBOztBQUFBOztBQXBHcEIsZUFBQSxJQUFBLEdBQWUsRUFBZixDQW9Hb0IsQ0FwR0Q7QUFDbkIsZUFBQSxPQUFBLEdBQWtCLEVBQWxCLENBbUdvQixDQW5HRTtBQUN0QixlQUFBLElBQUEsR0FBZSxDQUFmLENBa0dvQixDQWxHRjtBQUNsQixlQUFBLFFBQUEsR0FBMEIsRUFBMUIsQ0FpR29CLENBakdVO0FBRTlCLGVBQUEsU0FBQSxHQUFvQixFQUFwQixDQStGb0IsQ0EvRkk7QUFDeEIsZUFBQSxPQUFBLEdBQWtCLEVBQWxCLENBOEZvQixDQTlGRTtBQUV0QixlQUFBLGNBQUEsR0FBc0IsSUFBdEIsQ0E0Rm9CLENBNUZRO0FBRTVCLGVBQUEsY0FBQSxHQUFnQyxFQUFoQyxDQTBGb0IsQ0ExRmU7QUFFbkMsZUFBQSxhQUFBLEdBQXNDLEVBQXRDLENBd0ZvQixDQXhGc0I7QUFFMUMsZUFBQSxLQUFBLEdBQWEsSUFBYixDQXNGb0IsQ0F0RkQ7QUFrRjNCO0FBQ1EsZUFBQSxPQUFBLEdBQWtCLENBQWxCLENBR29CLENBSEM7QUFDckIsZUFBQSxZQUFBLEdBQXVCLEVBQXZCLENBRW9CLENBRk87QUFJL0IsZUFBSyxHQUFMLEdBQVcsT0FBTyxNQUFQLENBQWM7QUFDckIseUJBQWEsT0FBSyxZQURHO0FBRXJCLHNC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U0FBUyxJQUF4QixFQUE2QixLQUE3QixFQUFtQyxPQUFuQyxDQUFQO0FBQ0g7QUFFRCxpQkFBSyxTQUFMLEdBQWlCLEdBQWpCO0FBRUEsaUJBQUssTUFBTCxDQUFZLElBQVosRUFBaUI7QUFDYiwyQkFBVSxPQURHO0FBRWIsMkJBQVc7QUFGRSxhQUFqQjtBQUtBLGlCQUFLLEtBQUwsQ0FBVyxZQUFJO0FBQ1gsc0JBQU0sTUFBTixDQUFhLElBQWIsRUFBa0I7QUFDZCwrQkFBVztBQURHLGlCQUFsQjtBQUdILGFBSkQsRUFJRSxXQUFVLElBSlo7QUFNQSxpQkFBSyxLQUFMLENBQVcsWUFBSTtBQUNYLHNCQUFNLE1BQU4sQ0FBYSxJQUFiLEVBQWtCO0FBQ2QsK0JBQVc7QUFERyxpQkFBbEI7QUFHSCxhQUpELEVBSUUsQ0FBQyxXQUFVLElBQVgsSUFBaUIsR0FKbkI7QUFLSDs7O2lDQUdlLEcsRUFBYSxPLEVBQWdCO0FBQ3pDLGdCQUFJLFVBQVUscUJBQWQ7QUFDQSxpQkFBSyxHQUFMLENBQVMsT0FBVCxFQUFrQixHQUFsQixFQUF1QixPQUF2QjtBQUVIOzs7bUNBRWlCLEcsRUFBYSxPLEVBQWdCO0FBQzNDLGdCQUFJLFVBQVUsdUJBQWQ7QUFDQSxpQkFBSyxHQUFMLENBQVMsT0FBVCxFQUFrQixHQUFsQixFQUF1QixPQUF2QjtBQUVIOzs7Ozs7QUEzR0wsUUFBQSxPQUFBLEdBQUEsS0FBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8vIOaXtumXtOmAieaLqeWZqOaguOW/g+S7o+eggVxyXG5cclxuaW1wb3J0IFV0aWxzIGZyb20gJy4vdXRpbHMnO1xyXG5cclxuaW1wb3J0ICogYXMgdGVtcCBmcm9tICcuL3RlbXBsYXRlJztcclxuaW1wb3J0IFRvdWNocyBmcm9tICcuL3RvdWNoJztcclxuXHJcbi8vIHBpY2tlcuWPguaVsOaOpeWPo1xyXG5pbnRlcmZhY2UgcGlja2VycyB7XHJcbiAgICAgICAgc3RhcnRZZWFyPzogc3RyaW5nO1xyXG4gICAgICAgIGVuZFllYXI/OiBzdHJpbmc7XHJcbiAgICAgICAgZGVmYXVsdERhdGU/OiBzdHJpbmc7XHJcbiAgICAgICAga2V5PzogbnVtYmVyO1xyXG4gICAgICAgIG91dEZvcm1hdCA/OiBzdHJpbmc7XHJcbiAgICAgICAgb25jaGFuZ2U/OiBGdW5jdGlvbjtcclxuICAgICAgICBzdWNjZXNzPzogRnVuY3Rpb247XHJcbiAgICAgICAgdHlwZT86IHN0cmluZzsgLy/pgInmi6nlmajnsbvlnovvvJpzaW5nbGUsIHJhbmdlLCBcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGVQaWNrZXIgZXh0ZW5kcyBVdGlscyB7XHJcbiAgICBwcml2YXRlIF9vcHQ6IG9iamVjdCA9IHt9OyAvL+WFqOWxgOmFjee9rlxyXG4gICAgcHJpdmF0ZSBfcGFyYW1zOiBvYmplY3QgPSB7fTsgLy/liJ3lp4vljJbphY3nva5cclxuICAgIHByaXZhdGUgX2tleTogbnVtYmVyID0gMTsgLy/llK/kuIBrZXlcclxuICAgIHByaXZhdGUgX2tleUxpc3Q6IEFycmF5PG51bWJlcj4gPSBbXTsgLy9rZXnliJfooahcclxuXHJcbiAgICBwcml2YXRlIF9tb250aFN0cjogc3RyaW5nID0gJyc7IC8v5pyI5Lu95a2X56ym5LiyXHJcbiAgICBwcml2YXRlIF9kYXlTdHI6IHN0cmluZyA9ICcnOyAvL+WkqeaVsOWtl+espuS4slxyXG5cclxuICAgIHByaXZhdGUgX2N1cnJlbnRQaWNrZXI6IGFueSA9IG51bGw7IC8v5L+d5a2Y5b2T5YmN5pi+56S655qE6YCJ5oup5ZmoXHJcblxyXG4gICAgcHJpdmF0ZSBfY3VycmVudEluZGV4czogQXJyYXk8bnVtYmVyPiA9IFtdOy8v5L+d5a2Y5b2T5YmN6YCJ5oup55qE5qC85a2Q57Si5byVXHJcblxyXG4gICAgcHJpdmF0ZSBfY3VycmVudFZhbHVlOiBBcnJheTxudW1iZXJ8c3RyaW5nPiA9IFtdOyAvL+S/neWtmOW9k+WJjemAieaLqeeahOWAvFxyXG5cclxuICAgIHByaXZhdGUgX21hc2s6IGFueSA9IG51bGw7IC8v5L+d5a2Y5ZSv5LiA55qE6YGu572pXHJcblxyXG4gICAgZ2V0IG9wdCgpOiBhbnl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgb3B0KHZhbDogYW55KXtcclxuICAgICAgICB0aGlzLl9vcHQgPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhcmFtcygpOiBwaWNrZXJze1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHBhcmFtcyh2YWw6IHBpY2tlcnMpe1xyXG4gICAgICAgIHRoaXMuX3BhcmFtcyA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQga2V5KCk6IG51bWJlcntcclxuICAgICAgICByZXR1cm4gdGhpcy5fa2V5O1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBrZXkodmFsOiBudW1iZXIpe1xyXG4gICAgICAgIHRoaXMuX2tleSA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQga2V5TGlzdCgpOiBhbnl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tleUxpc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGtleUxpc3QodmFsOiBhbnkpe1xyXG4gICAgICAgIHRoaXMuX2tleUxpc3QgPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG1vbnRoU3RyKCk6IHN0cmluZ3tcclxuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhTdHI7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IG1vbnRoU3RyKHZhbDogc3RyaW5nKXtcclxuICAgICAgICB0aGlzLl9tb250aFN0ciA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGF5U3RyKCk6IHN0cmluZ3tcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGF5U3RyO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBkYXlTdHIodmFsOiBzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuX2RheVN0ciA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3VycmVudFBpY2tlcigpOiBhbnl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRQaWNrZXI7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGN1cnJlbnRQaWNrZXIodmFsOiBhbnkpe1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRQaWNrZXIgPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGN1cnJlbnRJbmRleHMoKTogYW55e1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50SW5kZXhzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBjdXJyZW50SW5kZXhzKHZhbDogYW55KXtcclxuICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXhzID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjdXJyZW50VmFsdWUoKTogYW55e1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGN1cnJlbnRWYWx1ZSh2YWw6IGFueSl7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudFZhbHVlID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBtYXNrKCk6IGFueXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWFzaztcclxuICAgIH1cclxuXHJcbiAgICBzZXQgbWFzayh2YWw6IGFueSl7XHJcbiAgICAgICAgdGhpcy5fbWFzayA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDovoXliqnnsbvlj5jph49cclxuICAgIHByaXZhdGUgX2hlaWdodCA6bnVtYmVyID0gMDsgLy/pgInmi6nlmajmoLzlrZDnmoTpq5jluqZcclxuICAgIHByaXZhdGUgX21heEtleUNvdW50IDpudW1iZXIgPSAyMDsgLy/lj6/liJvlu7rpgInmi6nlmajnmoTmnIDlpKfmlbDph49cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogb2JqZWN0KXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMub3B0ID0gT2JqZWN0LmFzc2lnbih7XHJcbiAgICAgICAgICAgIG1heEtleUNvdW50OiB0aGlzLl9tYXhLZXlDb3VudCxcclxuICAgICAgICAgICAgb25jaGFuZ2U6ICgpPT57fSxcclxuICAgICAgICAgICAgc3VjY2VzczogKCk9Pnt9XHJcbiAgICAgICAgfSxvcHRpb25zKTtcclxuXHJcbiAgICAgICAgdGhpcy5vcHQubWF4S2V5Q291bnQgPSB0aGlzLm9wdC5tYXhLZXlDb3VudCA+IDAgJiYgdGhpcy5vcHQubWF4S2V5Q291bnQ8PTIwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLm9wdC5tYXhLZXlDb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5fbWF4S2V5Q291bnQ7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMubW9udGhTdHIgPSB0aGlzLmNyZWF0ZU1vbnRoU3RyKCk7XHJcbiAgICAgICAgdGhpcy5kYXlTdHIgPSB0aGlzLmNyZWF0ZURheVN0cigpO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG5cclxuICAgIFxyXG5cclxuICAgIHB1YmxpYyBwaWNrZXIocGFyYW1zPzogcGlja2Vycyl7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMgPSBPYmplY3QuYXNzaWduKHsgXHJcbiAgICAgICAgICAgIHN0YXJ0WWVhcjogJzE5OTAnLFxyXG4gICAgICAgICAgICBlbmRZZWFyOiAnMjAzMCcsXHJcbiAgICAgICAgICAgIGRlZmF1bHREYXRlOiB0aGlzLmdldFRvZGF5KCctJyksXHJcbiAgICAgICAgICAgIGtleTogdGhpcy5rZXksXHJcbiAgICAgICAgICAgIG91dEZvcm1hdDogJy0nLFxyXG4gICAgICAgICAgICBvbmNoYW5nZTogKCk9Pnt9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoKT0+e30sXHJcbiAgICAgICAgICAgIHR5cGU6ICdyYW5nZSdcclxuICAgICAgICB9LHBhcmFtcyk7XHJcblxyXG4gICAgICAgIC8vIOS/neWtmGtleeWAvO+8jOWmguaenOWIl+ihqOeahGtleeWAvOi/h+Wkmu+8jOemgeatouWIm+W7ulxyXG4gICAgICAgIGlmKCF0aGlzLmtleUxpc3QuaW5jbHVkZXModGhpcy5wYXJhbXMua2V5KSl7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmtleUxpc3QucHVzaCh0aGlzLnBhcmFtcy5rZXkpO1xyXG4gICAgICAgICAgICB0aGlzLmtleSs9MTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2tleScsdGhpcy5rZXkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMua2V5TGlzdC5sZW5ndGg+dGhpcy5vcHQubWF4S2V5Q291bnQpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBcclxuICAgICAgICAgICAgRXJyb3I65qOA5rWL5Yiw6aG16Z2i5LiK5Yib5bu655qE6YCJ5oup5Zmo6L+H5aSaIVxyXG4gICAgICAgICAgICDor7fmo4Dmn6Xku6PnoIHmmK/lkKbmnInpl67pophcclxuICAgICAgICAgICAg6K+35LiN6KaB5Zyo5b6q546v5oiW6ICF5LqL5Lu25Lit6YeN5aSN6LCD55SoLnBpY2tlcigp5pa55rOVXHJcbiAgICAgICAgICAgIOiLpemdnuimgeWmguatpOiwg+eUqO+8jOS4gOWumuimgeWKoOS4imtleeWxnuaAp1xyXG4gICAgICAgICAgICDlu7rorq7lnKjlpJbpnaLosIPnlKgucGlja2VyKCnmlrnms5XvvIzlnKjph4zpnaLosIPnlKguc2hvdygp5pa55rOV5pi+56S6XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG5cclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIOi/lOWbnuS4gOS4quWvueixoSzmlrnkvr/osIPnlKhcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBrZXk6IF90aGlzLnBhcmFtcy5rZXksXHJcbiAgICAgICAgICAgIHNob3c6ICgpPT57XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93KF90aGlzLnBhcmFtcy5rZXkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBoaWRlOiBfdGhpcy5oaWRlLmJpbmQoX3RoaXMpLFxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoKXsgXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNYXNrKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVQaWNrZXIoKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlTWFzaygpe1xyXG4gICAgICAgIC8vIOWIm+W7uuiSmeeJiFxyXG4gICAgICAgIGxldCBtYXNrTmFtZSA9IGBwaWNrZXItbWFza2A7XHJcbiAgICAgICAgbGV0ICRtYXNrID0gdGhpcy5zZWxlY3QoYC4ke21hc2tOYW1lfWApO1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYoISRtYXNrKXtcclxuICAgICAgICAgICAgJG1hc2sgPSB0aGlzLmNyZWF0ZUVsbShkb2N1bWVudC5ib2R5LCdkaXYnLG1hc2tOYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRDc3MoJG1hc2sse1xyXG4gICAgICAgICAgICAgICAgJ3RyYW5zaXRpb24nOiAnMC4zcyBhbGwgbGluZWFyJyxcclxuICAgICAgICAgICAgICAgICdvcGFjaXR5JzogJzAnLFxyXG4gICAgICAgICAgICAgICAgJ2Rpc3BsYXknOiAnbm9uZSdcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5tYXNrID0gJG1hc2s7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVBpY2tlcigpeyBcclxuICAgICAgICAvLyDliJvlu7rpgInmi6nlmahcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGlja2VyID0gbnVsbDsgLy/mr4/mrKHmuLLmn5PliY3pg73miorkuYvliY3nmoTpgInmi6nlmajph4rmlL5cclxuXHJcbiAgICAgICAgbGV0IHBpY2tlck5hbWUgPSBgcGlja2VyLWtleS0ke3RoaXMucGFyYW1zLmtleX1gO1xyXG4gICAgICAgIGxldCAkcGlja2VyID0gdGhpcy5zZWxlY3QoYC4ke3BpY2tlck5hbWV9YCk7XHJcbiAgICAgICAgbGV0ICRwaWNrZXJXcmFwcGVyID0gdGhpcy5zZWxlY3QoYC4ke3BpY2tlck5hbWV9IC5waWNrZXItd3JhcHBlcmApO1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoISRwaWNrZXIpe1xyXG4gICAgICAgICAgICBsZXQgeWVhclN0ciA9IHRoaXMuY3JlYXRlWWVhclN0cigpO1xyXG4gICAgICAgICAgICBsZXQgcGlja2VySHRtbCA9IHRlbXAucGlja2VyLnJlcGxhY2UoJyQxJyx5ZWFyU3RyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyQyJyx0aGlzLm1vbnRoU3RyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyQzJyx0aGlzLmRheVN0cik7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdwaWNrZXInLHBpY2tlckh0bWwpO1xyXG4gICAgICAgICAgICAkcGlja2VyID0gdGhpcy5jcmVhdGVFbG0oZG9jdW1lbnQuYm9keSwnZGl2JyxwaWNrZXJOYW1lKTtcclxuICAgICAgICAgICAgJHBpY2tlci5pbm5lckhUTUwgPSBwaWNrZXJIdG1sO1xyXG4gICAgICAgICAgICAkcGlja2VyV3JhcHBlciA9IHRoaXMuc2VsZWN0KGAuJHtwaWNrZXJOYW1lfSAucGlja2VyLXdyYXBwZXJgKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRDc3MoJHBpY2tlcldyYXBwZXIse1xyXG4gICAgICAgICAgICAgICAgJ3RyYW5zaXRpb24nOiAnMC4zcyBhbGwgbGluZWFyJyxcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgxMDAlKSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmKCFfdGhpcy5faGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9oZWlnaHQgPSBfdGhpcy5zZWxlY3QoJy5kYXRlLXVuaXQnLCRwaWNrZXIpLmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWNrZXIgPSAkcGlja2VyIHx8IHt9OyAvL+S/neWtmOW9k+WJjeeahOmAieaLqeWZqFxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWNrZXIueWVhcnMgPSB0aGlzLmdldFllYXJBcnJheSgpO1xyXG4gICAgICAgICAgICBsZXQgZGVmYXVsdEluZm8gPSB0aGlzLnNldERlZmF1bHRWaWV3KCk7IC8v6K6+572u6buY6K6k5pel5pyf55qE6KeG5Zu+XHJcbiAgICAgICAgICAgIHRoaXMuYmluZEV2ZW50cyhkZWZhdWx0SW5mbyk7XHJcbiAgICAgICAgICAgIHRoaXMucmFuZ2VPcGVyYXRpb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOa3u+WKoOaYvuekuueKtuaAgVxyXG4gICAgICAgICRwaWNrZXIuY2xhc3NMaXN0LmFkZCgnX19waWNrZXItdHlwZS1zaG93Jyk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGlja2VyID0gJHBpY2tlciB8fCB7fTsgLy/kv53lrZjlvZPliY3nmoTpgInmi6nlmahcclxuICAgICAgICB0aGlzLmN1cnJlbnRQaWNrZXIueWVhcnMgPSB0aGlzLmdldFllYXJBcnJheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRZZWFyQXJyYXkoKTogQXJyYXk8bnVtYmVyPntcclxuICAgICAgICBsZXQgeWVhcnMgPSBbXTtcclxuICAgICAgICBsZXQgc3RhcnRZZWFyOiBhbnkgPSAgdGhpcy5wYXJhbXMuc3RhcnRZZWFyO1xyXG4gICAgICAgIGxldCBlbmRZZWFyOiBhbnkgPSB0aGlzLnBhcmFtcy5lbmRZZWFyO1xyXG4gICAgICAgIGZvcihsZXQgaT1zdGFydFllYXItMDtpPD1lbmRZZWFyLTA7aSsrKXtcclxuICAgICAgICAgICAgeWVhcnMucHVzaChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHllYXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVZZWFyU3RyKCk6IHN0cmluZ3tcclxuICAgICAgICAvLyDliJvlu7rlubRcclxuICAgICAgICBsZXQgeWVhcnMgPSBbXTtcclxuICAgICAgICBsZXQgc3RhcnRZZWFyOiBhbnkgPSAgdGhpcy5wYXJhbXMuc3RhcnRZZWFyO1xyXG4gICAgICAgIGxldCBlbmRZZWFyOiBhbnkgPSB0aGlzLnBhcmFtcy5lbmRZZWFyO1xyXG4gICAgICAgIGZvcihsZXQgaT1zdGFydFllYXItMDtpPD1lbmRZZWFyLTA7aSsrKXtcclxuICAgICAgICAgICAgeWVhcnMucHVzaChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcclxuICAgICAgICB5ZWFycy5mb3JFYWNoKChpdGVtLGkpPT57XHJcbiAgICAgICAgICAgIGh0bWwrPSBgPHAgY2xhc3M9XCJkYXRlLXVuaXRcIiBkYXRhLW1vbnRoPVwiJHtpdGVtfVwiPiR7aXRlbX3lubQ8L3A+YDtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygneWVhcicsaHRtbCk7XHJcbiAgICAgICAgcmV0dXJuIGh0bWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZU1vbnRoU3RyKCk6IHN0cmluZyB7XHJcbiAgICAgICAgLy8g5Yib5bu65pyIXHJcbiAgICAgICAgbGV0IG1vbnRocyA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgaT0xO2k8PTEyO2krKyl7XHJcbiAgICAgICAgICAgIG1vbnRocy5wdXNoKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaHRtbCA9ICcnO1xyXG4gICAgICAgIG1vbnRocy5mb3JFYWNoKChpdGVtLGkpPT57XHJcbiAgICAgICAgICAgIGxldCBtb250aCA9IGl0ZW0+PTEwPyBpdGVtOiAnMCcraXRlbTtcclxuICAgICAgICAgICAgaHRtbCs9IGA8cCBjbGFzcz1cImRhdGUtdW5pdFwiIGRhdGEtbW9udGg9XCIke2l0ZW19XCI+JHttb250aH3mnIg8L3A+YDtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnbW9udGgnLGh0bWwpO1xyXG4gICAgICAgIHJldHVybiBodG1sO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVEYXlTdHIoKTogc3RyaW5nIHtcclxuICAgICAgICAvLyDliJvlu7pkYXlcclxuICAgICAgICBsZXQgZGF5cyA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgaT0xO2k8PTMxO2krKyl7XHJcbiAgICAgICAgICAgIGRheXMucHVzaChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcclxuICAgICAgICBkYXlzLmZvckVhY2goKGl0ZW0saSk9PntcclxuICAgICAgICAgICAgbGV0IGRheSA9IGl0ZW0+PTEwPyBpdGVtOiAnMCcraXRlbTtcclxuICAgICAgICAgICAgaHRtbCs9IGA8cCBjbGFzcz1cImRhdGUtdW5pdFwiIGRhdGEtbW9udGg9XCIke2l0ZW19XCI+JHtkYXl95pelPC9wPmA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2RheScsaHRtbCk7XHJcbiAgICAgICAgcmV0dXJuIGh0bWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldERlZmF1bHRWaWV3KCl7XHJcbiAgICAgICAgaWYoIXRoaXMucGFyYW1zLmRlZmF1bHREYXRlKXtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6IOm7mOiupOaXpeacnyhkZWZhdWx0RGF0ZSnkuI3og73kuLrnqbonKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZGF0ZUFycmF5ID0gdGhpcy5wYXJhbXMuZGVmYXVsdERhdGUuc3BsaXQoJy0nKTtcclxuICAgICAgICBpZighZGF0ZUFycmF5IHx8IGRhdGVBcnJheS5sZW5ndGg8Myl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOum7mOiupOaXpeacnyhkZWZhdWx0RGF0ZSnnmoTmoLzlvI/mnInor68s6buY6K6k5qC85byPOjIwMTktMDEtMDEgb3IgMjAxOS0xLTEnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBsZXQgJHBpY2tlciA9IHRoaXMuY3VycmVudFBpY2tlcjtcclxuICAgICAgICBsZXQgJGRhdGVVdGlscyA9IHRoaXMuc2VsZWN0QWxsKCcuZGF0ZS1pdGVtJywkcGlja2VyKTtcclxuICAgICAgICAvLyB5ZWFyXHJcbiAgICAgICAgbGV0IHllYXJJbmRleCA9IHRoaXMuY3VycmVudFRvSW5kZXgocGFyc2VJbnQoZGF0ZUFycmF5WzBdKS1wYXJzZUludCh0aGlzLnBhcmFtcy5zdGFydFllYXIpKTtcclxuICAgICAgICB0aGlzLnNldENzcygkZGF0ZVV0aWxzWzBdLHtcclxuICAgICAgICAgICAgJ3RyYW5zZm9ybSc6YHRyYW5zbGF0ZVkoJHt5ZWFySW5kZXgqdGhpcy5faGVpZ2h0fXB4KWBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBtb250aFxyXG4gICAgICAgIGxldCBtb250aEluZGV4ID0gdGhpcy5jdXJyZW50VG9JbmRleChwYXJzZUludChkYXRlQXJyYXlbMV0pLTEpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdtb250aEluZGV4Jyx0aGlzLl9oZWlnaHQqbW9udGhJbmRleClcclxuICAgICAgICB0aGlzLnNldENzcygkZGF0ZVV0aWxzWzFdLHtcclxuICAgICAgICAgICAgJ3RyYW5zZm9ybSc6YHRyYW5zbGF0ZVkoJHttb250aEluZGV4KnRoaXMuX2hlaWdodH1weClgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIG1vbnRoXHJcbiAgICAgICAgbGV0IGRheUluZGV4ID0gdGhpcy5jdXJyZW50VG9JbmRleChwYXJzZUludChkYXRlQXJyYXlbMl0pLTEpO1xyXG4gICAgICAgIHRoaXMuc2V0Q3NzKCRkYXRlVXRpbHNbMl0se1xyXG4gICAgICAgICAgICAndHJhbnNmb3JtJzpgdHJhbnNsYXRlWSgke2RheUluZGV4KnRoaXMuX2hlaWdodH1weClgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJue1xyXG4gICAgICAgICAgICBkYXRlQXJyYXk6IGRhdGVBcnJheSxcclxuICAgICAgICAgICAgaGVpZ2h0QXJyYXk6IFt5ZWFySW5kZXgqdGhpcy5faGVpZ2h0LG1vbnRoSW5kZXgqdGhpcy5faGVpZ2h0LGRheUluZGV4KnRoaXMuX2hlaWdodF1cclxuICAgICAgICB9IDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmRFdmVudHMoZGVmYXVsdEluZm86IGFueSl7XHJcbiAgICAgICAgaWYoIXRoaXMuY3VycmVudFBpY2tlcil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOiDpgInmi6nlmajov5jmsqHmnInmuLLmn5MnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBsZXQgJGRhdGVHcm91cHMgPSB0aGlzLnNlbGVjdEFsbCgnLmRhdGUtZ3JvdXAnLHRoaXMuY3VycmVudFBpY2tlcik7XHJcbiAgICAgICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgICAgICAkZGF0ZUdyb3Vwcy5mb3JFYWNoKChkYXRlR3JvdXAsaSk9PntcclxuICAgICAgICAgICAgbGV0ICRkYXRlVXRpbHMgPSBfdGhpcy5zZWxlY3QoJy5kYXRlLWl0ZW0nLGRhdGVHcm91cCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBfdGhpcy5zZXRDc3MoJGRhdGVVdGlscyx7XHJcbiAgICAgICAgICAgICAgICAndHJhbnNpdGlvbic6JzAuMXMgYWxsIGxpbmVhcicgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyDms6jmhI/vvJpFbmRZ55qE5YC85LiN5bqU6K+l5Li6MO+8jOiAjOaYr+iwg+eUqOm7mOiupOinhuWbvuWHveaVsOWQjueahOi3neemu1xyXG4gICAgICAgICAgICBsZXQgRW5kWTogbnVtYmVyID0gZGVmYXVsdEluZm8uaGVpZ2h0QXJyYXlbaV07XHJcblxyXG4gICAgICAgICAgICBsZXQgdG91Y2hzID0gbmV3IFRvdWNocyhkYXRlR3JvdXApO1xyXG4gICAgICAgICAgICB0b3VjaHMudG91Y2hTdGFydChfdGhpcy50b3VjaFN0YXJ0KTtcclxuICAgICAgICAgICAgdG91Y2hzLnRvdWNoTW92ZSgoZTogYW55LCByYW5nZTogbnVtYmVyKT0+e1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudG91Y2hNb3ZlKGUscmFuZ2UsRW5kWSwkZGF0ZVV0aWxzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRvdWNocy50b3VjaEVuZCgoZTphbnksIGVuZFk6IG51bWJlcik9PntcclxuICAgICAgICAgICAgICAgIEVuZFkgPSBfdGhpcy50b3VjaEVuZChlLGVuZFksRW5kWSwgJGRhdGVVdGlscyxpLGRlZmF1bHRJbmZvLmRhdGVBcnJheSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndG91Y2hFbmQnLEVuZFkpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubWFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsdGhpcy5oaWRlLmJpbmQoX3RoaXMpKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0b3VjaFN0YXJ0KCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3N0YXJ0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0b3VjaE1vdmUoZTogYW55LCByYW5nZTogbnVtYmVyLCBFbmRZOiBudW1iZXIsIHRhcmdldDogYW55KXtcclxuICAgICAgICB0aGlzLnNldENzcyh0YXJnZXQse1xyXG4gICAgICAgICAgICAndHJhbnNmb3JtJzogYHRyYW5zbGF0ZVkoJHtFbmRZK3JhbmdlKjF9cHgpYFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdG91Y2hFbmQoZTogYW55LCBlbmRZOiBudW1iZXIsIEVuZFk6IG51bWJlciwgdGFyZ2V0OiBhbnksIEluZGV4OiBudW1iZXIsIGRhdGVBcnJheTogQXJyYXk8YW55Pil7XHJcbiAgICAgICAgRW5kWSA9IEVuZFkrZW5kWTtcclxuICAgICAgICBsZXQgbWluID0gRW5kWSA+MD9NYXRoLmZsb29yKEVuZFkgLyB0aGlzLl9oZWlnaHQpOiBNYXRoLmNlaWwoRW5kWSAvIHRoaXMuX2hlaWdodCk7XHJcbiAgICAgICAgbGV0IG1heCA9IEVuZFkgPjA/IG1pbisxOiBtaW4tMTtcclxuICAgICAgICBsZXQgbWlkZGxlID0gKG1heCttaW4pLzIqdGhpcy5faGVpZ2h0O1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gMDtcclxuICAgICAgICBsZXQgY3VycmVudFZhbHVlID0gZGF0ZUFycmF5O1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdtaW4nLG1pbik7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ21pZGRsZScsbWlkZGxlKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnRW5kWScsIEVuZFkpO1xyXG4gICAgICAgIGlmKE1hdGguYWJzKEVuZFkpPj1NYXRoLmFicyhtaWRkbGUpKXtcclxuICAgICAgICAgICAgRW5kWSA9IG1heCp0aGlzLl9oZWlnaHQ7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBtYXg7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIEVuZFkgPSBtaW4qdGhpcy5faGVpZ2h0O1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gbWluO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDlhbPkuo7moLzlrZDnmoTmlbDph49cclxuICAgICAgICAvLyDlj6rmnInlubTlkozml6XmmK/lj5jljJbnmoTvvIzmnIjku73pg73mmK/lm7rlrprnmoQoMTIpXHJcbiAgICAgICAgdmFyIGNvdW50cyA9IDA7XHJcbiAgICAgICAgc3dpdGNoIChJbmRleCkge1xyXG4gICAgICAgICAgICBjYXNlIDA6IC8v5bm0XHJcbiAgICAgICAgICAgICAgICBjb3VudHMgPSB0aGlzLmN1cnJlbnRQaWNrZXIueWVhcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTogLy/mnIhcclxuICAgICAgICAgICAgICAgIGNvdW50cyA9IDEyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjogLy/ml6VcclxuICAgICAgICAgICAgICAgIC8vIFRvZG9cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOmAu+i+ke+8mlxyXG4gICAgICAgIC8vIOagueaNrumhtemdouS4que7k+aehO+8jOavj+S4qumAieaLqeWZqOWPquaYvuekujPkuKrmoLzlrZDvvIzmiYDku6XkuK3lv4PnmoTmmK8yXHJcbiAgICAgICAgLy8g6YKj5LmI5aS06YOo5LiN6IO96LaF6L+H55qE6Led56a75pivIDEqaGVpZ2h0XHJcbiAgICAgICAgLy8g5bqV6YOo5LiN6IO96LaF6L+H55qE6Led56a75pivLSjmoLzlrZDmlbDph48tMikqaGVpZ2h0XHJcbiAgICAgICAgaWYoRW5kWT4xKnRoaXMuX2hlaWdodCl7XHJcbiAgICAgICAgICAgIEVuZFkgPSAxKnRoaXMuX2hlaWdodDtcclxuICAgICAgICAgICAgY3VycmVudCA9IDE7XHJcbiAgICAgICAgfWVsc2UgaWYoTWF0aC5hYnMoRW5kWSk+TWF0aC5hYnMoLShjb3VudHMtMikqdGhpcy5faGVpZ2h0KSl7XHJcbiAgICAgICAgICAgIEVuZFkgPSAtKGNvdW50cy0yKSp0aGlzLl9oZWlnaHQ7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSAtKGNvdW50cy0yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXhzW0luZGV4XSA9IGN1cnJlbnQ7IC8v5L+d5a2Y5b2T5YmN55qE5qC85a2Q57Si5byVXHJcbiAgICAgICAgbGV0IGFycmF5SW5kZXggPSB0aGlzLmN1cnJlbnRUb0luZGV4KGN1cnJlbnQpOyAvL+aKiuagvOWtkOe0ouW8lei9rOaIkOaVsOe7hOe0ouW8lVxyXG4gICAgICAgIGlmKEluZGV4PT0wKXtcclxuICAgICAgICAgICAgLy8g5Y+q5pyJ5bm06ZyA6KaB5LuO5pWw57uE5Lit6K+75Y+W5YC8XHJcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZVtJbmRleF0gPSB0aGlzLmN1cnJlbnRQaWNrZXIueWVhcnNbYXJyYXlJbmRleF07XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZVtJbmRleF0gPSBhcnJheUluZGV4KzE+PTEwP2FycmF5SW5kZXgrMTonMCcrKGFycmF5SW5kZXgrMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0Q3NzKHRhcmdldCx7XHJcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlWSgke0VuZFl9cHgpYFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyDosIPnlKhvbmNoYW5nZeWbnuiwg1xyXG4gICAgICAgIHRoaXMub3B0Lm9uY2hhbmdlKGN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMub25jaGFuZ2UoY3VycmVudFZhbHVlKTtcclxuICAgICAgICB0aGlzLiRlbWl0KGBvbmNoYW5nZV8ke3RoaXMucGFyYW1zLmtleX1gLGN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIEVuZFk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGN1cnJlbnRUb0luZGV4KGN1cnJlbnQ6IG51bWJlcil7XHJcbiAgICAgICAgLy8g6YC76L6R77yaXHJcbiAgICAgICAgLy8g5qC55o2u6aG16Z2i5biD5bGA77yM5b6X5p2l56ys5LiA5Liq5qC85a2Q5piv5q2j5pWw77yM5YW25LuW55qE6Led56a76YO95piv6LSf5pWwXHJcbiAgICAgICAgLy8g5omA5Lul5Y+v5Lul6YCa6L+HKDEtY3VycmVudCnmnaXojrflj5blvZPliY3moLzlrZDmlbDnu4TnmoTntKLlvJVcclxuICAgICAgICByZXR1cm4gMS1jdXJyZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBoaWRlKCl7XHJcbiAgICAgICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgICAgICAvLyDlhbPpl63pga7nvalcclxuICAgICAgICB0aGlzLnNldENzcyh0aGlzLm1hc2sse1xyXG4gICAgICAgICAgICAnb3BhY2l0eSc6JzAnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zbGVlcCgoKT0+e1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRDc3MoX3RoaXMubWFzayx7XHJcbiAgICAgICAgICAgICAgICAnZGlzcGxheSc6J25vbmUnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sMzAwKTtcclxuICAgICAgICAvLyDlhbPpl63pgInmi6nlmahcclxuICAgICAgICBsZXQgJHBpY2tlcldyYXBwZXIgPSB0aGlzLnNlbGVjdChgLnBpY2tlci13cmFwcGVyYCx0aGlzLmN1cnJlbnRQaWNrZXIpO1xyXG4gICAgICAgIHRoaXMuc2V0Q3NzKCRwaWNrZXJXcmFwcGVyLHtcclxuICAgICAgICAgICAgJ3RyYW5zZm9ybSc6J3RyYW5zbGF0ZVkoMTAwJSknXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGlja2VyLmNsYXNzTGlzdC5yZW1vdmUoJ19fcGlja2VyLXR5cGUtc2hvdycpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBpY2tlci5jbGFzc0xpc3QuYWRkKCdfX3BpY2tlci10eXBlLWhpZGUnKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQaWNrZXIgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93KGtleTogbnVtYmVyfHN0cmluZyl7XHJcbiAgICAgICAgaWYoIWtleSl7XHJcbiAgICAgICAgICAgIGxldCB0aXAgPSBgXHJcbiAgICAgICAgICAgIHNob3fmlrnms5XkuIDlrpropoHkvKDlhaVrZXnlgLxcclxuICAgICAgICAgICAg6K+l5YC85LiOcGlja2Vy5pa55rOV55qEa2V55Y+C5pWw5LiA6Ie0XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGlwKTtcclxuICAgICAgICAgICAgdGhpcy5lcnJvclRpcCh0aXApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldENzcyh0aGlzLm1hc2sse1xyXG4gICAgICAgICAgICAnb3BhY2l0eSc6ICcxJyxcclxuICAgICAgICAgICAgJ2Rpc3BsYXknOiAnYmxvY2snXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgbGV0ICRwaWNrZXIgPSB0aGlzLnNlbGVjdChgLnBpY2tlci1rZXktJHtrZXl9YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoISRwaWNrZXIpe1xyXG4gICAgICAgICAgICBsZXQgdGlwID0gYFxyXG4gICAgICAgICAgICDmsqHmnInor6VrZXkoJHtrZXl9KeWAvOeahOmAieaLqeWZqFxyXG4gICAgICAgICAgICDor7fmo4Dmn6XmmK/lkKblhpnplJkhXHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGlwKTtcclxuICAgICAgICAgICAgdGhpcy5lcnJvclRpcCh0aXApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudFBpY2tlciA9ICRwaWNrZXI7XHJcbiAgICAgICAgbGV0ICRwaWNrZXJXcmFwcGVyID0gdGhpcy5zZWxlY3QoYC5waWNrZXItd3JhcHBlcmAsJHBpY2tlcik7XHJcbiAgICAgICAgdGhpcy5zZXRDc3MoJHBpY2tlcldyYXBwZXIse1xyXG4gICAgICAgICAgICAndHJhbnNmb3JtJzondHJhbnNsYXRlWSgwcHgpJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkcGlja2VyLmNsYXNzTGlzdC5yZW1vdmUoJ19fcGlja2VyLXR5cGUtaGlkZScpO1xyXG4gICAgICAgICRwaWNrZXIuY2xhc3NMaXN0LnJlbW92ZSgnX19waWNrZXItdHlwZS1zaG93Jyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByYW5nZU9wZXJhdGlvbigpe1xyXG4gICAgICAgIC8vIOaXtumXtOWMuumXtOmAieaLqeWZqOeahOmAu+i+keS6i+S7tlxyXG4gICAgICAgIGxldCAkcGlja2VyID0gdGhpcy5jdXJyZW50UGlja2VyO1xyXG4gICAgICAgIGxldCAkcmFuZ2VDaGlsZHMgPSB0aGlzLnNlbGVjdEFsbCgnLnJhbmdlLWNoaWxkJywkcGlja2VyKTtcclxuICAgICAgICBsZXQgY3VycmVudEluZGV4ID0gMDtcclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICRyYW5nZUNoaWxkcy5mb3JFYWNoKChyYW5nZUNoaWxkLGkpPT57XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyYW5nZUNoaWxkJyxyYW5nZUNoaWxkKTtcclxuICAgICAgICAgICAgcmFuZ2VDaGlsZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKGUpPT57XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKVxyXG4gICAgICAgICAgICAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyYW5nZS1hY3QnKSlyZXR1cm47XHJcbiAgICAgICAgICAgICAgICAkcmFuZ2VDaGlsZHMuZm9yRWFjaChpdGVtID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZS1hY3QnKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgncmFuZ2UtYWN0Jyk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXggPSBpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgc3RhcnRUaW1lID0nJywgZW5kVGltZSA9ICcnO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdvbmNoYW5nZScsYG9uY2hhbmdlXyR7dGhpcy5wYXJhbXMua2V5fWApXHJcbiAgICAgICAgdGhpcy4kb24oYG9uY2hhbmdlXyR7dGhpcy5wYXJhbXMua2V5fWAsKGRhdGEpPT57XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50RGF0ZSA9IGRhdGEuam9pbihfdGhpcy5wYXJhbXMub3V0Rm9ybWF0KTtcclxuICAgICAgICAgICAgJHJhbmdlQ2hpbGRzW2N1cnJlbnRJbmRleF0uaW5uZXJIVE1MID0gY3VycmVudERhdGU7XHJcbiAgICAgICAgICAgIGlmKGN1cnJlbnRJbmRleD09MCl7XHJcbiAgICAgICAgICAgICAgICAvLyDlvIDlp4vml6XmnJ9cclxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IGN1cnJlbnREYXRlOyBcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBlbmRUaW1lID0gY3VycmVudERhdGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gXHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IERhdGVQaWNrZXIgZnJvbSAnLi9kYXRlUGlja2VyJztcclxuXHJcbmNvbnN0IGRhdGVQaWNrZXIxID0gbmV3IERhdGVQaWNrZXIoKTtcclxuXHJcbmxldCBwaWNrZXIxID0gZGF0ZVBpY2tlcjEucGlja2VyKHtcclxuICAgIG9uY2hhbmdlOihkYXRhKT0+e1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdvbmNoYW5nZScsZGF0YSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxubGV0IHBpY2tlcjIgPSBkYXRlUGlja2VyMS5waWNrZXIoe1xyXG4gICAgb25jaGFuZ2U6KGRhdGEpPT57XHJcbiAgICAgICAgY29uc29sZS5sb2coJ29uY2hhbmdlJyxkYXRhKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGlja2VyJylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57XHJcblxyXG4gICAgcGlja2VyMS5zaG93KCk7XHJcbn0pXHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGlja2VyJylbMV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57XHJcblxyXG4gICAgcGlja2VyMi5zaG93KCk7XHJcbn0pXHJcbiIsIi8vIOaooeadv+Wtl+espuS4slxyXG5cclxuZXhwb3J0IGNvbnN0IG1hc2sgPSBgXHJcbjxkaXYgY2xhc3M9XCJwaWNrZXItbWFza1wiPjwvZGl2PlxyXG5gO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJhbmdlID0gYFxyXG48ZGl2IGNsYXNzPVwicGlja2VyLXJhbmdlXCI+XHJcbiAgICA8cCBjbGFzcz1cInJhbmdlLWNoaWxkIHN0YXJ0LXRpbWUgcmFuZ2UtYWN0XCI+5byA5aeL5pel5pyfPC9wPlxyXG4gICAgPHNwYW4+6IezPC9zcGFuPlxyXG4gICAgPHAgY2xhc3M9XCJyYW5nZS1jaGlsZCBlbmQtdGltZVwiPue7k+adn+aXpeacnzwvcD5cclxuPC9kaXY+XHJcbmA7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IHBpY2tlciA9IGBcclxuPGRpdiBjbGFzcz1cInBpY2tlci13cmFwcGVyXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwicGlja2VyLWhlYWQgZmxleCBzcGFjZS1iZXR3ZWVuXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJjYW5jZWxcIj7lj5bmtog8L3NwYW4+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzdXJlXCI+56Gu5a6aPC9zcGFuPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwicGlja2VyLWJvZHlcIj5cclxuICAgICAgICAke3JhbmdlfVxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZS1jb250ZW50IGZsZXhcIj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlLWdyb3VwIGZsZXgtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LW1hc2sgbWFzay10b3BcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudC1tYXNrIG1hc2stYm90dG9tXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGUtaXRlbSBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJDFcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlLWdyb3VwIGZsZXgtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtbWFzayBtYXNrLXRvcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtbWFzayBtYXNrLWJvdHRvbVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGUtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICQyXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlLWdyb3VwIGZsZXgtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtbWFzayBtYXNrLXRvcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtbWFzayBtYXNrLWJvdHRvbVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGUtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICQzXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PlxyXG5gO1xyXG5cclxuIiwiaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gXCJhbnktcHJvbWlzZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG91Y2hzIHtcclxuICAgIHByaXZhdGUgX3RhcmdldDogYW55O1xyXG4gICAgcHJpdmF0ZSBfc3RhcnRZOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIF9lbmRZOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIF9yYW5nZTogbnVtYmVyO1xyXG5cclxuICAgIC8vIOi+heWKqeexu+WPguaVsFxyXG4gICAgcHJpdmF0ZSBib29sOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHByaXZhdGUgbGltaXQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgY29uc3RydWN0b3IodGFyZ2V0OiBhbnkpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdpbml0JylcclxuICAgICAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRhcmdldCgpOiBhbnl7XHJcbiAgICAgICAgaWYodGhpcy5fdGFyZ2V0KXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldFxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjog5rKh5pyJ5om+5YiwdGFyZ2V05a+56LGhJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzdGFydFkoKTogbnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFydFk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHN0YXJ0WSh2YWw6IG51bWJlcil7XHJcbiAgICAgICAgdGhpcy5fc3RhcnRZID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgZ2V0IGVuZFkoKTogbnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmRZOyBcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0IGVuZFkodmFsOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9lbmRZID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByYW5nZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yYW5nZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcmFuZ2UodmFsOiBudW1iZXIpe1xyXG4gICAgICAgIHRoaXMuX3JhbmdlID0gdmFsO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgdG91Y2hTdGFydChjYjogRnVuY3Rpb24pe1xyXG4gICAgICAgIC8vIHRvdWNoc3RhcnQ6XHJcbiAgICAgICAgLy8gMS4g57uZdGFyZ2V057uR5a6adG91Y2jkuovku7ZcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRhcmdldCkgIFxyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3RoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLChlOiBhbnkpPT57XHJcbiAgICAgICAgICAgIF90aGlzLnRvdWNoU3RhcnRIYW5kZXIoZSxjYik7XHJcbiAgICAgICAgfSxmYWxzZSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRvdWNoU3RhcnRIYW5kZXIoZTogYW55LCBjYjogRnVuY3Rpb24pe1xyXG4gICAgICAgIHRoaXMuc3RhcnRZID0gZS50b3VjaGVzWzBdLnBhZ2VZO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhcnRZKTtcclxuICAgICAgICBjYihlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG91Y2hNb3ZlKGNiOiBGdW5jdGlvbil7XHJcbiAgICAgICAgLy8gdG91Y2htb3ZlXHJcbiAgICAgICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgICAgICBfdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywoZTogYW55KT0+e1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIF90aGlzLnRvdWNoTW92ZUhhbmRlcihlLGNiKTtcclxuICAgICAgICB9LGZhbHNlKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdG91Y2hNb3ZlSGFuZGVyKGU6IGFueSwgY2I6IEZ1bmN0aW9uKXtcclxuICAgICAgICAvLyDpmZDmtYEtc3RhcnRcclxuICAgICAgICB0aGlzLmxpbWl0Kys7XHJcbiAgICAgICAgaWYodGhpcy5saW1pdD49NSl7XHJcbiAgICAgICAgICAgIHRoaXMubGltaXQgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmJvb2wgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZighdGhpcy5ib29sKXJldHVybjtcclxuICAgICAgICB0aGlzLmJvb2wgPSBmYWxzZTtcclxuICAgICAgICAvLyDpmZDmtYEtZW5kXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5yYW5nZSA9IGUudG91Y2hlc1swXS5wYWdlWSAtIHRoaXMuX3N0YXJ0WTtcclxuICAgICAgICBjYihlLHRoaXMucmFuZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b3VjaEVuZChjYjogRnVuY3Rpb24pe1xyXG4gICAgICAgIC8vIHRvdWNoZW5kXHJcbiAgICAgICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgICAgICBfdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLChlOiBhbnkpPT57XHJcbiAgICAgICAgICAgIF90aGlzLnRvdWNoRW5kSGFuZGVyKGUsY2IpO1xyXG4gICAgICAgIH0sZmFsc2UpO1xyXG5cclxuICAgICAgICBfdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLChlOiBhbnkpPT57XHJcbiAgICAgICAgICAgIF90aGlzLnRvdWNoRW5kSGFuZGVyKGUsY2IpO1xyXG4gICAgICAgIH0sZmFsc2UpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRvdWNoRW5kSGFuZGVyKGU6IGFueSwgY2I6IEZ1bmN0aW9uKXtcclxuICAgICAgICB0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jyx0aGlzLnRvdWNoU3RhcnRIYW5kZXIsZmFsc2UpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsdGhpcy50b3VjaE1vdmVIYW5kZXIsZmFsc2UpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJyx0aGlzLnRvdWNoRW5kSGFuZGVyLGZhbHNlKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsdGhpcy50b3VjaEVuZEhhbmRlcixmYWxzZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5lbmRZID0gdGhpcy5yYW5nZTsgXHJcbiAgICAgICAgY2IoZSwgdGhpcy5lbmRZKTtcclxuICAgIH1cclxufSIsIi8vIOW3peWFt+exu1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVdGlscyB7XHJcbiAgICBwcml2YXRlIF9ldmVudExpc3RzOiBvYmplY3QgPSB7fTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG5cclxuICAgIHB1YmxpYyBzZWxlY3QoZWxtOiBzdHJpbmcsIHRhcmdldD86IGFueSl7XHJcbiAgICAgICAgaWYodGFyZ2V0KXtcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5xdWVyeVNlbGVjdG9yKGVsbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsbSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbGVjdEFsbChlbG06IHN0cmluZywgdGFyZ2V0PzogYW55KXtcclxuICAgICAgICBpZih0YXJnZXQpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoZWxtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxtKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlRWxtKHRhcmdldDogYW55LCBsYWJlbDogc3RyaW5nLCBjbGFzc05hbWU/OiBzdHJpbmcpe1xyXG4gICAgICAgIC8vIOWIm+W7uuWFg+e0oFxyXG4gICAgICAgIGNvbnN0ICRlbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGxhYmVsKTtcclxuICAgICAgICAkZWxtLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICAgICAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoJGVsbSk7XHJcbiAgICAgICAgcmV0dXJuICRlbG07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldENzcyh0YXJnZXQ6IGFueSwgY3NzOiBvYmplY3Qpe1xyXG4gICAgICAgIC8vIOiuvue9rmNzc+agt+W8j1xyXG4gICAgICAgIGZvcihsZXQgYXR0ciBpbiBjc3Mpe1xyXG4gICAgICAgICAgICB0YXJnZXQuc3R5bGVbYXR0cl0gPSBjc3NbYXR0cl07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzbGVlcChjYjogRnVuY3Rpb24sIHRpbWVvdXQ6IG51bWJlcil7XHJcbiAgICAgICAgLy8g5bu26L+fXHJcbiAgICAgICAgc2V0VGltZW91dChjYiwgdGltZW91dCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRvZGF5KGZvcm1hdDogc3RyaW5nKTogc3RyaW5ne1xyXG4gICAgICAgIC8vIOiOt+WPluS7iuWkqeeahOaXpeacnzogMjAxOS0wMS0wMVxyXG4gICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICBsZXQgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICBsZXQgbW9udGg6IGFueSA9IGRhdGUuZ2V0TW9udGgoKSsxO1xyXG4gICAgICAgIGxldCBkYXk6IGFueSA9IGRhdGUuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIG1vbnRoID0gbW9udGg+PTEwPyBtb250aDogJzAnK21vbnRoO1xyXG4gICAgICAgIGRheSA9IGRheT49MTA/IGRheTogJzAnK2RheTtcclxuICAgICAgICByZXR1cm4gW3llYXIsbW9udGgsZGF5XS5qb2luKGZvcm1hdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljICRvbihldmVudE5hbWU6IHN0cmluZywgZm46IEZ1bmN0aW9uKXtcclxuICAgICAgICAvLyDorqLpmIXkuovku7ZcclxuICAgICAgICBpZih0aGlzLl9ldmVudExpc3RzW2V2ZW50TmFtZV0pe1xyXG4gICAgICAgICAgICB0aGlzLl9ldmVudExpc3RzW2V2ZW50TmFtZV0ucHVzaChmbik7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50TGlzdHNbZXZlbnROYW1lXSA9IFtmbl07XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdldmVudExpc3RzJyx0aGlzLl9ldmVudExpc3RzW2V2ZW50TmFtZV0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgJGVtaXQoZXZlbnROYW1lOiBzdHJpbmcsIC4uLmFyZ3Mpe1xyXG4gICAgICAgIC8vIOinpuWPkeS6i+S7tlxyXG4gICAgICAgIGlmKHRoaXMuX2V2ZW50TGlzdHNbZXZlbnROYW1lXSl7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50TGlzdHNbZXZlbnROYW1lXS5mb3JFYWNoKChmbixpKT0+e1xyXG4gICAgICAgICAgICAgICAgZm4oLi4uYXJncyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOiHquWumuS5ieaPkOekulxyXG4gICAgcHVibGljIFRpcCh0aXBOYW1lOiBzdHJpbmcsIG1zZzogc3RyaW5nLCB0aW1lb3V0PzogbnVtYmVyKXtcclxuICAgICAgICBsZXQgJHRpcCA9IHRoaXMuc2VsZWN0KHRpcE5hbWUpO1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYoISR0aXApe1xyXG4gICAgICAgICAgICAkdGlwID0gdGhpcy5jcmVhdGVFbG0oZG9jdW1lbnQuYm9keSwnZGl2Jyx0aXBOYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICR0aXAuaW5uZXJIVE1MID0gbXNnO1xyXG5cclxuICAgICAgICB0aGlzLnNldENzcygkdGlwLHtcclxuICAgICAgICAgICAgJ2Rpc3BsYXknOidibG9jaycsXHJcbiAgICAgICAgICAgICdvcGFjaXR5JzogJzEnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2xlZXAoKCk9PntcclxuICAgICAgICAgICAgX3RoaXMuc2V0Q3NzKCR0aXAse1xyXG4gICAgICAgICAgICAgICAgJ29wYWNpdHknOiAnMCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LHRpbWVvdXR8fCAxMDAwKVxyXG5cclxuICAgICAgICB0aGlzLnNsZWVwKCgpPT57XHJcbiAgICAgICAgICAgIF90aGlzLnNldENzcygkdGlwLHtcclxuICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJ25vbmUnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSwodGltZW91dHx8IDEwMDApKzMwMClcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIHB1YmxpYyBlcnJvclRpcChtc2c6IHN0cmluZywgdGltZW91dD86IG51bWJlcil7XHJcbiAgICAgICAgbGV0IHRpcE5hbWUgPSAnZGF0ZVBpY2tlci1lcnJvclRpcCc7XHJcbiAgICAgICAgdGhpcy5UaXAodGlwTmFtZSwgbXNnLCB0aW1lb3V0KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN1Y2Nlc3NUaXAobXNnOiBzdHJpbmcsIHRpbWVvdXQ/OiBudW1iZXIpe1xyXG4gICAgICAgIGxldCB0aXBOYW1lID0gJ2RhdGVQaWNrZXItc3VjY2Vzc1RpcCc7XHJcbiAgICAgICAgdGhpcy5UaXAodGlwTmFtZSwgbXNnLCB0aW1lb3V0KTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuIl19"}