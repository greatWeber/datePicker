{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/ts/basePicker.ts","src/ts/datePicker.ts","src/ts/index.ts","src/ts/polyfill.js","src/ts/template.ts","src/ts/touch.ts","src/ts/utils.ts"],"names":[],"mappings":"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","file":"datePicker.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// 时间选择器核心代码\r\n\r\nimport Utils from './utils';\r\n\r\nimport * as temp from './template';\r\nimport Touchs from './touch';\r\n\r\n// picker参数接口\r\ninterface pickers {\r\n        startYear?: string;\r\n        endYear?: string;\r\n        defaultDate?: string;\r\n        key?: number;\r\n        outFormat ?: string;\r\n        onchange?: Function; \r\n        success?: Function;\r\n        type?: string; //选择器类型：single, range, \r\n\r\n}\r\n\r\nexport default class BasePicker extends Utils {\r\n    private _opt: object = {}; //全局配置\r\n    private _params: object = {}; //初始化配置\r\n    private _key: number = 1; //唯一key\r\n\r\n    private _monthStr: string = ''; //月份字符串\r\n    private _dayStr: string = ''; //天数字符串\r\n\r\n    private _currentPicker: any = null; //保存当前显示的选择器\r\n\r\n    private _currentIndexs: Array<number> = [];//保存当前选择的格子索引\r\n\r\n    private _currentValue: Array<number|string> = []; //保存当前选择的值\r\n\r\n    private _mask: any = null; //保存唯一的遮罩\r\n\r\n    get opt(): any{\r\n        return this._opt;\r\n    }\r\n\r\n    set opt(val: any){\r\n        this._opt = val;\r\n    }\r\n\r\n    get params(): pickers{\r\n        return this._params;\r\n    }\r\n\r\n    set params(val: pickers){\r\n        this._params = val;\r\n    }\r\n\r\n    get key(): number{\r\n        return this._key;\r\n    }\r\n\r\n    set key(val: number){\r\n        this._key = val;\r\n    }\r\n\r\n    get monthStr(): string{\r\n        return this._monthStr;\r\n    }\r\n\r\n    set monthStr(val: string){\r\n        this._monthStr = val;\r\n    }\r\n\r\n    get dayStr(): string{\r\n        return this._dayStr;\r\n    }\r\n\r\n    set dayStr(val: string){\r\n        this._dayStr = val;\r\n    }\r\n\r\n    get currentPicker(): any{\r\n        return this._currentPicker;\r\n    }\r\n\r\n    set currentPicker(val: any){\r\n        this._currentPicker = val;\r\n    }\r\n\r\n    get currentIndexs(): any{\r\n        return this._currentIndexs;\r\n    }\r\n\r\n    set currentIndexs(val: any){\r\n        this._currentIndexs = val;\r\n    }\r\n\r\n    get currentValue(): any{\r\n        return this._currentValue;\r\n    }\r\n\r\n    set currentValue(val: any){\r\n        this._currentValue = val;\r\n    }\r\n\r\n    get mask(): any{\r\n        return this._mask;\r\n    }\r\n\r\n    set mask(val: any){\r\n        this._mask = val;\r\n    }\r\n\r\n    // 辅助类变量\r\n    private _height :number = 0; //选择器格子的高度\r\n    \r\n\r\n    constructor(options?: object){  \r\n        super();  \r\n        this.opt = this.assign({\r\n            onchange: ()=>{},\r\n            success: ()=>{}\r\n        },options);\r\n\r\n\r\n        this.monthStr = this.createMonthStr();\r\n        this.dayStr = this.createDayStr();\r\n    }\r\n\r\n    \r\n\r\n    \r\n\r\n    public picker(params?: pickers){\r\n        this.params = this.assign({ \r\n            startYear: '1990',\r\n            endYear: '2030',\r\n            defaultDate: this.getToday('-'),\r\n            key: this.key,\r\n            outFormat: '-',\r\n            onchange: ()=>{},\r\n            success: ()=>{},\r\n            type: 'range'\r\n        },params);\r\n\r\n        \r\n        this.render();\r\n\r\n    }\r\n\r\n    public render(){ \r\n        // 渲染函数，一般要在子类重写\r\n        this.createMask();\r\n        this.createPicker();\r\n        \r\n    }\r\n\r\n    public createMask(){\r\n        // 创建蒙版\r\n        let maskName = `picker-mask`;\r\n        let $mask = this.select(`.${maskName}`);\r\n        let _this = this;\r\n        if(!$mask){\r\n            $mask = this.createElm(document.body,'div',maskName);\r\n            this.setCss($mask,{\r\n                'transition': '0.3s all linear',\r\n                'opacity': '0',\r\n                'display': 'none'\r\n            });\r\n\r\n        }\r\n\r\n        this.mask = $mask;\r\n    }\r\n\r\n    public createPicker(){ \r\n        // 创建选择器\r\n\r\n        let pickerName = `picker-key-${this.params.key}`;\r\n        let $picker = this.select(`.${pickerName}`);\r\n        let $pickerWrapper = this.select(`.${pickerName} .picker-wrapper`);\r\n        let _this = this;\r\n        \r\n        if(!$picker){\r\n            \r\n            let pickerHtml = this.renderHtml();\r\n            // console.log('picker',pickerHtml);\r\n            $picker = this.createElm(document.body,'div',pickerName);\r\n            $picker.innerHTML = pickerHtml;\r\n            $pickerWrapper = this.select(`.${pickerName} .picker-wrapper`);\r\n            this.setCss($pickerWrapper,{\r\n                'transition': '0.3s all linear',\r\n                'transform': 'translateY(100%)'\r\n            });\r\n            if(!_this._height){\r\n                _this._height = _this.select('.date-unit',$picker).clientHeight;\r\n            }\r\n            this.currentPicker = $picker || {}; //保存当前的选择器\r\n            this.currentPicker.years = this.getYearArray();\r\n            let defaultInfo = this.setDefaultView(); //设置默认日期的视图\r\n            this.bindEvents(defaultInfo);\r\n            this.rangeOperation();\r\n        }\r\n\r\n        // 添加显示状态\r\n        $picker.classList.add('__picker-type-show');\r\n        this.currentPicker = $picker || {}; //保存当前的选择器\r\n        this.currentPicker.years = this.getYearArray();\r\n    }\r\n\r\n    public renderHtml(): string{\r\n        // 获取html样式的函数，注意，该函数一般要在子类重写\r\n        let yearStr = this.createYearStr();\r\n        return temp.picker.replace('$1',yearStr)\r\n                            .replace('$2',this.monthStr)\r\n                            .replace('$3',this.dayStr);\r\n    }\r\n\r\n    public getYearArray(): Array<number>{\r\n        let years = [];\r\n        let startYear: any =  this.params.startYear;\r\n        let endYear: any = this.params.endYear;\r\n        for(let i=startYear-0;i<=endYear-0;i++){\r\n            years.push(i);\r\n        }\r\n        return years;\r\n    }\r\n\r\n    public createYearStr(): string{\r\n        // 创建年\r\n        let years = [];\r\n        let startYear: any =  this.params.startYear;\r\n        let endYear: any = this.params.endYear;\r\n        for(let i=startYear-0;i<=endYear-0;i++){\r\n            years.push(i);\r\n        }\r\n        let html = '';\r\n        years.forEach((item,i)=>{\r\n            html+= `<p class=\"date-unit\" data-year=\"${item}\">${item}年</p>`;\r\n        });\r\n        // console.log('year',html);\r\n        return html;\r\n    }\r\n\r\n    public createMonthStr(): string {\r\n        // 创建月\r\n        let months = [];\r\n        for(let i=1;i<=12;i++){\r\n            months.push(i);\r\n        }\r\n        let html = '';\r\n        months.forEach((item,i)=>{\r\n            let month = item>=10? item: '0'+item;\r\n            html+= `<p class=\"date-unit\" data-month=\"${item}\">${month}月</p>`;\r\n        });\r\n        // console.log('month',html);\r\n        return html;\r\n    }\r\n\r\n    public createDayStr(): string {\r\n        // 创建day\r\n        let days = [];\r\n        for(let i=1;i<=31;i++){\r\n            days.push(i);\r\n        }\r\n        let html = '';\r\n        days.forEach((item,i)=>{\r\n            let day = item>=10? item: '0'+item;\r\n            html+= `<p class=\"date-unit\" data-day=\"${item}\">${day}日</p>`;\r\n        });\r\n        // console.log('day',html);\r\n        return html;\r\n    }\r\n\r\n    public setDefaultView(){\r\n        if(!this.params.defaultDate){\r\n            console.error('Error: 默认日期(defaultDate)不能为空');\r\n            return;\r\n        }\r\n        let dateArray = this.params.defaultDate.split('-');\r\n        if(!dateArray || dateArray.length<3){\r\n            console.error('Error:默认日期(defaultDate)的格式有误,默认格式:2019-01-01 or 2019-1-1');\r\n            return;\r\n        }\r\n        \r\n        let $picker = this.currentPicker;\r\n        let $dateUtils = this.selectAll('.date-item',$picker);\r\n        // year\r\n        let yearIndex = this.currentToIndex(parseInt(dateArray[0])-parseInt(this.params.startYear));\r\n        this.setCss($dateUtils[0],{\r\n            'transform':`translateY(${yearIndex*this._height}px)`\r\n        });\r\n        // month\r\n        let monthIndex = this.currentToIndex(parseInt(dateArray[1])-1);\r\n\r\n        this.setCss($dateUtils[1],{\r\n            'transform':`translateY(${monthIndex*this._height}px)`\r\n        });\r\n\r\n        // month\r\n        let dayIndex = this.currentToIndex(parseInt(dateArray[2])-1);\r\n        this.setCss($dateUtils[2],{\r\n            'transform':`translateY(${dayIndex*this._height}px)`\r\n        });\r\n        return{\r\n            dateArray: dateArray,\r\n            heightArray: [yearIndex*this._height,monthIndex*this._height,dayIndex*this._height]\r\n        } ;\r\n\r\n    }\r\n\r\n    public bindEvents(defaultInfo: any){\r\n        if(!this.currentPicker){\r\n            console.error('Error: 选择器还没有渲染');\r\n            return;\r\n        }\r\n\r\n\r\n\r\n        let $dateGroups = this.selectAll('.date-group',this.currentPicker);\r\n        let _this = this;\r\n        Array.prototype.slice.call($dateGroups).forEach((dateGroup,i)=>{\r\n            let $dateUtils = _this.select('.date-item',dateGroup);\r\n            \r\n            _this.setCss($dateUtils,{\r\n                'transition':'0.1s all linear' \r\n            });   \r\n            // 注意：EndY的值不应该为0，而是调用默认视图函数后的距离\r\n            let EndY: number = defaultInfo.heightArray[i];\r\n\r\n            let touchs = new Touchs(dateGroup);\r\n            touchs.init({\r\n                startCb: (e: any, range: number)=>{\r\n                    _this.touchStart(e,$dateUtils);\r\n                },\r\n                moveCb: (e: any, range: number)=>{\r\n                    _this.touchMove(e,range,EndY,$dateUtils); \r\n                },\r\n                endCb: (e:any, endY: number)=>{\r\n                    EndY = _this.touchEnd(e,endY,EndY, $dateUtils,i,defaultInfo.dateArray);\r\n                    console.log('touchEnd',EndY) \r\n                }\r\n            })\r\n            // touchs.touchStart((e: any, range: number)=>{\r\n            //     _this.touchStart(e,$dateUtils);\r\n            // });\r\n            // touchs.touchMove((e: any, range: number)=>{\r\n            //     _this.touchMove(e,range,EndY,$dateUtils); \r\n            // });\r\n            // touchs.touchEnd((e:any, endY: number)=>{\r\n            //     EndY = _this.touchEnd(e,endY,EndY, $dateUtils,i,defaultInfo.dateArray);\r\n            //     console.log('touchEnd',EndY)\r\n            // })\r\n        });\r\n\r\n        this.mask.addEventListener('click',this.hide.bind(_this));\r\n\r\n    }\r\n\r\n    private touchStart(e: any, target: any){\r\n        console.log('start');\r\n        this.setCss(target,{\r\n            'transition':'.3s all linear',\r\n        });\r\n    }\r\n\r\n    private touchMove(e: any, range: number, EndY: number, target: any){\r\n        this.setCss(target,{\r\n            'transform': `translateY(${EndY+range*1}px)`\r\n        });\r\n    }\r\n\r\n    private touchEnd(e: any, endY: number, EndY: number, target: any, Index: number, dateArray: Array<any>){\r\n        EndY = EndY+endY;\r\n        let min = EndY >0?Math.floor(EndY / this._height): Math.ceil(EndY / this._height);\r\n        let max = EndY >0? min+1: min-1;\r\n        let middle = (max+min)/2*this._height;\r\n        let current = 0;\r\n        this.currentValue = dateArray;\r\n        // console.log('min',min);\r\n        // console.log('middle',middle);\r\n        // console.log('EndY', EndY);\r\n        if(Math.abs(EndY)>=Math.abs(middle)){\r\n            EndY = max*this._height;\r\n            current = max;\r\n        }else{\r\n            EndY = min*this._height;\r\n            current = min;\r\n        }\r\n        // 关于格子的数量\r\n        // 只有年和日是变化的，月份都是固定的(12)\r\n        var counts = 0;\r\n        switch (Index) {\r\n            case 0: //年\r\n                counts = this.currentPicker.years.length;\r\n                break;\r\n            case 1: //月\r\n                counts = 12;\r\n                break;\r\n            case 2: //日\r\n                // Todo\r\n                counts = this.getDay();\r\n                break;\r\n        \r\n            default:\r\n                break;\r\n        }\r\n        // 逻辑：\r\n        // 根据页面个结构，每个选择器只显示3个格子，所以中心的是2\r\n        // 那么头部不能超过的距离是 1*height\r\n        // 底部不能超过的距离是-(格子数量-2)*height\r\n        if(EndY>1*this._height){\r\n            EndY = 1*this._height;\r\n            current = 1;\r\n        }else if(Math.abs(EndY)>Math.abs(-(counts-2)*this._height)){\r\n            EndY = -(counts-2)*this._height;\r\n            current = -(counts-2);\r\n        }\r\n        this.currentIndexs[Index] = current; //保存当前的格子索引\r\n        let arrayIndex = this.currentToIndex(current); //把格子索引转成数组索引\r\n        if(Index==0){\r\n            // 只有年需要从数组中读取值\r\n            this.currentValue[Index] = this.currentPicker.years[arrayIndex];\r\n        }else{\r\n            this.currentValue[Index] = arrayIndex+1>=10?arrayIndex+1:'0'+(arrayIndex+1);\r\n        }\r\n        this.setCss(target,{\r\n            'transition':'.3s all linear',\r\n            'transform': `translateY(${EndY}px)`\r\n        });\r\n\r\n        // 调用onchange回调\r\n        this.opt.onchange(this.currentValue);\r\n        this.params.onchange(this.currentValue);\r\n        this.$emit(`onchange_${this.params.key}`,this.currentValue, Index);\r\n        return EndY;\r\n    }\r\n\r\n    public getDay(){\r\n        // 获取当月的天数\r\n        let _this = this;\r\n        let days = new Date(this.currentValue[0],this.currentValue[1],0).getDate();\r\n        console.log('days',days);\r\n        let $untis = this.selectAll('[data-day]',this.currentPicker);\r\n        const fade = (index,opacity)=>{\r\n            for(var i = 30; i>=index;i--){\r\n                _this.setCss($untis[i],{\r\n                    'opacity': opacity\r\n                })\r\n            }\r\n        }\r\n        switch (days) {\r\n            case 30:\r\n                fade(30,'0');\r\n                break;\r\n\r\n            case 28:\r\n                fade(28,'0');\r\n                break;\r\n\r\n            case 31:\r\n                fade(28,'1');\r\n                break;\r\n        \r\n            default:\r\n                break;\r\n        }\r\n        return days;\r\n    }\r\n\r\n    public currentToIndex(current: number){\r\n        // 逻辑：\r\n        // 根据页面布局，得来第一个格子是正数，其他的距离都是负数\r\n        // 所以可以通过(1-current)来获取当前格子数组的索引\r\n        return 1-current;\r\n    }\r\n\r\n    public hide(){\r\n        let _this = this;\r\n        // 关闭遮罩\r\n        this.setCss(this.mask,{\r\n            'opacity':'0'\r\n        });\r\n        this.sleep(()=>{\r\n            _this.setCss(_this.mask,{\r\n                'display':'none'\r\n            });\r\n        },300);\r\n        // 关闭选择器\r\n        let $pickerWrapper = this.select(`.picker-wrapper`,this.currentPicker);\r\n        this.setCss($pickerWrapper,{\r\n            'transform':'translateY(100%)'\r\n        });\r\n        this.currentPicker.classList.remove('__picker-type-show');\r\n        this.currentPicker.classList.add('__picker-type-hide');\r\n    }\r\n\r\n    public show(){\r\n\r\n        this.setCss(this.mask,{\r\n            'opacity': '1',\r\n            'display': 'block'\r\n        })\r\n\r\n        let $picker = this.currentPicker;\r\n        \r\n        if(!$picker){\r\n            let tip = `\r\n            没有该key(${this.params.key})值的选择器\r\n            请检查是否写错!\r\n            `;\r\n            console.error(tip);\r\n            this.errorTip(tip);\r\n            return;\r\n        }\r\n        let $pickerWrapper = this.select(`.picker-wrapper`,$picker);\r\n        this.setCss($pickerWrapper,{\r\n            'transform':'translateY(0px)'\r\n        });\r\n\r\n        $picker.classList.remove('__picker-type-hide');\r\n        $picker.classList.remove('__picker-type-show');\r\n\r\n    }\r\n\r\n    public rangeOperation(){\r\n        // 时间区间选择器的逻辑事件\r\n        let $picker = this.currentPicker;\r\n        let $rangeChilds = this.selectAll('.range-child',$picker);\r\n        let currentIndex = 0;\r\n        let _this = this;\r\n        Array.prototype.slice.call($rangeChilds).forEach((rangeChild,i)=>{\r\n            console.log('rangeChild',rangeChild);\r\n            rangeChild.addEventListener('click',(e)=>{\r\n                console.log(e)\r\n                if(e.target.classList.contains('range-act'))return;\r\n                Array.prototype.slice.call($rangeChilds).forEach(item => {\r\n\r\n                    item.classList.remove('range-act')\r\n                });\r\n\r\n                e.target.classList.add('range-act');\r\n                currentIndex = i;\r\n            })\r\n        });\r\n\r\n        // 订阅事件，监听选择器的变化，修改开始和结束的时间显示\r\n        let startTime ='', endTime = '';\r\n        this.$on(`onchange_${this.params.key}`,(data)=>{\r\n            let currentDate = data.join(_this.params.outFormat);\r\n            $rangeChilds[currentIndex].innerHTML = currentDate;\r\n            if(currentIndex==0){\r\n                // 开始日期\r\n                startTime = currentDate; \r\n            }else{\r\n                endTime = currentDate;\r\n            }\r\n\r\n        });\r\n\r\n        // 确定按钮\r\n        let $sure = this.select('.picker-btn__sure',this.currentPicker);\r\n        if(!$sure){\r\n            let tip = `\r\n            没找到确定按钮,\r\n            请确保class='.picker-btn__sure'的按钮没有被去掉\r\n            `;\r\n            console.error(tip);\r\n            this.errorTip(tip);\r\n            return;\r\n        }\r\n        $sure.addEventListener('click',(e)=>{\r\n            if(new Date(endTime).getTime()<new Date(startTime).getTime()){\r\n                let tip = `开始日期不能大于结束日期`;\r\n                this.errorTip(tip);\r\n                return;\r\n            }\r\n            let result = {\r\n                startTime,\r\n                endTime\r\n            }\r\n            _this.opt.success(result);\r\n            _this.params.success(result);\r\n\r\n            _this.hide();\r\n\r\n        });\r\n\r\n        // 取消按钮\r\n        let $cancel = this.select('.picker-btn__cancel',this.currentPicker);\r\n        if(!$cancel){\r\n            let tip = `\r\n            没找到取消按钮,\r\n            请确保class='.picker-btn__cancel'的按钮没有被去掉\r\n            `;\r\n            console.error(tip);\r\n            this.errorTip(tip);\r\n            return;\r\n        }\r\n\r\n        $cancel.addEventListener('click',(e)=>{\r\n            _this.hide();\r\n        })\r\n\r\n    }\r\n}","// import \"babel-polyfill\";\r\nimport polyfill from  './polyfill'; \r\npolyfill();  \r\nimport Utils from './utils';\r\nimport BasePicker from './basePicker';\r\n\r\ninterface globalOpt {\r\n    maxKeyCount?: number,\r\n    onchange?: Function,\r\n    success?: Function\r\n}\r\n \r\n// picker参数接口\r\ninterface pickers { \r\n    startYear?: string;\r\n    endYear?: string;\r\n    defaultDate?: string;\r\n    key?: number;\r\n    outFormat ?: string;\r\n    onchange?: Function;\r\n    success?: Function;\r\n    type?: string; //选择器类型：single, range, \r\n\r\n}\r\n\r\nclass DatePicker extends Utils{\r\n    constructor(){super()}\r\n    private _opt: globalOpt = {};\r\n    private _params: object = {}; //初始化配置\r\n    private _key: number = 1; //唯一key\r\n    private _keyList: Array<number> = []; //key列表\r\n    private _pickerList: Array<any> = []; //保存创建的picker对象\r\n\r\n    get opt(): globalOpt {\r\n        return this._opt;\r\n    }\r\n\r\n    set opt(val: globalOpt) {\r\n        this._opt = val;\r\n    }\r\n\r\n    get params(): pickers{\r\n        return this._params;\r\n    }\r\n\r\n    set params(val: pickers){\r\n        this._params = val;\r\n    }\r\n\r\n    get key(): number{\r\n        return this._key;\r\n    }\r\n\r\n    set key(val: number){\r\n        this._key = val;\r\n    }\r\n\r\n    get keyList(): any{\r\n        return this._keyList;\r\n    }\r\n\r\n    set keyList(val: any){\r\n        this._keyList = val;\r\n    }\r\n\r\n    get pickerList(): any{\r\n        return this._pickerList;\r\n    }\r\n\r\n    set pickerList(val: any){\r\n        this._pickerList = val;\r\n    } \r\n\r\n\r\n    // 辅助变量\r\n    private _maxKeyCount :number = 10; //可创建选择器的最大数量\r\n\r\n    public globalOptions(opt?: globalOpt){\r\n        this.opt = this.assign({\r\n            maxKeyCount: this._maxKeyCount,\r\n            onchange: ()=>{},\r\n            success: ()=>{}\r\n        },opt);\r\n\r\n        this.opt.maxKeyCount = this.opt.maxKeyCount > 0 && this.opt.maxKeyCount<=20\r\n                                ? this.opt.maxKeyCount\r\n                                : this._maxKeyCount;\r\n    }\r\n\r\n    public picker(params?: pickers){\r\n        this.params = this.assign({ \r\n            startYear: '1990',\r\n            endYear: '2030',\r\n            defaultDate: this.getToday('-'),\r\n            key: this.key,\r\n            outFormat: '-',\r\n            onchange: ()=>{},\r\n            success: ()=>{},\r\n            type: 'range'\r\n        },params);\r\n\r\n        // 保存key值，如果列表的key值过多，禁止创建\r\n        if(!this.keyList.includes(this.params.key)){\r\n\r\n            this.keyList.push(this.params.key);\r\n            this.key+=1;\r\n           \r\n            let picker = new BasePicker(this.opt);\r\n            picker.picker(this.params);//初始化\r\n            this.pickerList.push({\r\n                key: this.params.key,\r\n                picker: picker\r\n            });\r\n\r\n        }\r\n        if(this.keyList.length>this.opt.maxKeyCount){\r\n            let tip = `\r\n            Error:检测到页面上创建的选择器过多!\r\n            请检查代码是否有问题\r\n            请不要在循环或者事件中重复调用.picker()方法\r\n            若非要如此调用，一定要加上key属性\r\n            建议在外面调用.picker()方法，在里面调用.show()方法显示\r\n            `;\r\n            console.error(tip);\r\n            this.errorTip(tip); \r\n            return;\r\n        }\r\n\r\n        let picker = this.pickerList.find(item=>item.key==this.params.key);\r\n        \r\n        if(!picker){\r\n            let tip = `\r\n            Error:找不到该key(${this.params.key})的选择器,\r\n            请检查代码是否有问题\r\n            `;\r\n            console.error(tip);\r\n            this.errorTip(tip);\r\n            return;\r\n        }\r\n\r\n        return picker.picker; \r\n\r\n    }\r\n\r\n}\r\n\r\nconst datePicker = new DatePicker();\r\n\r\nexport default datePicker;","import datePicker from './datePicker';\r\n\r\ndatePicker.globalOptions({\r\n    success: (data)=>{\r\n        console.log(data);\r\n    }\r\n})\r\nlet picker1 = datePicker.picker({\r\n    onchange:(data)=>{\r\n        console.log('onchange',data);\r\n    }\r\n});\r\nconsole.log('-----------------------')\r\nlet picker2 = datePicker.picker({\r\n    onchange:(data)=>{\r\n        console.log('onchange',data);\r\n    }\r\n});\r\n\r\ndocument.getElementsByClassName('picker')[0].addEventListener('click',()=>{\r\n    console.log('click')\r\n    picker1.show();\r\n})\r\n\r\ndocument.getElementsByClassName('picker')[1].addEventListener('click',()=>{\r\n\r\n    picker2.show(); \r\n})\r\n","// es6补丁\r\nconst polyfill = () =>{\r\n    // includes\r\n    if (!Array.prototype.includes) {\r\n        Object.defineProperty(Array.prototype, 'includes', {\r\n          value: function(searchElement, fromIndex) {\r\n            if (this == null) {\r\n              throw new TypeError('\"this\" is null or not defined');\r\n            }\r\n            var o = Object(this);\r\n            var len = o.length >>> 0;\r\n            if (len === 0) {\r\n              return false;\r\n            }\r\n            var n = fromIndex | 0;\r\n            var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\r\n            while (k < len) {\r\n              if (o[k] === searchElement) {\r\n                return true;\r\n              }\r\n              k++;\r\n            }\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n\r\n      if (!Array.prototype.find) {\r\n        Object.defineProperty(Array.prototype, 'find', {\r\n          value: function(predicate) {\r\n           // 1. Let O be ? ToObject(this value).\r\n            if (this == null) {\r\n              throw new TypeError('\"this\" is null or not defined');\r\n            }\r\n      \r\n            var o = Object(this);\r\n      \r\n            // 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n            var len = o.length >>> 0;\r\n      \r\n            // 3. If IsCallable(predicate) is false, throw a TypeError exception.\r\n            if (typeof predicate !== 'function') {\r\n              throw new TypeError('predicate must be a function');\r\n            }\r\n      \r\n            // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n            var thisArg = arguments[1];\r\n      \r\n            // 5. Let k be 0.\r\n            var k = 0;\r\n      \r\n            // 6. Repeat, while k < len\r\n            while (k < len) {\r\n              // a. Let Pk be ! ToString(k).\r\n              // b. Let kValue be ? Get(O, Pk).\r\n              // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\r\n              // d. If testResult is true, return kValue.\r\n              var kValue = o[k];\r\n              if (predicate.call(thisArg, kValue, k, o)) {\r\n                return kValue;\r\n              }\r\n              // e. Increase k by 1.\r\n              k++;\r\n            }\r\n      \r\n            // 7. Return undefined.\r\n            return undefined;\r\n          }\r\n        });\r\n      }\r\n}\r\nexport default polyfill;","// 模板字符串\r\n\r\nexport const mask = `\r\n<div class=\"picker-mask\"></div>\r\n`;\r\n\r\nexport const range = `\r\n<div class=\"picker-range\">\r\n    <p class=\"range-child start-time range-act\">开始日期</p>\r\n    <span>至</span>\r\n    <p class=\"range-child end-time\">结束日期</p>\r\n</div>\r\n`;\r\n\r\n\r\nexport const picker = `\r\n<div class=\"picker-wrapper\">\r\n    <div class=\"picker-head flex space-between\">\r\n        <span class=\"cancel picker-btn__cancel\">取消</span>\r\n        <span class=\"sure picker-btn__sure\">确定</span>\r\n    </div>\r\n    <div class=\"picker-body\">\r\n        ${range}\r\n\r\n        <div class=\"date-content flex\">\r\n\r\n            <div class=\"date-group flex-item\">\r\n                    <div class=\"content-mask mask-top\"></div>\r\n                    <div class=\"content-mask mask-bottom\"></div>\r\n                    <div class=\"date-item \">\r\n                        $1\r\n                    </div>\r\n            </div>\r\n            <div class=\"date-group flex-item\">\r\n                <div class=\"content-mask mask-top\"></div>\r\n                <div class=\"content-mask mask-bottom\"></div>\r\n                <div class=\"date-item\">\r\n                    $2\r\n                </div>\r\n            </div>\r\n            <div class=\"date-group flex-item\">\r\n                <div class=\"content-mask mask-top\"></div>\r\n                <div class=\"content-mask mask-bottom\"></div>\r\n                <div class=\"date-item\">\r\n                    $3\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n`;\r\n\r\n","// import { resolve } from \"any-promise\";\r\nimport Utils from './utils';\r\nexport default class Touchs extends Utils {\r\n    private _target: any;\r\n    private _startY: number;\r\n    private _endY: number;\r\n    private _range: number;\r\n\r\n    // 辅助类参数\r\n    private bool: boolean = true;\r\n    private limit: number = 0; //限流\r\n    private _startTime: number = 0;\r\n    private _endTime: number =0;\r\n    private _supportTouch: boolean = \"ontouchend\" in document; //判断浏览器是否支持touch\r\n    private _touchName: any = {};\r\n    private _startCb: Function = null;\r\n    private _moveCb: Function = null;\r\n    private _endCb: Function = null;\r\n    private _touchStartHander: any = null;\r\n    private _touchMoveHander: any = null;\r\n    private _touchEndHander: any = null;\r\n\r\n    constructor(target: any){\r\n        super();\r\n        console.log('init')\r\n        this._target = target;\r\n        this.touchName = {\r\n            start: this._supportTouch? 'touchstart':'mousedown',\r\n            move: this._supportTouch? 'touchmove':'mousemove',\r\n            end: this._supportTouch? 'touchend':'mouseup',\r\n        }\r\n    }\r\n\r\n    get target(): any{\r\n        if(this._target){\r\n            return this._target\r\n        }else{\r\n            console.error('Error: 没有找到target对象');\r\n            return null\r\n        }\r\n    }\r\n\r\n    get startY(): number{\r\n        return this._startY;\r\n    }\r\n\r\n    set startY(val: number){\r\n        this._startY = val;\r\n    }\r\n\r\n    \r\n    get endY(): number{\r\n        return this._endY; \r\n    }\r\n    \r\n    set endY(val: number) {\r\n        this._endY = val;\r\n    }\r\n\r\n    get range(): number {\r\n        return this._range;\r\n    }\r\n\r\n    set range(val: number){\r\n        this._range = val;\r\n    }\r\n\r\n    get touchName(): any {\r\n        return this._touchName;\r\n    }\r\n\r\n    set touchName(val: any){\r\n        this._touchName = val;\r\n    }\r\n\r\n    public init(params?: any){\r\n        this._startCb = params.startCb;\r\n        this._moveCb = params.moveCb;\r\n        this._endCb = params.endCb;\r\n\r\n        this.touchStart();\r\n    }\r\n\r\n    private binds(obj,fn){\r\n        return (e)=>{\r\n            // console.log('arg',e); \r\n            arguments[0] = e;\r\n            fn.apply(obj, arguments);\r\n        }\r\n    }\r\n\r\n    private touchStart(){\r\n        // touchstart:\r\n        // 1. 给target绑定touch事件\r\n        console.log(this.target)  \r\n        let _this = this;\r\n        this._touchStartHander = this.binds(this,this.touchStartHander);\r\n        this._touchMoveHander = this.binds(this,this.touchMoveHander);\r\n        this._touchEndHander = this.binds(this,this.touchEndHander);\r\n        _this.target.addEventListener(this.touchName.start,this._touchStartHander,false);\r\n        \r\n    }\r\n\r\n    private touchStartHander(){\r\n        let e = arguments[0]\r\n        this.startY = this._supportTouch?e.touches[0].pageY: e.pageY;\r\n        this._startTime = new Date().getTime();\r\n        this._startCb(e);\r\n        this.target.addEventListener(this.touchName.move,this._touchMoveHander,false);\r\n        this.target.addEventListener(this.touchName.end,this._touchEndHander,false);\r\n        this.target.addEventListener('touchcancel',this._touchEndHander,false);\r\n    }\r\n \r\n\r\n    private touchMoveHander(){\r\n        let e = arguments[0];\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        // 限流-start\r\n        this.limit++;\r\n        if(this.limit>=5){\r\n            this.limit = 0;\r\n            this.bool = true;\r\n        }\r\n        if(!this.bool)return;\r\n        this.bool = false;\r\n        // 限流-end\r\n        let pageY = this._supportTouch?e.touches[0].pageY: e.pageY;\r\n        this.range = pageY - this._startY;\r\n        this._moveCb(e,this.range);\r\n    }\r\n\r\n\r\n    private touchEndHander(){ \r\n        let e = arguments[0];\r\n        let _this = this;\r\n        // this.target.removeEventListener(this.touchName.start,_this._touchStartHander,false);\r\n        this.target.removeEventListener(this.touchName.move,this._touchMoveHander,false);\r\n        this.target.removeEventListener(this.touchName.end,this._touchEndHander,false);\r\n        this.target.removeEventListener('touchcancel',this._touchEndHander,false);\r\n        \r\n        this.endY = this.range || 0; \r\n        // 随流效果\r\n        this._endTime = new Date().getTime();\r\n        let rangeTime = (this._endTime - this._startTime)/1000;//单位: 秒\r\n        if(this.endY!==0){\r\n\r\n            let space = Math.floor(Math.abs(this.endY)/(rangeTime*5));\r\n            this.endY = this.endY>0? this.endY+space: this.endY-space;\r\n\r\n        }\r\n        \r\n        this._endCb(e, this.endY);\r\n    }\r\n}","// 工具类\r\nexport default class Utils {\r\n    private _eventLists: object = {};\r\n    constructor(){}\r\n\r\n    public select(elm: string, target?: any){\r\n        if(target){\r\n            return target.querySelector(elm);\r\n        }\r\n        return document.querySelector(elm);\r\n    }\r\n\r\n    public selectAll(elm: string, target?: any){\r\n        if(target){\r\n            return target.querySelectorAll(elm);\r\n        }\r\n        return document.querySelectorAll(elm);\r\n    }\r\n\r\n    public createElm(target: any, label: string, className?: string){\r\n        // 创建元素\r\n        const $elm = document.createElement(label);\r\n        $elm.classList.add(className);\r\n        target.appendChild($elm);\r\n        return $elm;\r\n    }\r\n\r\n    public setCss(target: any, css: object){\r\n        // 设置css样式\r\n        for(let attr in css){\r\n            target.style[attr] = css[attr];\r\n        }\r\n    }\r\n\r\n    public sleep(cb: Function, timeout: number){\r\n        // 延迟\r\n        setTimeout(cb, timeout);\r\n    }\r\n\r\n    public getToday(format: string): string{\r\n        // 获取今天的日期: 2019-01-01\r\n        let date = new Date();\r\n        let year = date.getFullYear();\r\n        let month: any = date.getMonth()+1;\r\n        let day: any = date.getDate();\r\n        month = month>=10? month: '0'+month;\r\n        day = day>=10? day: '0'+day;\r\n        return [year,month,day].join(format);\r\n    }\r\n\r\n    public $on(eventName: string, fn: Function){\r\n        // 订阅事件\r\n        if(this._eventLists[eventName]){\r\n            this._eventLists[eventName].push(fn);\r\n        }else{\r\n            this._eventLists[eventName] = [fn];\r\n            console.log('eventLists',this._eventLists[eventName]);\r\n        }\r\n    }\r\n\r\n    public $emit(eventName: string, ...args){\r\n        // 触发事件\r\n        if(this._eventLists[eventName]){\r\n            this._eventLists[eventName].forEach((fn,i)=>{\r\n                fn(...args);\r\n            })\r\n        }\r\n    }\r\n\r\n    public assign(extended,options){\r\n        for (let property in options) {\r\n            try { \r\n              if (options[property].constructor == Object) {\r\n                extended[property] = this.assign(extended[property], options[property]);\r\n              } else {\r\n                extended[property] = options[property];\r\n              }\r\n            } catch (ex) {\r\n              extended[property] = options[property];\r\n            }\r\n          }\r\n        \r\n          return extended;\r\n    }\r\n\r\n    // 自定义提示\r\n    public Tip(tipName: string, msg: string, timeout?: number){\r\n        let $tip = this.select(tipName);\r\n        let _this = this;\r\n        if(!$tip){\r\n            $tip = this.createElm(document.body,'div',tipName);\r\n        }\r\n\r\n        $tip.innerHTML = msg;\r\n\r\n        this.setCss($tip,{\r\n            'display':'block',\r\n            'opacity': '1'\r\n        });\r\n\r\n        this.sleep(()=>{\r\n            _this.setCss($tip,{\r\n                'opacity': '0'\r\n            })\r\n        },timeout|| 2000)\r\n\r\n        this.sleep(()=>{\r\n            _this.setCss($tip,{\r\n                'display': 'none'\r\n            })\r\n        },(timeout|| 1000)+300)\r\n    }\r\n\r\n    \r\n    public errorTip(msg: string, timeout?: number){\r\n        let tipName = 'datePicker-errorTip';\r\n        this.Tip(tipName, msg, timeout);\r\n\r\n    }\r\n\r\n    public successTip(msg: string, timeout?: number){\r\n        let tipName = 'datePicker-successTip';\r\n        this.Tip(tipName, msg, timeout);\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdHMvYmFzZVBpY2tlci50cyIsInNyYy90cy9kYXRlUGlja2VyLnRzIiwic3JjL3RzL2luZGV4LnRzIiwic3JjL3RzL3BvbHlmaWxsLmpzIiwic3JjL3RzL3RlbXBsYXRlLnRzIiwic3JjL3RzL3RvdWNoLnRzIiwic3JjL3RzL3V0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBOzs7Ozs7Ozs7OztBQUVBLElBQUEsVUFBQSxRQUFBLFNBQUEsQ0FBQTtBQUVBLElBQUEsT0FBQSxRQUFBLFlBQUEsQ0FBQTtBQUNBLElBQUEsVUFBQSxRQUFBLFNBQUEsQ0FBQTs7SUFlcUIsVTs7O0FBNEZqQix3QkFBWSxPQUFaLEVBQTRCO0FBQUE7O0FBQUE7O0FBM0ZwQixlQUFBLElBQUEsR0FBZSxFQUFmLENBMkZvQixDQTNGRDtBQUNuQixlQUFBLE9BQUEsR0FBa0IsRUFBbEIsQ0EwRm9CLENBMUZFO0FBQ3RCLGVBQUEsSUFBQSxHQUFlLENBQWYsQ0F5Rm9CLENBekZGO0FBRWxCLGVBQUEsU0FBQSxHQUFvQixFQUFwQixDQXVGb0IsQ0F2Rkk7QUFDeEIsZUFBQSxPQUFBLEdBQWtCLEVBQWxCLENBc0ZvQixDQXRGRTtBQUV0QixlQUFBLGNBQUEsR0FBc0IsSUFBdEIsQ0FvRm9CLENBcEZRO0FBRTVCLGVBQUEsY0FBQSxHQUFnQyxFQUFoQyxDQWtGb0IsQ0FsRmU7QUFFbkMsZUFBQSxhQUFBLEdBQXNDLEVBQXRDLENBZ0ZvQixDQWhGc0I7QUFFMUMsZUFBQSxLQUFBLEdBQWEsSUFBYixDQThFb0IsQ0E5RUQ7QUEwRTNCO0FBQ1EsZUFBQSxPQUFBLEdBQWtCLENBQWxCLENBR29CLENBSEM7QUFLekIsZUFBSyxHQUFMLEdBQVcsT0FBSyxNQUFMLENBQVk7QUFDbkIsc0JBQVUsb0JBQUksQ0FBRSxDQURHO0FBRW5CLHFCQUFTLG1CQUFJLENBQUU7QUFGSSxTQUFaLEVBR1Qs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QUFMLENBQVcsWUFBSTtBQUNYLHNCQUFNLE1BQU4sQ0FBYSxJQUFiLEVBQWtCO0FBQ2QsK0JBQVc7QUFERyxpQkFBbEI7QUFHSCxhQUpELEVBSUUsV0FBVSxJQUpaO0FBTUEsaUJBQUssS0FBTCxDQUFXLFlBQUk7QUFDWCxzQkFBTSxNQUFOLENBQWEsSUFBYixFQUFrQjtBQUNkLCtCQUFXO0FBREcsaUJBQWxCO0FBR0gsYUFKRCxFQUlFLENBQUMsV0FBVSxJQUFYLElBQWlCLEdBSm5CO0FBS0g7OztpQ0FHZSxHLEVBQWEsTyxFQUFnQjtBQUN6QyxnQkFBSSxVQUFVLHFCQUFkO0FBQ0EsaUJBQUssR0FBTCxDQUFTLE9BQVQsRUFBa0IsR0FBbEIsRUFBdUIsT0FBdkI7QUFFSDs7O21DQUVpQixHLEVBQWEsTyxFQUFnQjtBQUMzQyxnQkFBSSxVQUFVLHVCQUFkO0FBQ0EsaUJBQUssR0FBTCxDQUFTLE9BQVQsRUFBa0IsR0FBbEIsRUFBdUIsT0FBdkI7QUFFSDs7Ozs7O0FBM0hMLFFBQUEsT0FBQSxHQUFBLEtBQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvLyDml7bpl7TpgInmi6nlmajmoLjlv4Pku6PnoIFcclxuXHJcbmltcG9ydCBVdGlscyBmcm9tICcuL3V0aWxzJztcclxuXHJcbmltcG9ydCAqIGFzIHRlbXAgZnJvbSAnLi90ZW1wbGF0ZSc7XHJcbmltcG9ydCBUb3VjaHMgZnJvbSAnLi90b3VjaCc7XHJcblxyXG4vLyBwaWNrZXLlj4LmlbDmjqXlj6NcclxuaW50ZXJmYWNlIHBpY2tlcnMge1xyXG4gICAgICAgIHN0YXJ0WWVhcj86IHN0cmluZztcclxuICAgICAgICBlbmRZZWFyPzogc3RyaW5nO1xyXG4gICAgICAgIGRlZmF1bHREYXRlPzogc3RyaW5nO1xyXG4gICAgICAgIGtleT86IG51bWJlcjtcclxuICAgICAgICBvdXRGb3JtYXQgPzogc3RyaW5nO1xyXG4gICAgICAgIG9uY2hhbmdlPzogRnVuY3Rpb247IFxyXG4gICAgICAgIHN1Y2Nlc3M/OiBGdW5jdGlvbjtcclxuICAgICAgICB0eXBlPzogc3RyaW5nOyAvL+mAieaLqeWZqOexu+Wei++8mnNpbmdsZSwgcmFuZ2UsIFxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZVBpY2tlciBleHRlbmRzIFV0aWxzIHtcclxuICAgIHByaXZhdGUgX29wdDogb2JqZWN0ID0ge307IC8v5YWo5bGA6YWN572uXHJcbiAgICBwcml2YXRlIF9wYXJhbXM6IG9iamVjdCA9IHt9OyAvL+WIneWni+WMlumFjee9rlxyXG4gICAgcHJpdmF0ZSBfa2V5OiBudW1iZXIgPSAxOyAvL+WUr+S4gGtleVxyXG5cclxuICAgIHByaXZhdGUgX21vbnRoU3RyOiBzdHJpbmcgPSAnJzsgLy/mnIjku73lrZfnrKbkuLJcclxuICAgIHByaXZhdGUgX2RheVN0cjogc3RyaW5nID0gJyc7IC8v5aSp5pWw5a2X56ym5LiyXHJcblxyXG4gICAgcHJpdmF0ZSBfY3VycmVudFBpY2tlcjogYW55ID0gbnVsbDsgLy/kv53lrZjlvZPliY3mmL7npLrnmoTpgInmi6nlmahcclxuXHJcbiAgICBwcml2YXRlIF9jdXJyZW50SW5kZXhzOiBBcnJheTxudW1iZXI+ID0gW107Ly/kv53lrZjlvZPliY3pgInmi6nnmoTmoLzlrZDntKLlvJVcclxuXHJcbiAgICBwcml2YXRlIF9jdXJyZW50VmFsdWU6IEFycmF5PG51bWJlcnxzdHJpbmc+ID0gW107IC8v5L+d5a2Y5b2T5YmN6YCJ5oup55qE5YC8XHJcblxyXG4gICAgcHJpdmF0ZSBfbWFzazogYW55ID0gbnVsbDsgLy/kv53lrZjllK/kuIDnmoTpga7nvalcclxuXHJcbiAgICBnZXQgb3B0KCk6IGFueXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb3B0O1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBvcHQodmFsOiBhbnkpe1xyXG4gICAgICAgIHRoaXMuX29wdCA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGFyYW1zKCk6IHBpY2tlcnN7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtcztcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcGFyYW1zKHZhbDogcGlja2Vycyl7XHJcbiAgICAgICAgdGhpcy5fcGFyYW1zID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBrZXkoKTogbnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9rZXk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGtleSh2YWw6IG51bWJlcil7XHJcbiAgICAgICAgdGhpcy5fa2V5ID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBtb250aFN0cigpOiBzdHJpbmd7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoU3RyO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBtb250aFN0cih2YWw6IHN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5fbW9udGhTdHIgPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGRheVN0cigpOiBzdHJpbmd7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RheVN0cjtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgZGF5U3RyKHZhbDogc3RyaW5nKXtcclxuICAgICAgICB0aGlzLl9kYXlTdHIgPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGN1cnJlbnRQaWNrZXIoKTogYW55e1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50UGlja2VyO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBjdXJyZW50UGlja2VyKHZhbDogYW55KXtcclxuICAgICAgICB0aGlzLl9jdXJyZW50UGlja2VyID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjdXJyZW50SW5kZXhzKCk6IGFueXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudEluZGV4cztcclxuICAgIH1cclxuXHJcbiAgICBzZXQgY3VycmVudEluZGV4cyh2YWw6IGFueSl7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudEluZGV4cyA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3VycmVudFZhbHVlKCk6IGFueXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBjdXJyZW50VmFsdWUodmFsOiBhbnkpe1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRWYWx1ZSA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbWFzaygpOiBhbnl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hc2s7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IG1hc2sodmFsOiBhbnkpe1xyXG4gICAgICAgIHRoaXMuX21hc2sgPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6L6F5Yqp57G75Y+Y6YePXHJcbiAgICBwcml2YXRlIF9oZWlnaHQgOm51bWJlciA9IDA7IC8v6YCJ5oup5Zmo5qC85a2Q55qE6auY5bqmXHJcbiAgICBcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogb2JqZWN0KXsgIFxyXG4gICAgICAgIHN1cGVyKCk7ICBcclxuICAgICAgICB0aGlzLm9wdCA9IHRoaXMuYXNzaWduKHtcclxuICAgICAgICAgICAgb25jaGFuZ2U6ICgpPT57fSxcclxuICAgICAgICAgICAgc3VjY2VzczogKCk9Pnt9XHJcbiAgICAgICAgfSxvcHRpb25zKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMubW9udGhTdHIgPSB0aGlzLmNyZWF0ZU1vbnRoU3RyKCk7XHJcbiAgICAgICAgdGhpcy5kYXlTdHIgPSB0aGlzLmNyZWF0ZURheVN0cigpO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG5cclxuICAgIFxyXG5cclxuICAgIHB1YmxpYyBwaWNrZXIocGFyYW1zPzogcGlja2Vycyl7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMgPSB0aGlzLmFzc2lnbih7IFxyXG4gICAgICAgICAgICBzdGFydFllYXI6ICcxOTkwJyxcclxuICAgICAgICAgICAgZW5kWWVhcjogJzIwMzAnLFxyXG4gICAgICAgICAgICBkZWZhdWx0RGF0ZTogdGhpcy5nZXRUb2RheSgnLScpLFxyXG4gICAgICAgICAgICBrZXk6IHRoaXMua2V5LFxyXG4gICAgICAgICAgICBvdXRGb3JtYXQ6ICctJyxcclxuICAgICAgICAgICAgb25jaGFuZ2U6ICgpPT57fSxcclxuICAgICAgICAgICAgc3VjY2VzczogKCk9Pnt9LFxyXG4gICAgICAgICAgICB0eXBlOiAncmFuZ2UnXHJcbiAgICAgICAgfSxwYXJhbXMpO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKCl7IFxyXG4gICAgICAgIC8vIOa4suafk+WHveaVsO+8jOS4gOiIrOimgeWcqOWtkOexu+mHjeWGmVxyXG4gICAgICAgIHRoaXMuY3JlYXRlTWFzaygpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlUGlja2VyKCk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZU1hc2soKXtcclxuICAgICAgICAvLyDliJvlu7rokpnniYhcclxuICAgICAgICBsZXQgbWFza05hbWUgPSBgcGlja2VyLW1hc2tgO1xyXG4gICAgICAgIGxldCAkbWFzayA9IHRoaXMuc2VsZWN0KGAuJHttYXNrTmFtZX1gKTtcclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmKCEkbWFzayl7XHJcbiAgICAgICAgICAgICRtYXNrID0gdGhpcy5jcmVhdGVFbG0oZG9jdW1lbnQuYm9keSwnZGl2JyxtYXNrTmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q3NzKCRtYXNrLHtcclxuICAgICAgICAgICAgICAgICd0cmFuc2l0aW9uJzogJzAuM3MgYWxsIGxpbmVhcicsXHJcbiAgICAgICAgICAgICAgICAnb3BhY2l0eSc6ICcwJyxcclxuICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJ25vbmUnXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubWFzayA9ICRtYXNrO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVQaWNrZXIoKXsgXHJcbiAgICAgICAgLy8g5Yib5bu66YCJ5oup5ZmoXHJcblxyXG4gICAgICAgIGxldCBwaWNrZXJOYW1lID0gYHBpY2tlci1rZXktJHt0aGlzLnBhcmFtcy5rZXl9YDtcclxuICAgICAgICBsZXQgJHBpY2tlciA9IHRoaXMuc2VsZWN0KGAuJHtwaWNrZXJOYW1lfWApO1xyXG4gICAgICAgIGxldCAkcGlja2VyV3JhcHBlciA9IHRoaXMuc2VsZWN0KGAuJHtwaWNrZXJOYW1lfSAucGlja2VyLXdyYXBwZXJgKTtcclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKCEkcGlja2VyKXtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBwaWNrZXJIdG1sID0gdGhpcy5yZW5kZXJIdG1sKCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdwaWNrZXInLHBpY2tlckh0bWwpO1xyXG4gICAgICAgICAgICAkcGlja2VyID0gdGhpcy5jcmVhdGVFbG0oZG9jdW1lbnQuYm9keSwnZGl2JyxwaWNrZXJOYW1lKTtcclxuICAgICAgICAgICAgJHBpY2tlci5pbm5lckhUTUwgPSBwaWNrZXJIdG1sO1xyXG4gICAgICAgICAgICAkcGlja2VyV3JhcHBlciA9IHRoaXMuc2VsZWN0KGAuJHtwaWNrZXJOYW1lfSAucGlja2VyLXdyYXBwZXJgKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRDc3MoJHBpY2tlcldyYXBwZXIse1xyXG4gICAgICAgICAgICAgICAgJ3RyYW5zaXRpb24nOiAnMC4zcyBhbGwgbGluZWFyJyxcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgxMDAlKSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmKCFfdGhpcy5faGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9oZWlnaHQgPSBfdGhpcy5zZWxlY3QoJy5kYXRlLXVuaXQnLCRwaWNrZXIpLmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWNrZXIgPSAkcGlja2VyIHx8IHt9OyAvL+S/neWtmOW9k+WJjeeahOmAieaLqeWZqFxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWNrZXIueWVhcnMgPSB0aGlzLmdldFllYXJBcnJheSgpO1xyXG4gICAgICAgICAgICBsZXQgZGVmYXVsdEluZm8gPSB0aGlzLnNldERlZmF1bHRWaWV3KCk7IC8v6K6+572u6buY6K6k5pel5pyf55qE6KeG5Zu+XHJcbiAgICAgICAgICAgIHRoaXMuYmluZEV2ZW50cyhkZWZhdWx0SW5mbyk7XHJcbiAgICAgICAgICAgIHRoaXMucmFuZ2VPcGVyYXRpb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOa3u+WKoOaYvuekuueKtuaAgVxyXG4gICAgICAgICRwaWNrZXIuY2xhc3NMaXN0LmFkZCgnX19waWNrZXItdHlwZS1zaG93Jyk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGlja2VyID0gJHBpY2tlciB8fCB7fTsgLy/kv53lrZjlvZPliY3nmoTpgInmi6nlmahcclxuICAgICAgICB0aGlzLmN1cnJlbnRQaWNrZXIueWVhcnMgPSB0aGlzLmdldFllYXJBcnJheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXJIdG1sKCk6IHN0cmluZ3tcclxuICAgICAgICAvLyDojrflj5ZodG1s5qC35byP55qE5Ye95pWw77yM5rOo5oSP77yM6K+l5Ye95pWw5LiA6Iis6KaB5Zyo5a2Q57G76YeN5YaZXHJcbiAgICAgICAgbGV0IHllYXJTdHIgPSB0aGlzLmNyZWF0ZVllYXJTdHIoKTtcclxuICAgICAgICByZXR1cm4gdGVtcC5waWNrZXIucmVwbGFjZSgnJDEnLHllYXJTdHIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJDInLHRoaXMubW9udGhTdHIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJDMnLHRoaXMuZGF5U3RyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0WWVhckFycmF5KCk6IEFycmF5PG51bWJlcj57XHJcbiAgICAgICAgbGV0IHllYXJzID0gW107XHJcbiAgICAgICAgbGV0IHN0YXJ0WWVhcjogYW55ID0gIHRoaXMucGFyYW1zLnN0YXJ0WWVhcjtcclxuICAgICAgICBsZXQgZW5kWWVhcjogYW55ID0gdGhpcy5wYXJhbXMuZW5kWWVhcjtcclxuICAgICAgICBmb3IobGV0IGk9c3RhcnRZZWFyLTA7aTw9ZW5kWWVhci0wO2krKyl7XHJcbiAgICAgICAgICAgIHllYXJzLnB1c2goaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB5ZWFycztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlWWVhclN0cigpOiBzdHJpbmd7XHJcbiAgICAgICAgLy8g5Yib5bu65bm0XHJcbiAgICAgICAgbGV0IHllYXJzID0gW107XHJcbiAgICAgICAgbGV0IHN0YXJ0WWVhcjogYW55ID0gIHRoaXMucGFyYW1zLnN0YXJ0WWVhcjtcclxuICAgICAgICBsZXQgZW5kWWVhcjogYW55ID0gdGhpcy5wYXJhbXMuZW5kWWVhcjtcclxuICAgICAgICBmb3IobGV0IGk9c3RhcnRZZWFyLTA7aTw9ZW5kWWVhci0wO2krKyl7XHJcbiAgICAgICAgICAgIHllYXJzLnB1c2goaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBodG1sID0gJyc7XHJcbiAgICAgICAgeWVhcnMuZm9yRWFjaCgoaXRlbSxpKT0+e1xyXG4gICAgICAgICAgICBodG1sKz0gYDxwIGNsYXNzPVwiZGF0ZS11bml0XCIgZGF0YS15ZWFyPVwiJHtpdGVtfVwiPiR7aXRlbX3lubQ8L3A+YDtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygneWVhcicsaHRtbCk7XHJcbiAgICAgICAgcmV0dXJuIGh0bWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZU1vbnRoU3RyKCk6IHN0cmluZyB7XHJcbiAgICAgICAgLy8g5Yib5bu65pyIXHJcbiAgICAgICAgbGV0IG1vbnRocyA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgaT0xO2k8PTEyO2krKyl7XHJcbiAgICAgICAgICAgIG1vbnRocy5wdXNoKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaHRtbCA9ICcnO1xyXG4gICAgICAgIG1vbnRocy5mb3JFYWNoKChpdGVtLGkpPT57XHJcbiAgICAgICAgICAgIGxldCBtb250aCA9IGl0ZW0+PTEwPyBpdGVtOiAnMCcraXRlbTtcclxuICAgICAgICAgICAgaHRtbCs9IGA8cCBjbGFzcz1cImRhdGUtdW5pdFwiIGRhdGEtbW9udGg9XCIke2l0ZW19XCI+JHttb250aH3mnIg8L3A+YDtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnbW9udGgnLGh0bWwpO1xyXG4gICAgICAgIHJldHVybiBodG1sO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVEYXlTdHIoKTogc3RyaW5nIHtcclxuICAgICAgICAvLyDliJvlu7pkYXlcclxuICAgICAgICBsZXQgZGF5cyA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgaT0xO2k8PTMxO2krKyl7XHJcbiAgICAgICAgICAgIGRheXMucHVzaChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcclxuICAgICAgICBkYXlzLmZvckVhY2goKGl0ZW0saSk9PntcclxuICAgICAgICAgICAgbGV0IGRheSA9IGl0ZW0+PTEwPyBpdGVtOiAnMCcraXRlbTtcclxuICAgICAgICAgICAgaHRtbCs9IGA8cCBjbGFzcz1cImRhdGUtdW5pdFwiIGRhdGEtZGF5PVwiJHtpdGVtfVwiPiR7ZGF5feaXpTwvcD5gO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdkYXknLGh0bWwpO1xyXG4gICAgICAgIHJldHVybiBodG1sO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXREZWZhdWx0Vmlldygpe1xyXG4gICAgICAgIGlmKCF0aGlzLnBhcmFtcy5kZWZhdWx0RGF0ZSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOiDpu5jorqTml6XmnJ8oZGVmYXVsdERhdGUp5LiN6IO95Li656m6Jyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRhdGVBcnJheSA9IHRoaXMucGFyYW1zLmRlZmF1bHREYXRlLnNwbGl0KCctJyk7XHJcbiAgICAgICAgaWYoIWRhdGVBcnJheSB8fCBkYXRlQXJyYXkubGVuZ3RoPDMpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjrpu5jorqTml6XmnJ8oZGVmYXVsdERhdGUp55qE5qC85byP5pyJ6K+vLOm7mOiupOagvOW8jzoyMDE5LTAxLTAxIG9yIDIwMTktMS0xJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0ICRwaWNrZXIgPSB0aGlzLmN1cnJlbnRQaWNrZXI7XHJcbiAgICAgICAgbGV0ICRkYXRlVXRpbHMgPSB0aGlzLnNlbGVjdEFsbCgnLmRhdGUtaXRlbScsJHBpY2tlcik7XHJcbiAgICAgICAgLy8geWVhclxyXG4gICAgICAgIGxldCB5ZWFySW5kZXggPSB0aGlzLmN1cnJlbnRUb0luZGV4KHBhcnNlSW50KGRhdGVBcnJheVswXSktcGFyc2VJbnQodGhpcy5wYXJhbXMuc3RhcnRZZWFyKSk7XHJcbiAgICAgICAgdGhpcy5zZXRDc3MoJGRhdGVVdGlsc1swXSx7XHJcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOmB0cmFuc2xhdGVZKCR7eWVhckluZGV4KnRoaXMuX2hlaWdodH1weClgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gbW9udGhcclxuICAgICAgICBsZXQgbW9udGhJbmRleCA9IHRoaXMuY3VycmVudFRvSW5kZXgocGFyc2VJbnQoZGF0ZUFycmF5WzFdKS0xKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRDc3MoJGRhdGVVdGlsc1sxXSx7XHJcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOmB0cmFuc2xhdGVZKCR7bW9udGhJbmRleCp0aGlzLl9oZWlnaHR9cHgpYFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBtb250aFxyXG4gICAgICAgIGxldCBkYXlJbmRleCA9IHRoaXMuY3VycmVudFRvSW5kZXgocGFyc2VJbnQoZGF0ZUFycmF5WzJdKS0xKTtcclxuICAgICAgICB0aGlzLnNldENzcygkZGF0ZVV0aWxzWzJdLHtcclxuICAgICAgICAgICAgJ3RyYW5zZm9ybSc6YHRyYW5zbGF0ZVkoJHtkYXlJbmRleCp0aGlzLl9oZWlnaHR9cHgpYFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybntcclxuICAgICAgICAgICAgZGF0ZUFycmF5OiBkYXRlQXJyYXksXHJcbiAgICAgICAgICAgIGhlaWdodEFycmF5OiBbeWVhckluZGV4KnRoaXMuX2hlaWdodCxtb250aEluZGV4KnRoaXMuX2hlaWdodCxkYXlJbmRleCp0aGlzLl9oZWlnaHRdXHJcbiAgICAgICAgfSA7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiaW5kRXZlbnRzKGRlZmF1bHRJbmZvOiBhbnkpe1xyXG4gICAgICAgIGlmKCF0aGlzLmN1cnJlbnRQaWNrZXIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjog6YCJ5oup5Zmo6L+Y5rKh5pyJ5riy5p+TJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgbGV0ICRkYXRlR3JvdXBzID0gdGhpcy5zZWxlY3RBbGwoJy5kYXRlLWdyb3VwJyx0aGlzLmN1cnJlbnRQaWNrZXIpO1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoJGRhdGVHcm91cHMpLmZvckVhY2goKGRhdGVHcm91cCxpKT0+e1xyXG4gICAgICAgICAgICBsZXQgJGRhdGVVdGlscyA9IF90aGlzLnNlbGVjdCgnLmRhdGUtaXRlbScsZGF0ZUdyb3VwKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIF90aGlzLnNldENzcygkZGF0ZVV0aWxzLHtcclxuICAgICAgICAgICAgICAgICd0cmFuc2l0aW9uJzonMC4xcyBhbGwgbGluZWFyJyBcclxuICAgICAgICAgICAgfSk7ICAgXHJcbiAgICAgICAgICAgIC8vIOazqOaEj++8mkVuZFnnmoTlgLzkuI3lupTor6XkuLow77yM6ICM5piv6LCD55So6buY6K6k6KeG5Zu+5Ye95pWw5ZCO55qE6Led56a7XHJcbiAgICAgICAgICAgIGxldCBFbmRZOiBudW1iZXIgPSBkZWZhdWx0SW5mby5oZWlnaHRBcnJheVtpXTtcclxuXHJcbiAgICAgICAgICAgIGxldCB0b3VjaHMgPSBuZXcgVG91Y2hzKGRhdGVHcm91cCk7XHJcbiAgICAgICAgICAgIHRvdWNocy5pbml0KHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0Q2I6IChlOiBhbnksIHJhbmdlOiBudW1iZXIpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudG91Y2hTdGFydChlLCRkYXRlVXRpbHMpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1vdmVDYjogKGU6IGFueSwgcmFuZ2U6IG51bWJlcik9PntcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy50b3VjaE1vdmUoZSxyYW5nZSxFbmRZLCRkYXRlVXRpbHMpOyBcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbmRDYjogKGU6YW55LCBlbmRZOiBudW1iZXIpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgRW5kWSA9IF90aGlzLnRvdWNoRW5kKGUsZW5kWSxFbmRZLCAkZGF0ZVV0aWxzLGksZGVmYXVsdEluZm8uZGF0ZUFycmF5KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndG91Y2hFbmQnLEVuZFkpIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAvLyB0b3VjaHMudG91Y2hTdGFydCgoZTogYW55LCByYW5nZTogbnVtYmVyKT0+e1xyXG4gICAgICAgICAgICAvLyAgICAgX3RoaXMudG91Y2hTdGFydChlLCRkYXRlVXRpbHMpO1xyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgLy8gdG91Y2hzLnRvdWNoTW92ZSgoZTogYW55LCByYW5nZTogbnVtYmVyKT0+e1xyXG4gICAgICAgICAgICAvLyAgICAgX3RoaXMudG91Y2hNb3ZlKGUscmFuZ2UsRW5kWSwkZGF0ZVV0aWxzKTsgXHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAvLyB0b3VjaHMudG91Y2hFbmQoKGU6YW55LCBlbmRZOiBudW1iZXIpPT57XHJcbiAgICAgICAgICAgIC8vICAgICBFbmRZID0gX3RoaXMudG91Y2hFbmQoZSxlbmRZLEVuZFksICRkYXRlVXRpbHMsaSxkZWZhdWx0SW5mby5kYXRlQXJyYXkpO1xyXG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ3RvdWNoRW5kJyxFbmRZKVxyXG4gICAgICAgICAgICAvLyB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1hc2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLHRoaXMuaGlkZS5iaW5kKF90aGlzKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdG91Y2hTdGFydChlOiBhbnksIHRhcmdldDogYW55KXtcclxuICAgICAgICBjb25zb2xlLmxvZygnc3RhcnQnKTtcclxuICAgICAgICB0aGlzLnNldENzcyh0YXJnZXQse1xyXG4gICAgICAgICAgICAndHJhbnNpdGlvbic6Jy4zcyBhbGwgbGluZWFyJyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRvdWNoTW92ZShlOiBhbnksIHJhbmdlOiBudW1iZXIsIEVuZFk6IG51bWJlciwgdGFyZ2V0OiBhbnkpe1xyXG4gICAgICAgIHRoaXMuc2V0Q3NzKHRhcmdldCx7XHJcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlWSgke0VuZFkrcmFuZ2UqMX1weClgXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0b3VjaEVuZChlOiBhbnksIGVuZFk6IG51bWJlciwgRW5kWTogbnVtYmVyLCB0YXJnZXQ6IGFueSwgSW5kZXg6IG51bWJlciwgZGF0ZUFycmF5OiBBcnJheTxhbnk+KXtcclxuICAgICAgICBFbmRZID0gRW5kWStlbmRZO1xyXG4gICAgICAgIGxldCBtaW4gPSBFbmRZID4wP01hdGguZmxvb3IoRW5kWSAvIHRoaXMuX2hlaWdodCk6IE1hdGguY2VpbChFbmRZIC8gdGhpcy5faGVpZ2h0KTtcclxuICAgICAgICBsZXQgbWF4ID0gRW5kWSA+MD8gbWluKzE6IG1pbi0xO1xyXG4gICAgICAgIGxldCBtaWRkbGUgPSAobWF4K21pbikvMip0aGlzLl9oZWlnaHQ7XHJcbiAgICAgICAgbGV0IGN1cnJlbnQgPSAwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gZGF0ZUFycmF5O1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdtaW4nLG1pbik7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ21pZGRsZScsbWlkZGxlKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnRW5kWScsIEVuZFkpO1xyXG4gICAgICAgIGlmKE1hdGguYWJzKEVuZFkpPj1NYXRoLmFicyhtaWRkbGUpKXtcclxuICAgICAgICAgICAgRW5kWSA9IG1heCp0aGlzLl9oZWlnaHQ7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBtYXg7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIEVuZFkgPSBtaW4qdGhpcy5faGVpZ2h0O1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gbWluO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDlhbPkuo7moLzlrZDnmoTmlbDph49cclxuICAgICAgICAvLyDlj6rmnInlubTlkozml6XmmK/lj5jljJbnmoTvvIzmnIjku73pg73mmK/lm7rlrprnmoQoMTIpXHJcbiAgICAgICAgdmFyIGNvdW50cyA9IDA7XHJcbiAgICAgICAgc3dpdGNoIChJbmRleCkge1xyXG4gICAgICAgICAgICBjYXNlIDA6IC8v5bm0XHJcbiAgICAgICAgICAgICAgICBjb3VudHMgPSB0aGlzLmN1cnJlbnRQaWNrZXIueWVhcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTogLy/mnIhcclxuICAgICAgICAgICAgICAgIGNvdW50cyA9IDEyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjogLy/ml6VcclxuICAgICAgICAgICAgICAgIC8vIFRvZG9cclxuICAgICAgICAgICAgICAgIGNvdW50cyA9IHRoaXMuZ2V0RGF5KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICBcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDpgLvovpHvvJpcclxuICAgICAgICAvLyDmoLnmja7pobXpnaLkuKrnu5PmnoTvvIzmr4/kuKrpgInmi6nlmajlj6rmmL7npLoz5Liq5qC85a2Q77yM5omA5Lul5Lit5b+D55qE5pivMlxyXG4gICAgICAgIC8vIOmCo+S5iOWktOmDqOS4jeiDvei2hei/h+eahOi3neemu+aYryAxKmhlaWdodFxyXG4gICAgICAgIC8vIOW6lemDqOS4jeiDvei2hei/h+eahOi3neemu+aYry0o5qC85a2Q5pWw6YePLTIpKmhlaWdodFxyXG4gICAgICAgIGlmKEVuZFk+MSp0aGlzLl9oZWlnaHQpe1xyXG4gICAgICAgICAgICBFbmRZID0gMSp0aGlzLl9oZWlnaHQ7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSAxO1xyXG4gICAgICAgIH1lbHNlIGlmKE1hdGguYWJzKEVuZFkpPk1hdGguYWJzKC0oY291bnRzLTIpKnRoaXMuX2hlaWdodCkpe1xyXG4gICAgICAgICAgICBFbmRZID0gLShjb3VudHMtMikqdGhpcy5faGVpZ2h0O1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gLShjb3VudHMtMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4c1tJbmRleF0gPSBjdXJyZW50OyAvL+S/neWtmOW9k+WJjeeahOagvOWtkOe0ouW8lVxyXG4gICAgICAgIGxldCBhcnJheUluZGV4ID0gdGhpcy5jdXJyZW50VG9JbmRleChjdXJyZW50KTsgLy/miormoLzlrZDntKLlvJXovazmiJDmlbDnu4TntKLlvJVcclxuICAgICAgICBpZihJbmRleD09MCl7XHJcbiAgICAgICAgICAgIC8vIOWPquacieW5tOmcgOimgeS7juaVsOe7hOS4reivu+WPluWAvFxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZVtJbmRleF0gPSB0aGlzLmN1cnJlbnRQaWNrZXIueWVhcnNbYXJyYXlJbmRleF07XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlW0luZGV4XSA9IGFycmF5SW5kZXgrMT49MTA/YXJyYXlJbmRleCsxOicwJysoYXJyYXlJbmRleCsxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRDc3ModGFyZ2V0LHtcclxuICAgICAgICAgICAgJ3RyYW5zaXRpb24nOicuM3MgYWxsIGxpbmVhcicsXHJcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlWSgke0VuZFl9cHgpYFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyDosIPnlKhvbmNoYW5nZeWbnuiwg1xyXG4gICAgICAgIHRoaXMub3B0Lm9uY2hhbmdlKHRoaXMuY3VycmVudFZhbHVlKTtcclxuICAgICAgICB0aGlzLnBhcmFtcy5vbmNoYW5nZSh0aGlzLmN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgdGhpcy4kZW1pdChgb25jaGFuZ2VfJHt0aGlzLnBhcmFtcy5rZXl9YCx0aGlzLmN1cnJlbnRWYWx1ZSwgSW5kZXgpO1xyXG4gICAgICAgIHJldHVybiBFbmRZO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREYXkoKXtcclxuICAgICAgICAvLyDojrflj5blvZPmnIjnmoTlpKnmlbBcclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGxldCBkYXlzID0gbmV3IERhdGUodGhpcy5jdXJyZW50VmFsdWVbMF0sdGhpcy5jdXJyZW50VmFsdWVbMV0sMCkuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdkYXlzJyxkYXlzKTtcclxuICAgICAgICBsZXQgJHVudGlzID0gdGhpcy5zZWxlY3RBbGwoJ1tkYXRhLWRheV0nLHRoaXMuY3VycmVudFBpY2tlcik7XHJcbiAgICAgICAgY29uc3QgZmFkZSA9IChpbmRleCxvcGFjaXR5KT0+e1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAzMDsgaT49aW5kZXg7aS0tKXtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldENzcygkdW50aXNbaV0se1xyXG4gICAgICAgICAgICAgICAgICAgICdvcGFjaXR5Jzogb3BhY2l0eVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKGRheXMpIHtcclxuICAgICAgICAgICAgY2FzZSAzMDpcclxuICAgICAgICAgICAgICAgIGZhZGUoMzAsJzAnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAyODpcclxuICAgICAgICAgICAgICAgIGZhZGUoMjgsJzAnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAzMTpcclxuICAgICAgICAgICAgICAgIGZhZGUoMjgsJzEnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkYXlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjdXJyZW50VG9JbmRleChjdXJyZW50OiBudW1iZXIpe1xyXG4gICAgICAgIC8vIOmAu+i+ke+8mlxyXG4gICAgICAgIC8vIOagueaNrumhtemdouW4g+WxgO+8jOW+l+adpeesrOS4gOS4quagvOWtkOaYr+ato+aVsO+8jOWFtuS7lueahOi3neemu+mDveaYr+i0n+aVsFxyXG4gICAgICAgIC8vIOaJgOS7peWPr+S7pemAmui/hygxLWN1cnJlbnQp5p2l6I635Y+W5b2T5YmN5qC85a2Q5pWw57uE55qE57Si5byVXHJcbiAgICAgICAgcmV0dXJuIDEtY3VycmVudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGlkZSgpe1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8g5YWz6Zet6YGu572pXHJcbiAgICAgICAgdGhpcy5zZXRDc3ModGhpcy5tYXNrLHtcclxuICAgICAgICAgICAgJ29wYWNpdHknOicwJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2xlZXAoKCk9PntcclxuICAgICAgICAgICAgX3RoaXMuc2V0Q3NzKF90aGlzLm1hc2sse1xyXG4gICAgICAgICAgICAgICAgJ2Rpc3BsYXknOidub25lJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LDMwMCk7XHJcbiAgICAgICAgLy8g5YWz6Zet6YCJ5oup5ZmoXHJcbiAgICAgICAgbGV0ICRwaWNrZXJXcmFwcGVyID0gdGhpcy5zZWxlY3QoYC5waWNrZXItd3JhcHBlcmAsdGhpcy5jdXJyZW50UGlja2VyKTtcclxuICAgICAgICB0aGlzLnNldENzcygkcGlja2VyV3JhcHBlcix7XHJcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOid0cmFuc2xhdGVZKDEwMCUpJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBpY2tlci5jbGFzc0xpc3QucmVtb3ZlKCdfX3BpY2tlci10eXBlLXNob3cnKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQaWNrZXIuY2xhc3NMaXN0LmFkZCgnX19waWNrZXItdHlwZS1oaWRlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3coKXtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRDc3ModGhpcy5tYXNrLHtcclxuICAgICAgICAgICAgJ29wYWNpdHknOiAnMScsXHJcbiAgICAgICAgICAgICdkaXNwbGF5JzogJ2Jsb2NrJ1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGxldCAkcGlja2VyID0gdGhpcy5jdXJyZW50UGlja2VyO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKCEkcGlja2VyKXtcclxuICAgICAgICAgICAgbGV0IHRpcCA9IGBcclxuICAgICAgICAgICAg5rKh5pyJ6K+la2V5KCR7dGhpcy5wYXJhbXMua2V5fSnlgLznmoTpgInmi6nlmahcclxuICAgICAgICAgICAg6K+35qOA5p+l5piv5ZCm5YaZ6ZSZIVxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHRpcCk7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3JUaXAodGlwKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgJHBpY2tlcldyYXBwZXIgPSB0aGlzLnNlbGVjdChgLnBpY2tlci13cmFwcGVyYCwkcGlja2VyKTtcclxuICAgICAgICB0aGlzLnNldENzcygkcGlja2VyV3JhcHBlcix7XHJcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOid0cmFuc2xhdGVZKDBweCknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRwaWNrZXIuY2xhc3NMaXN0LnJlbW92ZSgnX19waWNrZXItdHlwZS1oaWRlJyk7XHJcbiAgICAgICAgJHBpY2tlci5jbGFzc0xpc3QucmVtb3ZlKCdfX3BpY2tlci10eXBlLXNob3cnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJhbmdlT3BlcmF0aW9uKCl7XHJcbiAgICAgICAgLy8g5pe26Ze05Yy66Ze06YCJ5oup5Zmo55qE6YC76L6R5LqL5Lu2XHJcbiAgICAgICAgbGV0ICRwaWNrZXIgPSB0aGlzLmN1cnJlbnRQaWNrZXI7XHJcbiAgICAgICAgbGV0ICRyYW5nZUNoaWxkcyA9IHRoaXMuc2VsZWN0QWxsKCcucmFuZ2UtY2hpbGQnLCRwaWNrZXIpO1xyXG4gICAgICAgIGxldCBjdXJyZW50SW5kZXggPSAwO1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoJHJhbmdlQ2hpbGRzKS5mb3JFYWNoKChyYW5nZUNoaWxkLGkpPT57XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyYW5nZUNoaWxkJyxyYW5nZUNoaWxkKTtcclxuICAgICAgICAgICAgcmFuZ2VDaGlsZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKGUpPT57XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKVxyXG4gICAgICAgICAgICAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyYW5nZS1hY3QnKSlyZXR1cm47XHJcbiAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCgkcmFuZ2VDaGlsZHMpLmZvckVhY2goaXRlbSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2UtYWN0JylcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3JhbmdlLWFjdCcpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudEluZGV4ID0gaTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8g6K6i6ZiF5LqL5Lu277yM55uR5ZCs6YCJ5oup5Zmo55qE5Y+Y5YyW77yM5L+u5pS55byA5aeL5ZKM57uT5p2f55qE5pe26Ze05pi+56S6XHJcbiAgICAgICAgbGV0IHN0YXJ0VGltZSA9JycsIGVuZFRpbWUgPSAnJztcclxuICAgICAgICB0aGlzLiRvbihgb25jaGFuZ2VfJHt0aGlzLnBhcmFtcy5rZXl9YCwoZGF0YSk9PntcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnREYXRlID0gZGF0YS5qb2luKF90aGlzLnBhcmFtcy5vdXRGb3JtYXQpO1xyXG4gICAgICAgICAgICAkcmFuZ2VDaGlsZHNbY3VycmVudEluZGV4XS5pbm5lckhUTUwgPSBjdXJyZW50RGF0ZTtcclxuICAgICAgICAgICAgaWYoY3VycmVudEluZGV4PT0wKXtcclxuICAgICAgICAgICAgICAgIC8vIOW8gOWni+aXpeacn1xyXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gY3VycmVudERhdGU7IFxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGVuZFRpbWUgPSBjdXJyZW50RGF0ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8g56Gu5a6a5oyJ6ZKuXHJcbiAgICAgICAgbGV0ICRzdXJlID0gdGhpcy5zZWxlY3QoJy5waWNrZXItYnRuX19zdXJlJyx0aGlzLmN1cnJlbnRQaWNrZXIpO1xyXG4gICAgICAgIGlmKCEkc3VyZSl7XHJcbiAgICAgICAgICAgIGxldCB0aXAgPSBgXHJcbiAgICAgICAgICAgIOayoeaJvuWIsOehruWumuaMiemSrixcclxuICAgICAgICAgICAg6K+356Gu5L+dY2xhc3M9Jy5waWNrZXItYnRuX19zdXJlJ+eahOaMiemSruayoeacieiiq+WOu+aOiVxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHRpcCk7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3JUaXAodGlwKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkc3VyZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKGUpPT57XHJcbiAgICAgICAgICAgIGlmKG5ldyBEYXRlKGVuZFRpbWUpLmdldFRpbWUoKTxuZXcgRGF0ZShzdGFydFRpbWUpLmdldFRpbWUoKSl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGlwID0gYOW8gOWni+aXpeacn+S4jeiDveWkp+S6jue7k+adn+aXpeacn2A7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yVGlwKHRpcCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZSxcclxuICAgICAgICAgICAgICAgIGVuZFRpbWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5vcHQuc3VjY2VzcyhyZXN1bHQpO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJhbXMuc3VjY2VzcyhyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8g5Y+W5raI5oyJ6ZKuXHJcbiAgICAgICAgbGV0ICRjYW5jZWwgPSB0aGlzLnNlbGVjdCgnLnBpY2tlci1idG5fX2NhbmNlbCcsdGhpcy5jdXJyZW50UGlja2VyKTtcclxuICAgICAgICBpZighJGNhbmNlbCl7XHJcbiAgICAgICAgICAgIGxldCB0aXAgPSBgXHJcbiAgICAgICAgICAgIOayoeaJvuWIsOWPlua2iOaMiemSrixcclxuICAgICAgICAgICAg6K+356Gu5L+dY2xhc3M9Jy5waWNrZXItYnRuX19jYW5jZWwn55qE5oyJ6ZKu5rKh5pyJ6KKr5Y675o6JXHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGlwKTtcclxuICAgICAgICAgICAgdGhpcy5lcnJvclRpcCh0aXApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoZSk9PntcclxuICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG59IiwiLy8gaW1wb3J0IFwiYmFiZWwtcG9seWZpbGxcIjtcclxuaW1wb3J0IHBvbHlmaWxsIGZyb20gICcuL3BvbHlmaWxsJzsgXHJcbnBvbHlmaWxsKCk7ICBcclxuaW1wb3J0IFV0aWxzIGZyb20gJy4vdXRpbHMnO1xyXG5pbXBvcnQgQmFzZVBpY2tlciBmcm9tICcuL2Jhc2VQaWNrZXInO1xyXG5cclxuaW50ZXJmYWNlIGdsb2JhbE9wdCB7XHJcbiAgICBtYXhLZXlDb3VudD86IG51bWJlcixcclxuICAgIG9uY2hhbmdlPzogRnVuY3Rpb24sXHJcbiAgICBzdWNjZXNzPzogRnVuY3Rpb25cclxufVxyXG4gXHJcbi8vIHBpY2tlcuWPguaVsOaOpeWPo1xyXG5pbnRlcmZhY2UgcGlja2VycyB7IFxyXG4gICAgc3RhcnRZZWFyPzogc3RyaW5nO1xyXG4gICAgZW5kWWVhcj86IHN0cmluZztcclxuICAgIGRlZmF1bHREYXRlPzogc3RyaW5nO1xyXG4gICAga2V5PzogbnVtYmVyO1xyXG4gICAgb3V0Rm9ybWF0ID86IHN0cmluZztcclxuICAgIG9uY2hhbmdlPzogRnVuY3Rpb247XHJcbiAgICBzdWNjZXNzPzogRnVuY3Rpb247XHJcbiAgICB0eXBlPzogc3RyaW5nOyAvL+mAieaLqeWZqOexu+Wei++8mnNpbmdsZSwgcmFuZ2UsIFxyXG5cclxufVxyXG5cclxuY2xhc3MgRGF0ZVBpY2tlciBleHRlbmRzIFV0aWxze1xyXG4gICAgY29uc3RydWN0b3IoKXtzdXBlcigpfVxyXG4gICAgcHJpdmF0ZSBfb3B0OiBnbG9iYWxPcHQgPSB7fTtcclxuICAgIHByaXZhdGUgX3BhcmFtczogb2JqZWN0ID0ge307IC8v5Yid5aeL5YyW6YWN572uXHJcbiAgICBwcml2YXRlIF9rZXk6IG51bWJlciA9IDE7IC8v5ZSv5LiAa2V5XHJcbiAgICBwcml2YXRlIF9rZXlMaXN0OiBBcnJheTxudW1iZXI+ID0gW107IC8va2V55YiX6KGoXHJcbiAgICBwcml2YXRlIF9waWNrZXJMaXN0OiBBcnJheTxhbnk+ID0gW107IC8v5L+d5a2Y5Yib5bu655qEcGlja2Vy5a+56LGhXHJcblxyXG4gICAgZ2V0IG9wdCgpOiBnbG9iYWxPcHQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vcHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IG9wdCh2YWw6IGdsb2JhbE9wdCkge1xyXG4gICAgICAgIHRoaXMuX29wdCA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGFyYW1zKCk6IHBpY2tlcnN7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtcztcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcGFyYW1zKHZhbDogcGlja2Vycyl7XHJcbiAgICAgICAgdGhpcy5fcGFyYW1zID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBrZXkoKTogbnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9rZXk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGtleSh2YWw6IG51bWJlcil7XHJcbiAgICAgICAgdGhpcy5fa2V5ID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBrZXlMaXN0KCk6IGFueXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fa2V5TGlzdDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQga2V5TGlzdCh2YWw6IGFueSl7XHJcbiAgICAgICAgdGhpcy5fa2V5TGlzdCA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGlja2VyTGlzdCgpOiBhbnl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpY2tlckxpc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHBpY2tlckxpc3QodmFsOiBhbnkpe1xyXG4gICAgICAgIHRoaXMuX3BpY2tlckxpc3QgPSB2YWw7XHJcbiAgICB9IFxyXG5cclxuXHJcbiAgICAvLyDovoXliqnlj5jph49cclxuICAgIHByaXZhdGUgX21heEtleUNvdW50IDpudW1iZXIgPSAxMDsgLy/lj6/liJvlu7rpgInmi6nlmajnmoTmnIDlpKfmlbDph49cclxuXHJcbiAgICBwdWJsaWMgZ2xvYmFsT3B0aW9ucyhvcHQ/OiBnbG9iYWxPcHQpe1xyXG4gICAgICAgIHRoaXMub3B0ID0gdGhpcy5hc3NpZ24oe1xyXG4gICAgICAgICAgICBtYXhLZXlDb3VudDogdGhpcy5fbWF4S2V5Q291bnQsXHJcbiAgICAgICAgICAgIG9uY2hhbmdlOiAoKT0+e30sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6ICgpPT57fVxyXG4gICAgICAgIH0sb3B0KTtcclxuXHJcbiAgICAgICAgdGhpcy5vcHQubWF4S2V5Q291bnQgPSB0aGlzLm9wdC5tYXhLZXlDb3VudCA+IDAgJiYgdGhpcy5vcHQubWF4S2V5Q291bnQ8PTIwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLm9wdC5tYXhLZXlDb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5fbWF4S2V5Q291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBpY2tlcihwYXJhbXM/OiBwaWNrZXJzKXtcclxuICAgICAgICB0aGlzLnBhcmFtcyA9IHRoaXMuYXNzaWduKHsgXHJcbiAgICAgICAgICAgIHN0YXJ0WWVhcjogJzE5OTAnLFxyXG4gICAgICAgICAgICBlbmRZZWFyOiAnMjAzMCcsXHJcbiAgICAgICAgICAgIGRlZmF1bHREYXRlOiB0aGlzLmdldFRvZGF5KCctJyksXHJcbiAgICAgICAgICAgIGtleTogdGhpcy5rZXksXHJcbiAgICAgICAgICAgIG91dEZvcm1hdDogJy0nLFxyXG4gICAgICAgICAgICBvbmNoYW5nZTogKCk9Pnt9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoKT0+e30sXHJcbiAgICAgICAgICAgIHR5cGU6ICdyYW5nZSdcclxuICAgICAgICB9LHBhcmFtcyk7XHJcblxyXG4gICAgICAgIC8vIOS/neWtmGtleeWAvO+8jOWmguaenOWIl+ihqOeahGtleeWAvOi/h+Wkmu+8jOemgeatouWIm+W7ulxyXG4gICAgICAgIGlmKCF0aGlzLmtleUxpc3QuaW5jbHVkZXModGhpcy5wYXJhbXMua2V5KSl7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmtleUxpc3QucHVzaCh0aGlzLnBhcmFtcy5rZXkpO1xyXG4gICAgICAgICAgICB0aGlzLmtleSs9MTtcclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHBpY2tlciA9IG5ldyBCYXNlUGlja2VyKHRoaXMub3B0KTtcclxuICAgICAgICAgICAgcGlja2VyLnBpY2tlcih0aGlzLnBhcmFtcyk7Ly/liJ3lp4vljJZcclxuICAgICAgICAgICAgdGhpcy5waWNrZXJMaXN0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAga2V5OiB0aGlzLnBhcmFtcy5rZXksXHJcbiAgICAgICAgICAgICAgICBwaWNrZXI6IHBpY2tlclxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMua2V5TGlzdC5sZW5ndGg+dGhpcy5vcHQubWF4S2V5Q291bnQpe1xyXG4gICAgICAgICAgICBsZXQgdGlwID0gYFxyXG4gICAgICAgICAgICBFcnJvcjrmo4DmtYvliLDpobXpnaLkuIrliJvlu7rnmoTpgInmi6nlmajov4flpJohXHJcbiAgICAgICAgICAgIOivt+ajgOafpeS7o+eggeaYr+WQpuaciemXrumimFxyXG4gICAgICAgICAgICDor7fkuI3opoHlnKjlvqrnjq/miJbogIXkuovku7bkuK3ph43lpI3osIPnlKgucGlja2VyKCnmlrnms5VcclxuICAgICAgICAgICAg6Iul6Z2e6KaB5aaC5q2k6LCD55So77yM5LiA5a6a6KaB5Yqg5LiKa2V55bGe5oCnXHJcbiAgICAgICAgICAgIOW7uuiuruWcqOWklumdouiwg+eUqC5waWNrZXIoKeaWueazle+8jOWcqOmHjOmdouiwg+eUqC5zaG93KCnmlrnms5XmmL7npLpcclxuICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcih0aXApO1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yVGlwKHRpcCk7IFxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcGlja2VyID0gdGhpcy5waWNrZXJMaXN0LmZpbmQoaXRlbT0+aXRlbS5rZXk9PXRoaXMucGFyYW1zLmtleSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoIXBpY2tlcil7XHJcbiAgICAgICAgICAgIGxldCB0aXAgPSBgXHJcbiAgICAgICAgICAgIEVycm9yOuaJvuS4jeWIsOivpWtleSgke3RoaXMucGFyYW1zLmtleX0p55qE6YCJ5oup5ZmoLFxyXG4gICAgICAgICAgICDor7fmo4Dmn6Xku6PnoIHmmK/lkKbmnInpl67pophcclxuICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcih0aXApO1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yVGlwKHRpcCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBwaWNrZXIucGlja2VyOyBcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jb25zdCBkYXRlUGlja2VyID0gbmV3IERhdGVQaWNrZXIoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRhdGVQaWNrZXI7IiwiaW1wb3J0IGRhdGVQaWNrZXIgZnJvbSAnLi9kYXRlUGlja2VyJztcclxuXHJcbmRhdGVQaWNrZXIuZ2xvYmFsT3B0aW9ucyh7XHJcbiAgICBzdWNjZXNzOiAoZGF0YSk9PntcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgIH1cclxufSlcclxubGV0IHBpY2tlcjEgPSBkYXRlUGlja2VyLnBpY2tlcih7XHJcbiAgICBvbmNoYW5nZTooZGF0YSk9PntcclxuICAgICAgICBjb25zb2xlLmxvZygnb25jaGFuZ2UnLGRhdGEpO1xyXG4gICAgfVxyXG59KTtcclxuY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJylcclxubGV0IHBpY2tlcjIgPSBkYXRlUGlja2VyLnBpY2tlcih7XHJcbiAgICBvbmNoYW5nZTooZGF0YSk9PntcclxuICAgICAgICBjb25zb2xlLmxvZygnb25jaGFuZ2UnLGRhdGEpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BpY2tlcicpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xyXG4gICAgY29uc29sZS5sb2coJ2NsaWNrJylcclxuICAgIHBpY2tlcjEuc2hvdygpO1xyXG59KVxyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGlja2VyJylbMV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57XHJcblxyXG4gICAgcGlja2VyMi5zaG93KCk7IFxyXG59KVxyXG4iLCIvLyBlczbooaXkuIFcclxuY29uc3QgcG9seWZpbGwgPSAoKSA9PntcclxuICAgIC8vIGluY2x1ZGVzXHJcbiAgICBpZiAoIUFycmF5LnByb3RvdHlwZS5pbmNsdWRlcykge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdpbmNsdWRlcycsIHtcclxuICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widGhpc1wiIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbyA9IE9iamVjdCh0aGlzKTtcclxuICAgICAgICAgICAgdmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwO1xyXG4gICAgICAgICAgICBpZiAobGVuID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBuID0gZnJvbUluZGV4IHwgMDtcclxuICAgICAgICAgICAgdmFyIGsgPSBNYXRoLm1heChuID49IDAgPyBuIDogbGVuIC0gTWF0aC5hYnMobiksIDApO1xyXG4gICAgICAgICAgICB3aGlsZSAoayA8IGxlbikge1xyXG4gICAgICAgICAgICAgIGlmIChvW2tdID09PSBzZWFyY2hFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaysrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFBcnJheS5wcm90b3R5cGUuZmluZCkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdmaW5kJywge1xyXG4gICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xyXG4gICAgICAgICAgIC8vIDEuIExldCBPIGJlID8gVG9PYmplY3QodGhpcyB2YWx1ZSkuXHJcbiAgICAgICAgICAgIGlmICh0aGlzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInRoaXNcIiBpcyBudWxsIG9yIG5vdCBkZWZpbmVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgXHJcbiAgICAgICAgICAgIHZhciBvID0gT2JqZWN0KHRoaXMpO1xyXG4gICAgICBcclxuICAgICAgICAgICAgLy8gMi4gTGV0IGxlbiBiZSA/IFRvTGVuZ3RoKD8gR2V0KE8sIFwibGVuZ3RoXCIpKS5cclxuICAgICAgICAgICAgdmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwO1xyXG4gICAgICBcclxuICAgICAgICAgICAgLy8gMy4gSWYgSXNDYWxsYWJsZShwcmVkaWNhdGUpIGlzIGZhbHNlLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJlZGljYXRlICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncHJlZGljYXRlIG11c3QgYmUgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAgICAgICAvLyA0LiBJZiB0aGlzQXJnIHdhcyBzdXBwbGllZCwgbGV0IFQgYmUgdGhpc0FyZzsgZWxzZSBsZXQgVCBiZSB1bmRlZmluZWQuXHJcbiAgICAgICAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzWzFdO1xyXG4gICAgICBcclxuICAgICAgICAgICAgLy8gNS4gTGV0IGsgYmUgMC5cclxuICAgICAgICAgICAgdmFyIGsgPSAwO1xyXG4gICAgICBcclxuICAgICAgICAgICAgLy8gNi4gUmVwZWF0LCB3aGlsZSBrIDwgbGVuXHJcbiAgICAgICAgICAgIHdoaWxlIChrIDwgbGVuKSB7XHJcbiAgICAgICAgICAgICAgLy8gYS4gTGV0IFBrIGJlICEgVG9TdHJpbmcoaykuXHJcbiAgICAgICAgICAgICAgLy8gYi4gTGV0IGtWYWx1ZSBiZSA/IEdldChPLCBQaykuXHJcbiAgICAgICAgICAgICAgLy8gYy4gTGV0IHRlc3RSZXN1bHQgYmUgVG9Cb29sZWFuKD8gQ2FsbChwcmVkaWNhdGUsIFQsIMKrIGtWYWx1ZSwgaywgTyDCuykpLlxyXG4gICAgICAgICAgICAgIC8vIGQuIElmIHRlc3RSZXN1bHQgaXMgdHJ1ZSwgcmV0dXJuIGtWYWx1ZS5cclxuICAgICAgICAgICAgICB2YXIga1ZhbHVlID0gb1trXTtcclxuICAgICAgICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwodGhpc0FyZywga1ZhbHVlLCBrLCBvKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtWYWx1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgLy8gZS4gSW5jcmVhc2UgayBieSAxLlxyXG4gICAgICAgICAgICAgIGsrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICBcclxuICAgICAgICAgICAgLy8gNy4gUmV0dXJuIHVuZGVmaW5lZC5cclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHBvbHlmaWxsOyIsIi8vIOaooeadv+Wtl+espuS4slxyXG5cclxuZXhwb3J0IGNvbnN0IG1hc2sgPSBgXHJcbjxkaXYgY2xhc3M9XCJwaWNrZXItbWFza1wiPjwvZGl2PlxyXG5gO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJhbmdlID0gYFxyXG48ZGl2IGNsYXNzPVwicGlja2VyLXJhbmdlXCI+XHJcbiAgICA8cCBjbGFzcz1cInJhbmdlLWNoaWxkIHN0YXJ0LXRpbWUgcmFuZ2UtYWN0XCI+5byA5aeL5pel5pyfPC9wPlxyXG4gICAgPHNwYW4+6IezPC9zcGFuPlxyXG4gICAgPHAgY2xhc3M9XCJyYW5nZS1jaGlsZCBlbmQtdGltZVwiPue7k+adn+aXpeacnzwvcD5cclxuPC9kaXY+XHJcbmA7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IHBpY2tlciA9IGBcclxuPGRpdiBjbGFzcz1cInBpY2tlci13cmFwcGVyXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwicGlja2VyLWhlYWQgZmxleCBzcGFjZS1iZXR3ZWVuXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJjYW5jZWwgcGlja2VyLWJ0bl9fY2FuY2VsXCI+5Y+W5raIPC9zcGFuPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwic3VyZSBwaWNrZXItYnRuX19zdXJlXCI+56Gu5a6aPC9zcGFuPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwicGlja2VyLWJvZHlcIj5cclxuICAgICAgICAke3JhbmdlfVxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZS1jb250ZW50IGZsZXhcIj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlLWdyb3VwIGZsZXgtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LW1hc2sgbWFzay10b3BcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudC1tYXNrIG1hc2stYm90dG9tXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGUtaXRlbSBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJDFcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlLWdyb3VwIGZsZXgtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtbWFzayBtYXNrLXRvcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtbWFzayBtYXNrLWJvdHRvbVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGUtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICQyXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlLWdyb3VwIGZsZXgtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtbWFzayBtYXNrLXRvcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtbWFzayBtYXNrLWJvdHRvbVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGUtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICQzXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PlxyXG5gO1xyXG5cclxuIiwiLy8gaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gXCJhbnktcHJvbWlzZVwiO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi91dGlscyc7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvdWNocyBleHRlbmRzIFV0aWxzIHtcclxuICAgIHByaXZhdGUgX3RhcmdldDogYW55O1xyXG4gICAgcHJpdmF0ZSBfc3RhcnRZOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIF9lbmRZOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIF9yYW5nZTogbnVtYmVyO1xyXG5cclxuICAgIC8vIOi+heWKqeexu+WPguaVsFxyXG4gICAgcHJpdmF0ZSBib29sOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHByaXZhdGUgbGltaXQ6IG51bWJlciA9IDA7IC8v6ZmQ5rWBXHJcbiAgICBwcml2YXRlIF9zdGFydFRpbWU6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIF9lbmRUaW1lOiBudW1iZXIgPTA7XHJcbiAgICBwcml2YXRlIF9zdXBwb3J0VG91Y2g6IGJvb2xlYW4gPSBcIm9udG91Y2hlbmRcIiBpbiBkb2N1bWVudDsgLy/liKTmlq3mtY/op4jlmajmmK/lkKbmlK/mjIF0b3VjaFxyXG4gICAgcHJpdmF0ZSBfdG91Y2hOYW1lOiBhbnkgPSB7fTtcclxuICAgIHByaXZhdGUgX3N0YXJ0Q2I6IEZ1bmN0aW9uID0gbnVsbDtcclxuICAgIHByaXZhdGUgX21vdmVDYjogRnVuY3Rpb24gPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfZW5kQ2I6IEZ1bmN0aW9uID0gbnVsbDtcclxuICAgIHByaXZhdGUgX3RvdWNoU3RhcnRIYW5kZXI6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIF90b3VjaE1vdmVIYW5kZXI6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIF90b3VjaEVuZEhhbmRlcjogYW55ID0gbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQ6IGFueSl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnaW5pdCcpXHJcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgIHRoaXMudG91Y2hOYW1lID0ge1xyXG4gICAgICAgICAgICBzdGFydDogdGhpcy5fc3VwcG9ydFRvdWNoPyAndG91Y2hzdGFydCc6J21vdXNlZG93bicsXHJcbiAgICAgICAgICAgIG1vdmU6IHRoaXMuX3N1cHBvcnRUb3VjaD8gJ3RvdWNobW92ZSc6J21vdXNlbW92ZScsXHJcbiAgICAgICAgICAgIGVuZDogdGhpcy5fc3VwcG9ydFRvdWNoPyAndG91Y2hlbmQnOidtb3VzZXVwJyxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRhcmdldCgpOiBhbnl7XHJcbiAgICAgICAgaWYodGhpcy5fdGFyZ2V0KXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldFxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjog5rKh5pyJ5om+5YiwdGFyZ2V05a+56LGhJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzdGFydFkoKTogbnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFydFk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHN0YXJ0WSh2YWw6IG51bWJlcil7XHJcbiAgICAgICAgdGhpcy5fc3RhcnRZID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgZ2V0IGVuZFkoKTogbnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmRZOyBcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0IGVuZFkodmFsOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9lbmRZID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByYW5nZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yYW5nZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcmFuZ2UodmFsOiBudW1iZXIpe1xyXG4gICAgICAgIHRoaXMuX3JhbmdlID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0b3VjaE5hbWUoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdG91Y2hOYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB0b3VjaE5hbWUodmFsOiBhbnkpe1xyXG4gICAgICAgIHRoaXMuX3RvdWNoTmFtZSA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5pdChwYXJhbXM/OiBhbnkpe1xyXG4gICAgICAgIHRoaXMuX3N0YXJ0Q2IgPSBwYXJhbXMuc3RhcnRDYjtcclxuICAgICAgICB0aGlzLl9tb3ZlQ2IgPSBwYXJhbXMubW92ZUNiO1xyXG4gICAgICAgIHRoaXMuX2VuZENiID0gcGFyYW1zLmVuZENiO1xyXG5cclxuICAgICAgICB0aGlzLnRvdWNoU3RhcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJpbmRzKG9iaixmbil7XHJcbiAgICAgICAgcmV0dXJuIChlKT0+e1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYXJnJyxlKTsgXHJcbiAgICAgICAgICAgIGFyZ3VtZW50c1swXSA9IGU7XHJcbiAgICAgICAgICAgIGZuLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0b3VjaFN0YXJ0KCl7XHJcbiAgICAgICAgLy8gdG91Y2hzdGFydDpcclxuICAgICAgICAvLyAxLiDnu5l0YXJnZXTnu5Hlrpp0b3VjaOS6i+S7tlxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGFyZ2V0KSAgXHJcbiAgICAgICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl90b3VjaFN0YXJ0SGFuZGVyID0gdGhpcy5iaW5kcyh0aGlzLHRoaXMudG91Y2hTdGFydEhhbmRlcik7XHJcbiAgICAgICAgdGhpcy5fdG91Y2hNb3ZlSGFuZGVyID0gdGhpcy5iaW5kcyh0aGlzLHRoaXMudG91Y2hNb3ZlSGFuZGVyKTtcclxuICAgICAgICB0aGlzLl90b3VjaEVuZEhhbmRlciA9IHRoaXMuYmluZHModGhpcyx0aGlzLnRvdWNoRW5kSGFuZGVyKTtcclxuICAgICAgICBfdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnRvdWNoTmFtZS5zdGFydCx0aGlzLl90b3VjaFN0YXJ0SGFuZGVyLGZhbHNlKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRvdWNoU3RhcnRIYW5kZXIoKXtcclxuICAgICAgICBsZXQgZSA9IGFyZ3VtZW50c1swXVxyXG4gICAgICAgIHRoaXMuc3RhcnRZID0gdGhpcy5fc3VwcG9ydFRvdWNoP2UudG91Y2hlc1swXS5wYWdlWTogZS5wYWdlWTtcclxuICAgICAgICB0aGlzLl9zdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICB0aGlzLl9zdGFydENiKGUpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodGhpcy50b3VjaE5hbWUubW92ZSx0aGlzLl90b3VjaE1vdmVIYW5kZXIsZmFsc2UpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodGhpcy50b3VjaE5hbWUuZW5kLHRoaXMuX3RvdWNoRW5kSGFuZGVyLGZhbHNlKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsdGhpcy5fdG91Y2hFbmRIYW5kZXIsZmFsc2UpO1xyXG4gICAgfVxyXG4gXHJcblxyXG4gICAgcHJpdmF0ZSB0b3VjaE1vdmVIYW5kZXIoKXtcclxuICAgICAgICBsZXQgZSA9IGFyZ3VtZW50c1swXTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAvLyDpmZDmtYEtc3RhcnRcclxuICAgICAgICB0aGlzLmxpbWl0Kys7XHJcbiAgICAgICAgaWYodGhpcy5saW1pdD49NSl7XHJcbiAgICAgICAgICAgIHRoaXMubGltaXQgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmJvb2wgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZighdGhpcy5ib29sKXJldHVybjtcclxuICAgICAgICB0aGlzLmJvb2wgPSBmYWxzZTtcclxuICAgICAgICAvLyDpmZDmtYEtZW5kXHJcbiAgICAgICAgbGV0IHBhZ2VZID0gdGhpcy5fc3VwcG9ydFRvdWNoP2UudG91Y2hlc1swXS5wYWdlWTogZS5wYWdlWTtcclxuICAgICAgICB0aGlzLnJhbmdlID0gcGFnZVkgLSB0aGlzLl9zdGFydFk7XHJcbiAgICAgICAgdGhpcy5fbW92ZUNiKGUsdGhpcy5yYW5nZSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgdG91Y2hFbmRIYW5kZXIoKXsgXHJcbiAgICAgICAgbGV0IGUgPSBhcmd1bWVudHNbMF07XHJcbiAgICAgICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgICAgICAvLyB0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMudG91Y2hOYW1lLnN0YXJ0LF90aGlzLl90b3VjaFN0YXJ0SGFuZGVyLGZhbHNlKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMudG91Y2hOYW1lLm1vdmUsdGhpcy5fdG91Y2hNb3ZlSGFuZGVyLGZhbHNlKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMudG91Y2hOYW1lLmVuZCx0aGlzLl90b3VjaEVuZEhhbmRlcixmYWxzZSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLHRoaXMuX3RvdWNoRW5kSGFuZGVyLGZhbHNlKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmVuZFkgPSB0aGlzLnJhbmdlIHx8IDA7IFxyXG4gICAgICAgIC8vIOmaj+a1geaViOaenFxyXG4gICAgICAgIHRoaXMuX2VuZFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICBsZXQgcmFuZ2VUaW1lID0gKHRoaXMuX2VuZFRpbWUgLSB0aGlzLl9zdGFydFRpbWUpLzEwMDA7Ly/ljZXkvY06IOenklxyXG4gICAgICAgIGlmKHRoaXMuZW5kWSE9PTApe1xyXG5cclxuICAgICAgICAgICAgbGV0IHNwYWNlID0gTWF0aC5mbG9vcihNYXRoLmFicyh0aGlzLmVuZFkpLyhyYW5nZVRpbWUqNSkpO1xyXG4gICAgICAgICAgICB0aGlzLmVuZFkgPSB0aGlzLmVuZFk+MD8gdGhpcy5lbmRZK3NwYWNlOiB0aGlzLmVuZFktc3BhY2U7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9lbmRDYihlLCB0aGlzLmVuZFkpO1xyXG4gICAgfVxyXG59IiwiLy8g5bel5YW357G7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFV0aWxzIHtcclxuICAgIHByaXZhdGUgX2V2ZW50TGlzdHM6IG9iamVjdCA9IHt9O1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcblxyXG4gICAgcHVibGljIHNlbGVjdChlbG06IHN0cmluZywgdGFyZ2V0PzogYW55KXtcclxuICAgICAgICBpZih0YXJnZXQpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoZWxtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxtKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VsZWN0QWxsKGVsbTogc3RyaW5nLCB0YXJnZXQ/OiBhbnkpe1xyXG4gICAgICAgIGlmKHRhcmdldCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQucXVlcnlTZWxlY3RvckFsbChlbG0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbG0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVFbG0odGFyZ2V0OiBhbnksIGxhYmVsOiBzdHJpbmcsIGNsYXNzTmFtZT86IHN0cmluZyl7XHJcbiAgICAgICAgLy8g5Yib5bu65YWD57SgXHJcbiAgICAgICAgY29uc3QgJGVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobGFiZWwpO1xyXG4gICAgICAgICRlbG0uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZCgkZWxtKTtcclxuICAgICAgICByZXR1cm4gJGVsbTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0Q3NzKHRhcmdldDogYW55LCBjc3M6IG9iamVjdCl7XHJcbiAgICAgICAgLy8g6K6+572uY3Nz5qC35byPXHJcbiAgICAgICAgZm9yKGxldCBhdHRyIGluIGNzcyl7XHJcbiAgICAgICAgICAgIHRhcmdldC5zdHlsZVthdHRyXSA9IGNzc1thdHRyXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNsZWVwKGNiOiBGdW5jdGlvbiwgdGltZW91dDogbnVtYmVyKXtcclxuICAgICAgICAvLyDlu7bov59cclxuICAgICAgICBzZXRUaW1lb3V0KGNiLCB0aW1lb3V0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VG9kYXkoZm9ybWF0OiBzdHJpbmcpOiBzdHJpbmd7XHJcbiAgICAgICAgLy8g6I635Y+W5LuK5aSp55qE5pel5pyfOiAyMDE5LTAxLTAxXHJcbiAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGxldCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgIGxldCBtb250aDogYW55ID0gZGF0ZS5nZXRNb250aCgpKzE7XHJcbiAgICAgICAgbGV0IGRheTogYW55ID0gZGF0ZS5nZXREYXRlKCk7XHJcbiAgICAgICAgbW9udGggPSBtb250aD49MTA/IG1vbnRoOiAnMCcrbW9udGg7XHJcbiAgICAgICAgZGF5ID0gZGF5Pj0xMD8gZGF5OiAnMCcrZGF5O1xyXG4gICAgICAgIHJldHVybiBbeWVhcixtb250aCxkYXldLmpvaW4oZm9ybWF0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgJG9uKGV2ZW50TmFtZTogc3RyaW5nLCBmbjogRnVuY3Rpb24pe1xyXG4gICAgICAgIC8vIOiuoumYheS6i+S7tlxyXG4gICAgICAgIGlmKHRoaXMuX2V2ZW50TGlzdHNbZXZlbnROYW1lXSl7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50TGlzdHNbZXZlbnROYW1lXS5wdXNoKGZuKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5fZXZlbnRMaXN0c1tldmVudE5hbWVdID0gW2ZuXTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2V2ZW50TGlzdHMnLHRoaXMuX2V2ZW50TGlzdHNbZXZlbnROYW1lXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyAkZW1pdChldmVudE5hbWU6IHN0cmluZywgLi4uYXJncyl7XHJcbiAgICAgICAgLy8g6Kem5Y+R5LqL5Lu2XHJcbiAgICAgICAgaWYodGhpcy5fZXZlbnRMaXN0c1tldmVudE5hbWVdKXtcclxuICAgICAgICAgICAgdGhpcy5fZXZlbnRMaXN0c1tldmVudE5hbWVdLmZvckVhY2goKGZuLGkpPT57XHJcbiAgICAgICAgICAgICAgICBmbiguLi5hcmdzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzc2lnbihleHRlbmRlZCxvcHRpb25zKXtcclxuICAgICAgICBmb3IgKGxldCBwcm9wZXJ0eSBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRyeSB7IFxyXG4gICAgICAgICAgICAgIGlmIChvcHRpb25zW3Byb3BlcnR5XS5jb25zdHJ1Y3RvciA9PSBPYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIGV4dGVuZGVkW3Byb3BlcnR5XSA9IHRoaXMuYXNzaWduKGV4dGVuZGVkW3Byb3BlcnR5XSwgb3B0aW9uc1twcm9wZXJ0eV0pO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBleHRlbmRlZFtwcm9wZXJ0eV0gPSBvcHRpb25zW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgICAgZXh0ZW5kZWRbcHJvcGVydHldID0gb3B0aW9uc1twcm9wZXJ0eV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAgIHJldHVybiBleHRlbmRlZDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDoh6rlrprkuYnmj5DnpLpcclxuICAgIHB1YmxpYyBUaXAodGlwTmFtZTogc3RyaW5nLCBtc2c6IHN0cmluZywgdGltZW91dD86IG51bWJlcil7XHJcbiAgICAgICAgbGV0ICR0aXAgPSB0aGlzLnNlbGVjdCh0aXBOYW1lKTtcclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmKCEkdGlwKXtcclxuICAgICAgICAgICAgJHRpcCA9IHRoaXMuY3JlYXRlRWxtKGRvY3VtZW50LmJvZHksJ2RpdicsdGlwTmFtZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkdGlwLmlubmVySFRNTCA9IG1zZztcclxuXHJcbiAgICAgICAgdGhpcy5zZXRDc3MoJHRpcCx7XHJcbiAgICAgICAgICAgICdkaXNwbGF5JzonYmxvY2snLFxyXG4gICAgICAgICAgICAnb3BhY2l0eSc6ICcxJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNsZWVwKCgpPT57XHJcbiAgICAgICAgICAgIF90aGlzLnNldENzcygkdGlwLHtcclxuICAgICAgICAgICAgICAgICdvcGFjaXR5JzogJzAnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSx0aW1lb3V0fHwgMjAwMClcclxuXHJcbiAgICAgICAgdGhpcy5zbGVlcCgoKT0+e1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRDc3MoJHRpcCx7XHJcbiAgICAgICAgICAgICAgICAnZGlzcGxheSc6ICdub25lJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sKHRpbWVvdXR8fCAxMDAwKSszMDApXHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBwdWJsaWMgZXJyb3JUaXAobXNnOiBzdHJpbmcsIHRpbWVvdXQ/OiBudW1iZXIpe1xyXG4gICAgICAgIGxldCB0aXBOYW1lID0gJ2RhdGVQaWNrZXItZXJyb3JUaXAnO1xyXG4gICAgICAgIHRoaXMuVGlwKHRpcE5hbWUsIG1zZywgdGltZW91dCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdWNjZXNzVGlwKG1zZzogc3RyaW5nLCB0aW1lb3V0PzogbnVtYmVyKXtcclxuICAgICAgICBsZXQgdGlwTmFtZSA9ICdkYXRlUGlja2VyLXN1Y2Nlc3NUaXAnO1xyXG4gICAgICAgIHRoaXMuVGlwKHRpcE5hbWUsIG1zZywgdGltZW91dCk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbiJdfQ=="}